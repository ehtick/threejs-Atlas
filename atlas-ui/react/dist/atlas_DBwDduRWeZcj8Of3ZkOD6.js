import{r as u,j as a,c as Ut}from"./atlas_BSujyM3STIIs7ogMAeFeS.js";import{V as Bt}from"./atlas_DFpgC65o32Sm57XjKQ2G5.js";import{W as Gt}from"./atlas_XGSDCzrG-pjJUG7P8pQ46.js";import{E as Vt,R as Ot,U as Ht,S as xt}from"./atlas_DhYLk9xu4Hn3qb7qcWDa_.js";import{a5 as Wt,C as at,a6 as qt,f as Lt,G as _t,z as J,V as ot,l as $t,M as nt,A as q,B as gt,a as V,Y as vt,P as yt,b as Xt,r as Yt,v as Zt,R as Qt}from"./atlas_S2gaYUaVDGx2fzGLEfKud.js";import"./atlas_BrYhsyGbdfinGesBjh40k.js";import"./atlas_XeJvk2NHk9pvQBQNpBJiW.js";const Jt=({animationType:O,onAnimationComplete:h})=>{const R=u.useRef(null),T=u.useRef(null),I=u.useRef(null),L=u.useRef(null),B=u.useRef(null),A=u.useRef(null),[F,K]=u.useState(!1),H=u.useRef(null),_=()=>{const s=document.createElement("canvas");s.width=64,s.height=64;const m=s.getContext("2d");m.clearRect(0,0,64,64);const w=m.createRadialGradient(32,32,0,32,32,32);w.addColorStop(0,"rgba(255,255,255,1.0)"),w.addColorStop(.3,"rgba(255,255,255,0.8)"),w.addColorStop(.7,"rgba(255,255,255,0.2)"),w.addColorStop(1,"rgba(255,255,255,0.0)"),m.fillStyle=w,m.beginPath(),m.arc(32,32,32,0,Math.PI*2),m.fill();const D=new Zt(s);return D.premultiplyAlpha=!1,D.format=Qt,D},z={uniforms:{tDiffuse:{value:null},distortion:{value:0},time:{value:0}},vertexShader:`
      varying vec2 vUv;
      void main() {
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
      }
    `,fragmentShader:`
      uniform sampler2D tDiffuse;
      uniform float distortion;
      uniform float time;
      varying vec2 vUv;
      
      void main() {
        vec2 center = vec2(0.5, 0.5);
        vec2 direction = vUv - center;
        float distance = length(direction);
        
        float aberration = distortion * distance;
        
        vec2 redOffset = direction * aberration * 1.5;
        vec2 greenOffset = direction * aberration;
        vec2 blueOffset = direction * aberration * 0.5;
        
        float red = texture2D(tDiffuse, vUv + redOffset).r;
        float green = texture2D(tDiffuse, vUv + greenOffset).g;
        float blue = texture2D(tDiffuse, vUv + blueOffset).b;
        
        gl_FragColor = vec4(red, green, blue, 1.0);
      }
    `},f={uniforms:{tDiffuse:{value:null},distortionAmount:{value:0},time:{value:0}},vertexShader:`
      varying vec2 vUv;
      void main() {
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
      }
    `,fragmentShader:`
      uniform sampler2D tDiffuse;
      uniform float distortionAmount;
      uniform float time;
      varying vec2 vUv;
      
      void main() {
        vec2 center = vec2(0.5, 0.5);
        vec2 uv = vUv;
        
        vec2 direction = uv - center;
        float distance = length(direction);
        
        float waveDistortion = sin(distance * 20.0 + time * 10.0) * distortionAmount * 0.02;
        float radialDistortion = distance * distortionAmount * 0.1;
        
        uv += direction * (waveDistortion + radialDistortion);
        
        gl_FragColor = texture2D(tDiffuse, uv);
      }
    `},$=()=>{if(R.current)try{const s=new Wt;s.background=new at(17),T.current=s;const m=new qt(75,window.innerWidth/window.innerHeight,.01,1e3);m.position.set(0,0,.1),L.current=m;const w=new Gt({antialias:!0,alpha:!1});w.setSize(window.innerWidth,window.innerHeight),R.current.appendChild(w.domElement),I.current=w;const D=new Vt(w),St=new Ot(s,m);D.addPass(St);const jt=new Ht(new Lt(window.innerWidth,window.innerHeight),.3,.6,.3);D.addPass(jt);const Ct=new xt(f);D.addPass(Ct);const Pt=new xt(z);D.addPass(Pt),B.current=D;const rt=(t,n)=>{const p=new _t,x=new J({color:16777215,transparent:!0,opacity:.8});return[[[-t/2,-t/2,t/2],[t/2,-t/2,t/2]],[[t/2,-t/2,t/2],[t/2,t/2,t/2]],[[t/2,t/2,t/2],[-t/2,t/2,t/2]],[[-t/2,t/2,t/2],[-t/2,-t/2,t/2]],[[-t/2,-t/2,-t/2],[t/2,-t/2,-t/2]],[[t/2,-t/2,-t/2],[t/2,t/2,-t/2]],[[t/2,t/2,-t/2],[-t/2,t/2,-t/2]],[[-t/2,t/2,-t/2],[-t/2,-t/2,-t/2]],[[-t/2,-t/2,-t/2],[-t/2,-t/2,t/2]],[[t/2,-t/2,-t/2],[t/2,-t/2,t/2]],[[t/2,t/2,-t/2],[t/2,t/2,t/2]],[[-t/2,t/2,-t/2],[-t/2,t/2,t/2]]].forEach(([y,g])=>{const b=new ot(y[0],y[1],y[2]),v=new ot(g[0],g[1],g[2]),M=v.clone().sub(b).length(),k=new $t(n,n,M,8),S=new nt(k,x);S.position.copy(b.clone().add(v).multiplyScalar(.5)),S.lookAt(v),S.rotateX(Math.PI/2),p.add(S)}),p},i=rt(10,.05);s.add(i);const E=rt(10,.05);E.children.forEach(t=>{const n=i.children[0].material;t.material=new J({color:n.color.clone(),transparent:!0,opacity:0,blending:q})}),E.position.copy(i.position),s.add(E);const At=new Float32Array([0,0,0]),Dt=new Float32Array([1,1,1]),Et=new Float32Array([10]),X=new gt;X.setAttribute("position",new V(At,3)),X.setAttribute("color",new V(Dt,3)),X.setAttribute("size",new V(Et,1));const Y=new vt({size:7,vertexColors:!0,blending:q,transparent:!0,alphaTest:.01,map:_()}),Nt=new yt(X,Y);s.add(Nt);const N=7500,P=new Float32Array(N*3),Z=new Float32Array(N*3),st=new Float32Array(N),tt=new Float32Array(N*3),G=new Float32Array(N*3),Rt=new Float32Array(N),et=[];for(let t=0;t<N;t++){const n=3+Math.floor(Math.random()*3);let p=1/0,x=0,l=0,y=0;for(let b=0;b<n;b++){const v=(Math.random()-.5)*10,d=(Math.random()-.5)*10,M=(Math.random()-.5)*10,k=Math.sqrt(v*v+d*d+M*M),S=Math.pow(Math.random(),1.8)+k*.1;S<p&&(p=S,x=v,l=d,y=M)}const g=Math.sqrt(x*x+l*l+y*y);et.push({index:t,x,y:l,z:y,distance:g,launchTime:Math.random()*3,speed:g>0?(2+Math.random()*3)/g:1})}for(let t=0;t<N;t++){const n=et[t];P[t*3]=0,P[t*3+1]=0,P[t*3+2]=0,tt[t*3]=n.x,tt[t*3+1]=n.y,tt[t*3+2]=n.z,Rt[t]=n.distance,n.distance>0?(G[t*3]=n.x/n.distance,G[t*3+1]=n.y/n.distance,G[t*3+2]=n.z/n.distance):(G[t*3]=0,G[t*3+1]=0,G[t*3+2]=1);const p=Math.random()*.8+.4,x=Math.min(n.distance/5,1);Z[t*3]=p*(.2+x*.8),Z[t*3+1]=p*(.5+x*.5),Z[t*3+2]=p*(.8+x*.2),st[t]=Math.random()*.8+.3}const W=new gt;W.setAttribute("position",new V(P,3)),W.setAttribute("color",new V(Z,3)),W.setAttribute("size",new V(st,1));const it=new vt({size:.1,vertexColors:!0,blending:q,transparent:!0,alphaTest:.01,depthWrite:!1,map:_()}),ct=new yt(W,it);s.add(ct);const Q=[];for(let t=0;t<8;t++){const n=new nt(new Xt(1,32,32),new J({color:new at().setHSL(t*.08,1,.7),transparent:!0,opacity:0,wireframe:!0,blending:q}));Q.push(n),s.add(n)}const lt=[],Tt=200;for(let t=0;t<Tt;t++){const n=new nt(new Yt(.1,.1,.1),new J({color:new at().setHSL(Math.random()*.2,1,.8),transparent:!0,opacity:0,blending:q}));n.userData={direction:new ot((Math.random()-.5)*2,(Math.random()-.5)*2,(Math.random()-.5)*2).normalize(),speed:Math.random()*10+5,life:Math.random()*2+1},lt.push(n),s.add(n)}let It=Date.now();const dt=()=>{const t=(Date.now()-It)/1e3,n=10,p=7.5,x=2,l=1.5,y=B.current,g=y?.passes[1],b=y?.passes[2],v=y?.passes[3],d=Math.min(t/l,1),M=t<l;if(g&&b&&v)if(M){const e=Math.sin(d*Math.PI);g.strength=.2+e*.4,g.radius=.5+e*.1,b.uniforms.distortionAmount.value=e*2.5,b.uniforms.time.value=t,v.uniforms.distortion.value=e*.4,v.uniforms.time.value=t}else{const e=Math.max(0,1-(t-l)/2);g.strength=.3+e*.4,g.radius=.6+e*.1,b.uniforms.distortionAmount.value=e*.1,b.uniforms.time.value=t,v.uniforms.distortion.value=e*.03,v.uniforms.time.value=t}if(M){const e=d<.2?Math.sin(d*Math.PI*10)*.5+1:Math.max(0,1-d*2);Q.forEach((o,c)=>{const j=c*.08,C=Math.max(0,d-j);if(C>0){const U=C*(40+c*8);o.scale.setScalar(U),o.material.opacity=Math.max(0,1.2-c*.1-C*.8)}}),lt.forEach(o=>{const c=d*o.userData.life;if(c>0){const j=c*o.userData.speed,C=o.userData.direction.clone().multiplyScalar(j);o.position.copy(C),o.material.opacity=Math.max(0,1-c/o.userData.life),o.rotation.x+=.2,o.rotation.y+=.15,o.rotation.z+=.25}}),m.fov=75+Math.sin(d*Math.PI)*40,m.updateProjectionMatrix();const r=Math.sin(t*80)*.5+1;Y.size=15+r*20*(1-d),Y.opacity=Math.min(1.5,1+e*.8-d)}else{Y.opacity=0;const e=t-l,r=2;if(e<r){const o=e/r;Q.forEach((c,j)=>{c.material.opacity=Math.max(0,(.3-j*.05)*(1-o))})}else Q.forEach(o=>{o.material.opacity=0})}const k=t<l?d*.1:.1+(1-.1)*Math.pow(Math.min((t-l)/2,1),.7);for(let e=0;e<N;e++){const r=et[e],o=r.launchTime,c=r.speed;if(t>o){const j=t-o,C=Math.min(j*c,1),U=Math.pow(C,.8);P[e*3]=r.x*U*k,P[e*3+1]=r.y*U*k,P[e*3+2]=r.z*U*k}else P[e*3]=0,P[e*3+1]=0,P[e*3+2]=0}if(W.attributes.position.needsUpdate=!0,it.opacity=Math.min(t*1.2,1),t<l*.3)i.scale.setScalar(.01),i.rotation.x=0,i.rotation.y=0,i.rotation.z=0;else if(t<l){const e=(d-.3)/.7,r=Math.pow(e,.3)*.8,o=(1-e)*.5,c={x:(Math.random()-.5)*o,y:(Math.random()-.5)*o,z:(Math.random()-.5)*o};i.scale.setScalar(r),i.position.set(c.x,c.y,c.z),i.rotation.x=t*(1.5+Math.sin(t*20)*1),i.rotation.y=t*(2+Math.cos(t*15)*1.5),i.rotation.z=t*(1+Math.sin(t*25)*.5)}else{const e=t-l,r=.8;if(e<r){const U=e/r,kt=1-Math.pow(U,2);i.position.multiplyScalar(kt)}else i.position.set(0,0,0);const o=.8+Math.pow(Math.min(e/3,1),.5)*.2;i.scale.setScalar(o);const c=Math.min(e/1,1),j=.2+e*.7,C=t*j*c;i.rotation.x=Math.sin(C*.7)*.3,i.rotation.y=C*.8,i.rotation.z=Math.cos(C*.5)*.25}if(ct.rotation.copy(i.rotation),E.position.set(0,0,0),E.rotation.copy(i.rotation),M)E.children.forEach(e=>{const r=e.material;r.opacity=0});else{const e=t-l;if(e>0){const r=1+e*50;E.scale.setScalar(r);const o=Math.max(0,.9-e*.4);E.children.forEach(c=>{const j=c.material;j.opacity=o})}else E.children.forEach(r=>{const o=r.material;o.opacity=0})}let S=8;if(!M){const e=t-l;if(t>=p){const r=Math.min((t-p)/x,1),o=Math.pow(r,2);S=Math.max(.5,2-o*1.8)}else S=Math.max(2,8-e*.8)}const mt=S+Math.sin(t*.3)*1,ut=t*.15,Ft=Math.sin(t*.08)*2;let ht=Math.cos(ut)*mt,ft=Ft,pt=Math.sin(ut)*mt;if(M){const e=Math.sin(d*Math.PI)*.8;ht+=(Math.random()-.5)*e,ft+=(Math.random()-.5)*e,pt+=(Math.random()-.5)*e}if(m.position.set(ht,ft,pt),m.lookAt(0,0,0),B.current?B.current.render():w.render(s,m),t>=p&&H.current){const e=Math.min((t-p)/x,1),r=Math.pow(e,2);H.current.style.opacity=r.toString()}if(t>n&&h){h();return}A.current=requestAnimationFrame(dt)};dt()}catch{}};return u.useEffect(()=>{O&&!F&&(K(!0),setTimeout(()=>{$()},100))},[O,F]),u.useEffect(()=>()=>{A.current&&cancelAnimationFrame(A.current),I.current&&R.current&&I.current.domElement.parentNode&&(R.current.removeChild(I.current.domElement),I.current.dispose())},[]),F?a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:R,className:"fixed inset-0 z-50 bg-black",style:{width:"100vw",height:"100vh"}}),a.jsx("div",{ref:H,className:"fixed inset-0 z-[51] bg-black pointer-events-none",style:{width:"100vw",height:"100vh",opacity:0,transition:"none"}})]}):null},Kt=({version:O})=>{const[h,R]=u.useState(""),[T,I]=u.useState("selection"),[L,B]=u.useState(null),[A,F]=u.useState(!1),K=[{value:"default",title:"The Core Continuum",description:"Venture into the primordial universe where time and space converge for you, exploring the vast cosmos we all traverse as a single entity."},{value:"custom",title:"Design the Multiverse",description:"Generate a personal universe with its own seed and cosmic origin time, a completely unique creation entirely shaped by your decision."}],H=f=>{R(f)},_=async f=>{if(f.preventDefault(),!h||T!=="selection"||A)return;F(!0);const $=new FormData;$.append("universe_type",h);try{const s=await fetch("/onboarding",{method:"POST",body:$});s.ok?(I("animating"),B(h==="default"?"core":"multiverse")):(console.error("Server responded with error:",s.status),F(!1))}catch(s){console.error("Error creating universe:",s),F(!1)}},z=async()=>{window.location.href="/"};return a.jsxs(a.Fragment,{children:[L&&a.jsx("div",{className:"fixed inset-0 bg-black z-50",children:a.jsx(Jt,{animationType:L,onAnimationComplete:z})}),a.jsxs("div",{className:`w-full min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white transition-opacity duration-500 flex flex-col ${T!=="selection"?"opacity-0 pointer-events-none":"opacity-100"}`,children:[a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a.jsxs("div",{className:"relative z-10 flex-1 flex flex-col",children:[a.jsx("header",{className:"bg-black/20 backdrop-blur-md border-b border-white/10 px-4 sm:px-6 py-6",children:a.jsxs("div",{className:"w-full flex flex-col items-center space-y-4",children:[a.jsx("img",{src:"/static/atlas-logo.jpg",alt:"Atlas Logo",className:"h-16 w-16 sm:h-20 sm:w-20 rounded-full border-2 border-cyan-400 shadow-lg animate-pulse"}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Atlas Initialization Protocol"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-300 mt-2",children:"Quantum Navigation System Startup Sequence"})]})]})}),a.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 sm:py-12 flex-1",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("form",{onSubmit:_,className:"space-y-8",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Will you journey through a shared universe or forge a new one of your own?"})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 mb-12",children:K.map(f=>a.jsx("div",{onClick:()=>H(f.value),className:`
                        relative group cursor-pointer transition-all duration-500 transform hover:scale-105
                        ${h===f.value?"shadow-2xl shadow-cyan-400/25 scale-105":"hover:shadow-xl hover:shadow-blue-500/20"}
                      `,children:a.jsxs("div",{className:"bg-gradient-to-br from-slate-800/80 via-slate-700/80 to-slate-800/80 backdrop-blur-lg rounded-2xl border border-white/10 p-6 sm:p-8 h-full",children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("div",{className:`
                            w-6 h-6 rounded-full border-2 transition-all duration-300
                            ${h===f.value?"bg-cyan-400 border-cyan-400 shadow-lg shadow-cyan-400/50":"border-gray-400 group-hover:border-cyan-400"}
                          `,children:h===f.value&&a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-ping"})})})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent",children:f.title}),a.jsx("p",{className:"text-gray-300 leading-relaxed text-sm sm:text-base",children:f.description})]}),a.jsx("div",{className:`
                          absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300
                          bg-gradient-to-br from-cyan-500/10 via-blue-500/10 to-purple-500/10
                          ${h===f.value?"opacity-20":""}
                        `})]})},f.value))}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{type:"submit",disabled:!h||T!=="selection"||A,className:`
                      relative overflow-hidden group px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-500 transform
                      ${h&&T==="selection"&&!A?"bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 text-white shadow-2xl shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-110 active:scale-95":"bg-gray-600 text-gray-400 cursor-not-allowed"}
                    `,children:[h&&T==="selection"&&!A&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 opacity-20 group-hover:opacity-40 transition-opacity duration-300"}),a.jsx("span",{className:"relative z-10 flex items-center justify-center space-x-3",children:A?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{children:"Initializing..."})]}):a.jsx("span",{children:h?"Initialize Protocol":"Select Universe Type"})})]})})]})})}),a.jsx(Bt,{version:O})]})]})]})},wt=document.querySelector('meta[name="atlas-version"]'),bt=document.querySelector('meta[name="atlas-version-hash"]'),zt={version:wt&&wt.getAttribute("content")||"1.0.0",versionHash:bt&&bt.getAttribute("content")||""},Mt=document.getElementById("atlas-react-root");Mt&&Ut.createRoot(Mt).render(u.createElement(Kt,zt));
