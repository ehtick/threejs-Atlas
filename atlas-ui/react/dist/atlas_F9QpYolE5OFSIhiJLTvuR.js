import{j as a,r as x}from"./atlas_Bv5zr7cG9joXJ1l7Eo-6s.js";const z=()=>a.jsx("header",{className:"bg-black/20 backdrop-blur-md border-b border-white/10 px-4 sm:px-6 py-4",children:a.jsxs("div",{className:"w-full flex items-center justify-between",children:[a.jsxs("a",{href:"/",className:"flex items-center space-x-3 sm:space-x-4",children:[a.jsx("img",{src:"/static/atlas-logo.jpg",alt:"Atlas Logo",className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full border-2 border-blue-400 shadow-lg"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white",children:"The Atlas"}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-400 hidden sm:block",children:"Universal Navigation System"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"ONLINE"})]}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-400 hidden lg:block",children:"Quantum Navigation Ready"})]})]})}),w=g=>{const[e,t,s]=g.split(",").map(Number);return`${e.toString(36)}_${t.toString(36)}_${s.toString(36)}`};class S{static STORAGE_KEY="__atlasArchive";static MAX_ENTRIES_PER_GALAXY=1e3;static getData(){try{this.cleanupLegacyStorage();const e=localStorage.getItem(this.STORAGE_KEY);if(!e)return{g:{},gv:{}};const t=JSON.parse(e);return t.gv||(t.gv={}),t}catch(e){return console.error("Error reading Atlas archive:",e),{g:{},gv:{}}}}static cleanupLegacyStorage(){try{const e="atlasHistoricalData";localStorage.getItem(e)&&localStorage.removeItem(e)}catch(e){console.error("Error cleaning up legacy storage:",e)}}static saveData(e){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(t){console.error("Error saving Atlas archive:",t)}}static performCleanup(e){const t=Object.keys(e.g);t.length>100&&t.slice(0,t.length-100).forEach(r=>delete e.g[r]),Object.keys(e.g).forEach(s=>{const r=e.g[s],n=Object.keys(r);n.length>this.MAX_ENTRIES_PER_GALAXY&&n.slice(0,n.length-this.MAX_ENTRIES_PER_GALAXY).forEach(o=>delete r[o])})}static performEmergencyCleanup(){const e=document.body.getAttribute("data-coordinates");if(e){const t=w(e),s=this.getData(),r=s.g[t];s.g={},r&&(s.g[t]=r),this.saveData(s)}}static markPlanetVisited(e,t,s,r){const n=this.getData(),i=w(e),o=t.toString(16),l=r.findIndex(p=>p.name.toLowerCase()===s.toLowerCase());if(l===-1){console.warn(`Planet ${s} not found in system planets list`);return}n.g[i]||(n.g[i]={}),n.g[i][o]||(n.g[i][o]="");const d=this.bitmapToIndices(n.g[i][o]);d.includes(l)||(d.push(l),n.g[i][o]=this.indicesToBitmap(d),this.saveData(n))}static markGalaxyVisited(e){const t=this.getData(),s=w(e);t.gv[s]||(t.gv[s]=!0,console.log(`üåå Galaxy marked as visited: ${e} (hash: ${s})`),this.saveData(t))}static markSystemVisited(e,t){const s=this.getData(),r=w(e),n=t.toString(16);this.markGalaxyVisited(e),s.g[r]||(s.g[r]={}),s.g[r][n]||(s.g[r][n]="",this.saveData(s))}static bitmapToIndices(e){return e?e.split("").map((t,s)=>t==="1"?s:-1).filter(t=>t!==-1):[]}static indicesToBitmap(e){if(e.length===0)return"";const t=Math.max(...e),s=Array(t+1).fill("0");return e.forEach(r=>{r>=0&&(s[r]="1")}),s.join("")}static isGalaxyVisited(e){const t=this.getData(),s=w(e);return!!t.gv[s]}static isSystemVisited(e,t){const s=this.getData(),r=w(e),n=t.toString(16);return!!(s.g[r]&&n in s.g[r])}static getVisitedPlanets(e,t,s){const r=this.getData(),n=w(e),i=t.toString(16),o=r.g[n]?.[i]||"";return this.bitmapToIndices(o).map(d=>{const p=s[d];return p?p.name.toLowerCase():null}).filter(d=>d!==null)}static getVisitedPlanetCount(e,t){const s=this.getData(),r=w(e),n=t.toString(16),i=s.g[r]?.[n]||"";return this.bitmapToIndices(i).length}static getStorageStats(){const e=this.getData(),t=JSON.stringify(e);let s=0,r=0;Object.values(e.g).forEach(l=>{s+=Object.keys(l).length,Object.values(l).forEach(d=>{typeof d=="string"&&(r+=(d.match(/1/g)||[]).length)})});const n=new Set(Object.keys(e.g||{})),i=new Set(Object.keys(e.gv||{})),o=new Set([...n,...i]);return{size:t.length,galaxies:o.size,visitedGalaxies:Object.keys(e.gv).length,systems:s,planets:r}}}const J=g=>{S.markGalaxyVisited(g)},X=(g,e,t,s)=>{S.markPlanetVisited(g,e,t,s)},W=(g,e)=>{S.markSystemVisited(g,e)},q=(g,e,t)=>S.getVisitedPlanets(g,e,t),B=(g,e)=>S.isSystemVisited(g,e),Q=(g,e,t,s)=>{if(!B(g,e))return"none";{const r=S.getVisitedPlanetCount(g,e);return r>=t&&t>0?"complete":(r>0,"partial")}},H=()=>S.getStorageStats();class _{static STORAGE_KEY="_atlasDailyChallenges";static BASE_GOALS={galaxies:1,systems:5,planets:10};static getTodaysChallenges(){const e=new Date().toISOString().split("T")[0],t=this.getStoredChallenges();return!t||t.date!==e?this.createNewDayChallenges(e,t):t}static getStoredChallenges(){try{const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):null}catch(e){return console.error("Error reading daily challenges:",e),null}}static createNewDayChallenges(e,t){const s=t?t.dayNumber+1:1,r=Math.min(1+(s-1)*.1,2),n=this.getCurrentStats(),i=[{type:"galaxies",current:n.galaxies,target:Math.ceil(this.BASE_GOALS.galaxies*r),dayNumber:s,completed:!1},{type:"systems",current:n.systems,target:Math.ceil(this.BASE_GOALS.systems*r),dayNumber:s,completed:!1},{type:"planets",current:n.planets,target:Math.ceil(this.BASE_GOALS.planets*r),dayNumber:s,completed:!1}],o={date:e,dayNumber:s,challenges:i,lastReset:Date.now(),totalCompletedDays:this.migrateCompletionHistory()};return this.saveChallenges(o),o}static getCurrentStats(){try{const e=localStorage.getItem("__atlasArchive");if(!e)return{galaxies:0,systems:0,planets:0};const t=JSON.parse(e);let s=0,r=0;Object.values(t.g||{}).forEach(l=>{s+=Object.keys(l).length,Object.values(l).forEach(d=>{typeof d=="string"&&(r+=(d.match(/1/g)||[]).length)})});const n=new Set(Object.keys(t.g||{})),i=new Set(Object.keys(t.gv||{}));return{galaxies:new Set([...n,...i]).size,systems:s,planets:r}}catch(e){return console.error("Error getting current stats:",e),{galaxies:0,systems:0,planets:0}}}static updateProgress(){const e=this.getTodaysChallenges(),t=this.getCurrentStats();return e.challenges.every(r=>r.completed),e.challenges.forEach(r=>{const n=t[r.type];r.current=n,r.completed=n>=r.target}),e.challenges.every(r=>r.completed)&&!this.isDayAlreadyRecorded(e)&&this.recordCompletedDay(e.date),this.saveChallenges(e),e}static recordCompletedDay(e){try{const t=this.getTodaysChallenges();t.completedDates||(t.completedDates=[]),t.completedDates.includes(e)||(t.completedDates.push(e),t.totalCompletedDays=(t.totalCompletedDays||0)+1,this.saveChallenges(t))}catch(t){console.error("Error recording completed day:",t)}}static migrateCompletionHistory(){try{const e="_atlasCompletionHistory",t=localStorage.getItem(e);if(t){const s=JSON.parse(t),r=Array.isArray(s)?s.length:0;return localStorage.removeItem(e),r}return 0}catch(e){return console.error("Error migrating completion history:",e),0}}static getCompletedDaysCount(){try{return this.getTodaysChallenges().totalCompletedDays||0}catch(e){return console.error("Error getting completed days count:",e),0}}static isDayAlreadyRecorded(e){const t=e.date;return(e.completedDates||[]).includes(t)}static saveChallenges(e){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(t){console.error("Error saving daily challenges:",t)}}static getCompletionStatus(){const e=this.getTodaysChallenges(),t=e.challenges.filter(r=>r.completed).length,s=e.challenges.length;return{completed:t,total:s,allCompleted:t===s}}static getDayInfo(){const e=this.getTodaysChallenges();return{dayNumber:e.dayNumber,multiplier:Math.min(1+(e.dayNumber-1)*.1,2)}}}class C{static STORAGE_KEY="_atlasLocations";static BASE_MAX_LOCATIONS=5;static BONUS_PER_COMPLETION=5;static ABSOLUTE_MAX_LOCATIONS=999;static getLocations(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return console.error("Error reading saved locations:",e),[]}}static async saveLocation(e){try{const t=this.getLocations(),s=this.getCurrentMaxLocations(),r=t.findIndex(i=>i.stargateUrl===e.stargateUrl),n={...e,id:this.generateId(),timestamp:Date.now()};return r!==-1?(t[r]=n,localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t)),!0):t.length>=s&&!await this.showSlotFullDialog(s)?!1:(t.push(n),t.length>s&&(t.sort((i,o)=>o.timestamp-i.timestamp),t.splice(s)),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t)),!0)}catch(t){return console.error("Error saving location:",t),!1}}static saveLocationSync(e){const t=this.getLocations(),s=this.getCurrentMaxLocations(),r=t.findIndex(i=>i.stargateUrl===e.stargateUrl),n={...e,id:this.generateId(),timestamp:Date.now()};r!==-1?t[r]=n:t.push(n),t.length>s&&(t.sort((i,o)=>o.timestamp-i.timestamp),t.splice(s)),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}static removeLocation(e){try{const s=this.getLocations().filter(r=>r.id!==e);localStorage.setItem(this.STORAGE_KEY,JSON.stringify(s))}catch(t){console.error("Error removing location:",t)}}static clearAllLocations(){try{localStorage.removeItem(this.STORAGE_KEY)}catch(e){console.error("Error clearing locations:",e)}}static generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}static async showSlotFullDialog(e){return new Promise(t=>{const s=document.createElement("div");s.className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75";const r=document.createElement("div");r.className="bg-gray-900 border border-gray-600 rounded-lg p-6 max-w-md mx-4 text-white shadow-xl",r.innerHTML=`
        <div class="text-center">
          <div class="text-4xl mb-4">üìç</div>
          <h2 class="text-xl font-bold mb-4 text-yellow-300">No Free Slots Available</h2>
          <p class="text-gray-300 mb-4">
            You have reached your maximum of <span class="font-bold text-yellow-400">${e}</span> saved locations.
          </p>
          <p class="text-gray-300 mb-6 text-sm">
            Complete daily challenges to increase your Saved Locations storage capacity.
          </p>
          <p class="text-gray-200 mb-6">
            Would you like to overwrite the oldest saved location?
          </p>
          <div class="flex gap-3 justify-center">
            <button id="cancelSave" class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors">
              Cancel
            </button>
            <button id="confirmOverwrite" class="px-4 py-2 bg-yellow-600 hover:bg-yellow-500 rounded-md transition-colors font-semibold">
              Overwrite
            </button>
          </div>
        </div>
      `,s.appendChild(r),document.body.appendChild(s);const n=r.querySelector("#cancelSave"),i=r.querySelector("#confirmOverwrite"),o=()=>{document.body.removeChild(s)};n?.addEventListener("click",()=>{o(),t(!1)}),i?.addEventListener("click",()=>{o(),t(!0)}),s.addEventListener("click",d=>{d.target===s&&(o(),t(!1))});const l=d=>{d.key==="Escape"&&(o(),document.removeEventListener("keydown",l),t(!1))};document.addEventListener("keydown",l)})}static hasAvailableSlot(){const e=this.getLocations(),t=this.getCurrentMaxLocations();return e.length<t}static getAvailableSlots(){const e=this.getLocations(),t=this.getCurrentMaxLocations();return Math.max(0,t-e.length)}static getCurrentMaxLocations(){try{const e=this.getCompletedDaysCount(),t=_.getCompletionStatus().allCompleted?1:0,s=this.BASE_MAX_LOCATIONS+(e+t)*this.BONUS_PER_COMPLETION;return Math.min(s,this.ABSOLUTE_MAX_LOCATIONS)}catch(e){return console.error("Error calculating max locations:",e),this.BASE_MAX_LOCATIONS}}static getCompletedDaysCount(){try{const e=localStorage.getItem("_atlasDailyChallenges");return e&&JSON.parse(e).totalCompletedDays||0}catch(e){return console.error("Error getting completion history:",e),0}}static getLocationStats(){const e=this.getLocations(),t=this.getCurrentMaxLocations();return console.log("Location debug:",{completedDays:this.getCompletedDaysCount(),todayCompleted:_.getCompletionStatus().allCompleted,maxAllowed:t}),{total:e.length,galaxies:e.filter(s=>s.type==="galaxy").length,systems:e.filter(s=>s.type==="system").length,planets:e.filter(s=>s.type==="planet").length,maxAllowed:t,available:Math.max(0,t-e.length)}}static async saveLocationWithConfirmation(e,t,s){try{const r={name:e,type:t,stargateUrl:s};return await this.saveLocation(r)?{success:!0,message:`Location "${e}" saved successfully!`}:{success:!1,message:"Save operation cancelled by user."}}catch(r){return console.error("Error saving location with confirmation:",r),{success:!1,message:"Failed to save location. Please try again."}}}}class v{static STORAGE_KEY="_atlasSpaceShip";static COLLECTION_COOLDOWNS={planet:900*1e3,system:2700*1e3,galaxy:5400*1e3};static PASSIVE_INTERVAL=300*1e3;static DEFAULT_DATA={r:{a:300,e:200,d:250},u:{l:1,ef:1,rn:500,st:1e3,pg:1},c:{},t:{},s:{tc:0,tr:{a:0,e:0,d:0},tt:0,cs:0,dc:0}};static getData(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(!e)return this.saveData(this.DEFAULT_DATA),{...this.DEFAULT_DATA};const t=JSON.parse(e),s=this.expandData(t);return{r:s.r||{...this.DEFAULT_DATA.r},u:s.u||{...this.DEFAULT_DATA.u},c:s.c||{},t:s.t||{},s:s.s||{...this.DEFAULT_DATA.s}}}catch(e){return console.error("Error reading spaceship data:",e),{...this.DEFAULT_DATA}}}static saveData(e){try{const s=Date.now()-1440*60*1e3;Object.keys(e.c).forEach(i=>{e.c[i]<s&&delete e.c[i]});const r=Object.keys(e.c);if(r.length>500){const i=r.sort((l,d)=>e.c[l]-e.c[d]);i.slice(0,i.length-500).forEach(l=>delete e.c[l])}const n=this.compactData(e);localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n))}catch(t){console.error("Error saving spaceship data:",t),t.name==="QuotaExceededError"&&this.performEmergencyCleanup()}}static performEmergencyCleanup(){const e=this.getData();e.c={},e.s={tc:0,tr:{a:0,e:0,d:0},tt:0},this.saveData(e)}static getResources(){const e=this.getData();return{antimatter:e.r.a,element115:e.r.e,deuterium:e.r.d}}static setResources(e){const t=this.getData(),s=t.u;t.r.a=Math.min(Math.max(0,e.antimatter),s.st),t.r.e=Math.min(Math.max(0,e.element115),s.st),t.r.d=Math.min(Math.max(0,e.deuterium),s.st),this.saveData(t)}static addResources(e){const t=this.getData(),s=t.u;t.r.a=Math.min(t.r.a+e.antimatter,s.st),t.r.e=Math.min(t.r.e+e.element115,s.st),t.r.d=Math.min(t.r.d+e.deuterium,s.st),t.s&&(t.s.tr=t.s.tr||{a:0,e:0,d:0},t.s.tr.a+=e.antimatter,t.s.tr.e+=e.element115,t.s.tr.d+=e.deuterium),this.saveData(t)}static consumeResources(e){const t=this.getData(),s={antimatter:Math.floor(e.antimatter/t.u.ef),element115:Math.floor(e.element115/t.u.ef),deuterium:Math.floor(e.deuterium/t.u.ef)};return t.r.a>=s.antimatter&&t.r.e>=s.element115&&t.r.d>=s.deuterium?(t.r.a-=s.antimatter,t.r.e-=s.element115,t.r.d-=s.deuterium,t.s&&(t.s.tt=(t.s.tt||0)+1),this.saveData(t),!0):!1}static getUpgrade(){const e=this.getData();return{level:e.u.l,efficiency:e.u.ef,range:e.u.rn,storage:e.u.st,passiveGeneration:e.u.pg}}static upgradeShip(e){const t=this.getData();if(t.u.l>=100)return!1;if(t.r.a>=e.antimatter&&t.r.e>=e.element115&&t.r.d>=e.deuterium){t.r.a-=e.antimatter,t.r.e-=e.element115,t.r.d-=e.deuterium,t.u.l+=1;let r=Math.min(4,1+(t.u.l-1)*.2),n=t.u.l<=25?500+(t.u.l-1)*200:5500+Math.floor(Math.log(t.u.l-25+1)*800);n=Math.min(n,25e3);let i=t.u.l<=20?1e3+(t.u.l-1)*400:1e3+20*400+Math.floor(Math.log(t.u.l-20+1)*1200);i=Math.min(i,5e4);let o=Math.min(6,1+(t.u.l-1)*.3);return t.u.l%5===0&&(r*=1.3,n=Math.min(n*1.2,25e3),i=Math.min(i*1.15,5e4),o*=1.4),t.u.ef=Math.min(6,r),t.u.rn=Math.floor(n),t.u.st=Math.floor(i),t.u.pg=Math.min(10,o),this.saveData(t),!0}return!1}static getLocationTypeFromId(e){return e.startsWith("planet_")?"planet":e.startsWith("system_")?"system":e.startsWith("galaxy_")?"galaxy":"planet"}static getCooldownForLocation(e){const t=this.getLocationTypeFromId(e);return this.COLLECTION_COOLDOWNS[t]}static canCollectFromLocation(e){const s=this.getData().c[e];if(!s)return!0;const r=Date.now(),n=this.getCooldownForLocation(e);return r-s>=n}static getTimeUntilNextCollection(e){const s=this.getData().c[e];if(!s)return 0;const r=Date.now(),i=this.getCooldownForLocation(e)-(r-s);return i>0?i/(1e3*60*60):0}static markLocationCollected(e){const t=this.getData();t.c[e]=Date.now(),this.updateCollectionStreaks(t),this.saveData(t)}static updateCollectionStreaks(e){const t=Date.now(),s=new Date(t).toDateString(),r=e.t.lc?new Date(e.t.lc).toDateString():null;if(e.s||(e.s={tc:0,tr:{a:0,e:0,d:0},tt:0,cs:0,dc:0}),e.s.tc=(e.s.tc||0)+1,s!==r){if(e.t.lc=t,r){const n=new Date(e.t.lc),i=new Date(t),o=Math.floor((i.getTime()-n.getTime())/(1e3*60*60*24));o===1?e.s.cs=(e.s.cs||0)+1:o>1&&(e.s.cs=1)}else e.s.cs=1;e.s.dc=1}else e.s.dc=(e.s.dc||0)+1}static getCollectionStreakInfo(){const e=this.getData(),t=e.s?.cs||0,s=e.s?.dc||0,r=t>=3?1.25:1;return{currentStreak:t,dailyCollections:s,streakMultiplier:r}}static getCollectionCount(e){const t=this.getData();return Object.keys(t.c).filter(r=>r.startsWith(e.split("_")[0])).length}static shouldProcessPassive(){const e=this.getData(),t=Date.now(),s=e.t.lp||0;return t-s>=this.PASSIVE_INTERVAL}static markPassiveProcessed(){const e=this.getData();e.t.lp=Date.now(),this.saveData(e)}static getStats(){const e=this.getData();return{totalCollections:e.s?.tc||0,totalResourcesCollected:e.s?.tr||{antimatter:0,element115:0,deuterium:0},totalTravels:e.s?.tt||0}}static migrateFromOldStorage(){try{const e=["atlas_ship_resources","atlas_ship_upgrades","atlas_resource_collections","_atlasSpaceShip_collections","_atlasSpaceShip_lastPassive","atlas_last_resource_generation","atlas_last_passive_generation"];if(localStorage.getItem(this.STORAGE_KEY))return;const s=localStorage.getItem("atlas_ship_resources"),r=localStorage.getItem("atlas_ship_upgrades"),n=localStorage.getItem("atlas_resource_collections")||localStorage.getItem("_atlasSpaceShip_collections"),i={...this.DEFAULT_DATA};if(s)try{const o=JSON.parse(s);i.r.a=o.antimatter||150,i.r.e=o.element115||100,i.r.d=o.deuterium||125}catch{}if(r)try{const o=JSON.parse(r);i.u.l=o.level||1,i.u.ef=o.efficiency||1,i.u.rn=o.range||300,i.u.st=o.storage||500,i.u.pg=o.passiveGeneration||1}catch{}if(n)try{const o=JSON.parse(n);Object.keys(o).forEach(l=>{o[l].lastCollected&&(i.c[o[l].id]=o[l].lastCollected)})}catch{}this.saveData(i),e.forEach(o=>{try{localStorage.removeItem(o)}catch{}}),console.log("Successfully migrated to unified spaceship storage")}catch(e){console.error("Error during migration:",e)}}static reset(){localStorage.removeItem(this.STORAGE_KEY)}static getStorageSize(){return(localStorage.getItem(this.STORAGE_KEY)||"{}").length}static compactData(e){const t=Date.now(),s={};Object.keys(e.c).forEach(n=>{s[n]=Math.floor((t-e.c[n])/1e3)});const r={r:e.r,u:e.u,c:s,s:e.s};return e.t&&(r.t={},e.t.lp&&(r.t.lp=Math.floor((t-e.t.lp)/1e3)),e.t.ld&&(r.t.ld=Math.floor((t-e.t.ld)/1e3)),e.t.lc&&(r.t.lc=Math.floor((t-e.t.lc)/1e3))),r}static expandData(e){const t=Date.now(),s={};e.c&&Object.keys(e.c).forEach(n=>{const i=e.c[n];i>1e9?s[n]=i:s[n]=t-i*1e3});const r={r:e.r||{a:300,e:200,d:250},u:e.u||{l:1,ef:1,rn:500,st:1e3,pg:1},c:s,t:{},s:e.s||{tc:0,tr:{a:0,e:0,d:0},tt:0,cs:0,dc:0}};if(e.t){if(e.t.lp){const n=e.t.lp;r.t.lp=n>1e9?n:t-n*1e3}if(e.t.ld){const n=e.t.ld;r.t.ld=n>1e9?n:t-n*1e3}if(e.t.lc){const n=e.t.lc;r.t.lc=n>1e9?n:t-n*1e3}}return r}}class m{static initialize(){v.migrateFromOldStorage()}static getResources(){return v.getResources()}static getUpgrade(){return v.getUpgrade()}static addResources(e){v.addResources({antimatter:e.antimatter||0,element115:e.element115||0,deuterium:e.deuterium||0})}static consumeResources(e){return v.consumeResources(e)}static calculateTravelCost(e,t=0){const r={galaxy:{antimatter:25,element115:20,deuterium:15},system:{antimatter:8,element115:6,deuterium:10},planet:{antimatter:2,element115:1,deuterium:3}}[e],n=Math.max(1,t/100);return{antimatter:Math.floor(r.antimatter*n),element115:Math.floor(r.element115*n),deuterium:Math.floor(r.deuterium*n)}}static canAffordTravel(e,t=0){const s=this.calculateTravelCost(e,t),r=this.getResources(),n=this.getUpgrade(),i={antimatter:Math.floor(s.antimatter/n.efficiency),element115:Math.floor(s.element115/n.efficiency),deuterium:Math.floor(s.deuterium/n.efficiency)};return r.antimatter>=i.antimatter&&r.element115>=i.element115&&r.deuterium>=i.deuterium&&t<=n.range}static getUpgradeCost(e){const s=Math.pow(1.4,e-1);return{antimatter:Math.floor(80*s),element115:Math.floor(80*s*1.3),deuterium:Math.floor(80*s*.9)}}static canAffordUpgrade(){const e=this.getUpgrade();if(e.level>=100)return!1;const s=this.getUpgradeCost(e.level),r=this.getResources();return r.antimatter>=s.antimatter&&r.element115>=s.element115&&r.deuterium>=s.deuterium}static upgradeShip(){const e=this.getUpgrade(),t=this.getUpgradeCost(e.level);return v.upgradeShip(t)}static calculatePassiveGeneration(){const e=this.getUpgrade(),t=JSON.parse(localStorage.getItem("_atlasLocations")||"[]"),s=Array.isArray(t)?t:t.locations||[];let r={antimatter:0,element115:0,deuterium:0},n={planets:0,systems:0,galaxies:0};return s.forEach(i=>{i.type==="planet"?(n.planets++,r.antimatter+=12,r.element115+=9,r.deuterium+=15):i.type==="system"&&(n.systems++,r.antimatter+=5,r.element115+=4,r.deuterium+=6)}),r.antimatter=Math.floor(r.antimatter*e.passiveGeneration),r.element115=Math.floor(r.element115*e.passiveGeneration),r.deuterium=Math.floor(r.deuterium*e.passiveGeneration),{...r,sources:n}}static processPassiveGeneration(){if(v.shouldProcessPassive()){const e=this.calculatePassiveGeneration();(e.antimatter>0||e.element115>0||e.deuterium>0)&&(this.addResources({antimatter:e.antimatter,element115:e.element115,deuterium:e.deuterium}),this.showPassiveGenerationNotification(e)),v.markPassiveProcessed()}}static getAccumulatedResourcesWithLimit(){const e=this.calculatePassiveGeneration(),t=this.getUpgrade(),s=this.getUpgradeCost(t.level),r={antimatter:s.antimatter*5,element115:s.element115*5,deuterium:s.deuterium*5},i=v.getData().t.lp,o=Date.now();if(!i||i===0||e.sources.planets===0&&e.sources.systems===0)return e;const l=Math.floor((o-i)/(300*1e3));return l<1?{antimatter:0,element115:0,deuterium:0,sources:e.sources}:l===1?e:{antimatter:Math.min(e.antimatter*l,r.antimatter*2),element115:Math.min(e.element115*l,r.element115*2),deuterium:Math.min(e.deuterium*l,r.deuterium*2),sources:e.sources}}static showPassiveGenerationNotification(e){if(e.antimatter+e.element115+e.deuterium===0)return;const t=document.createElement("div");t.className="fixed top-4 right-4 z-50 bg-gradient-to-r from-purple-900/90 to-blue-900/90 text-white px-4 py-3 rounded-lg shadow-lg border border-purple-500/50",t.style.animation="slideInRight 0.3s ease-out";const s={antimatter:e.antimatter*12,element115:e.element115*12,deuterium:e.deuterium*12};if(t.innerHTML=`
      <div class="flex items-center space-x-3">
        <span class="text-2xl">‚õèÔ∏è</span>
        <div>
          <div class="text-sm font-bold text-purple-300">Passive Mining</div>
          <div class="text-xs text-purple-200 mt-1">
            ${e.sources.planets}ü™ê ${e.sources.systems}‚≠ê generating
          </div>
          <div class="text-xs text-purple-200 flex gap-3 mt-1">
            ${e.antimatter>0?`<span class="text-purple-300">+${e.antimatter} AM</span>`:""}
            ${e.element115>0?`<span class="text-cyan-300">+${e.element115} E115</span>`:""}
            ${e.deuterium>0?`<span class="text-orange-300">+${e.deuterium} D</span>`:""}
          </div>
          <div class="text-xs text-purple-100 mt-1 opacity-75">
            Rate: ${s.antimatter}/${s.element115}/${s.deuterium} per hour
          </div>
        </div>
      </div>
    `,!document.getElementById("passive-toast-styles")){const r=document.createElement("style");r.id="passive-toast-styles",r.textContent=`
        @keyframes slideInRight {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        @keyframes slideOutRight {
          from {
            transform: translateX(0);
            opacity: 1;
          }
          to {
            transform: translateX(100%);
            opacity: 0;
          }
        }
      `,document.head.appendChild(r)}document.body.appendChild(t),setTimeout(()=>{t.style.animation="slideOutRight 0.3s ease-in forwards",setTimeout(()=>{t.remove()},300)},5e3)}static reset(){v.reset()}static getResourcesPercentage(){const e=this.getResources(),t=this.getUpgrade();return{antimatter:e.antimatter/t.storage*100,element115:e.element115/t.storage*100,deuterium:e.deuterium/t.storage*100}}static getPassiveGenerationInfo(){const e=this.calculatePassiveGeneration(),t=v.shouldProcessPassive()?0:(300*1e3-(Date.now()-(v.getData().t.lp||0)))/1e3;return{generation:e,perHour:{antimatter:e.antimatter*12,element115:e.element115*12,deuterium:e.deuterium*12},nextGenerationIn:Math.max(0,t)}}static getExchangeRates(){const e=this.getResources();return{antimatter:[{from:"antimatter",to:"element115",rate:1.2,available:e.antimatter},{from:"antimatter",to:"deuterium",rate:.8,available:e.antimatter}],element115:[{from:"element115",to:"antimatter",rate:.9,available:e.element115},{from:"element115",to:"deuterium",rate:1.1,available:e.element115}],deuterium:[{from:"deuterium",to:"antimatter",rate:1.3,available:e.deuterium},{from:"deuterium",to:"element115",rate:.95,available:e.deuterium}]}}static exchangeResources(e,t,s){const r=this.getResources(),o=this.getExchangeRates()[e].find(y=>y.to===t);if(!o||s<=0||r[e]<s)return!1;const l=Math.floor(s*o.rate),d=this.getUpgrade();if(r[t]+l>d.storage)return!1;const p={...r};return p[e]-=s,p[t]+=l,v.setResources(p),this.showExchangeNotification(e,t,s,l),!0}static showExchangeNotification(e,t,s,r){const n=document.createElement("div");n.className="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-gradient-to-r from-amber-900/90 to-orange-900/90 text-white px-4 py-3 rounded-lg shadow-lg border border-amber-500/50",n.style.animation="slideInDown 0.3s ease-out";const i={antimatter:{name:"AM",color:"text-purple-300"},element115:{name:"E115",color:"text-cyan-300"},deuterium:{name:"D",color:"text-orange-300"}},o=i[e],l=i[t];n.innerHTML=`
      <div class="flex items-center space-x-3">
        <span class="text-2xl">üîÑ</span>
        <div>
          <div class="text-sm font-bold text-amber-300">Resource Exchange</div>
          <div class="text-xs text-amber-200 mt-1">
            <span class="${o.color}">-${s} ${o.name}</span>
            <span class="text-amber-300 mx-2">‚Üí</span>
            <span class="${l.color}">+${r} ${l.name}</span>
          </div>
        </div>
      </div>
    `,document.body.appendChild(n),setTimeout(()=>{n.style.animation="slideOutUp 0.3s ease-in forwards",setTimeout(()=>{n.remove()},300)},3e3)}}const E=({value:g,max:e,label:t,color:s="indigo",size:r="xs",showPercentage:n=!1})=>{const i=e>0?Math.min(g/e*100,100):0,o={indigo:{bg:"bg-indigo-500/20",fill:"bg-gradient-to-r from-indigo-500 to-indigo-400",text:"text-indigo-400"},blue:{bg:"bg-blue-500/20",fill:"bg-gradient-to-r from-blue-500 to-blue-400",text:"text-blue-400"},purple:{bg:"bg-purple-500/20",fill:"bg-gradient-to-r from-purple-500 to-purple-400",text:"text-purple-400"},cyan:{bg:"bg-cyan-500/20",fill:"bg-gradient-to-r from-cyan-500 to-cyan-400",text:"text-cyan-400"},green:{bg:"bg-green-500/20",fill:"bg-gradient-to-r from-green-500 to-green-400",text:"text-green-400"},orange:{bg:"bg-orange-500/20",fill:"bg-gradient-to-r from-orange-500 to-orange-400",text:"text-orange-400"},yellow:{bg:"bg-yellow-500/20",fill:"bg-gradient-to-r from-yellow-500 to-yellow-400",text:"text-yellow-400"}},l={xs:"h-1.5",sm:"h-2"},d=o[s]||o.indigo,p=l[r];return a.jsxs("div",{className:"w-full",children:[t&&a.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[a.jsx("span",{className:"text-gray-400",children:t}),n&&a.jsxs("span",{className:`${d.text} font-medium`,children:[i.toFixed(0),"%"]})]}),a.jsx("div",{className:`w-full ${d.bg} rounded-full overflow-hidden ${p}`,children:a.jsx("div",{className:`${d.fill} ${p} rounded-full transition-all duration-700 ease-out shadow-sm`,style:{width:`${i}%`},children:a.jsx("div",{className:`w-full h-full ${d.fill} opacity-50 animate-pulse`})})})]})},Z=({currentLocation:g})=>{const[e,t]=x.useState(!1),[s,r]=x.useState(!1),[n,i]=x.useState("stats"),[o,l]=x.useState(null),[d,p]=x.useState([]),[y,R]=x.useState(null),[b,$]=x.useState(null),[j,A]=x.useState({antimatter:0,element115:0,deuterium:0}),[f,k]=x.useState({level:1,efficiency:1,range:300,storage:500,passiveGeneration:1}),[M,I]=x.useState({antimatter:0,element115:0,deuterium:0}),[u,D]=x.useState({antimatter:0,element115:0,deuterium:0,sources:{planets:0,systems:0,galaxies:0}}),[U,L]=x.useState(!1),T=x.useRef(null);x.useEffect(()=>{if(e){l(H()),p(C.getLocations()),R(C.getLocationStats());const c=_.updateProgress();$(c),A(m.getResources()),k(m.getUpgrade());const h=m.getUpgrade();I(m.getUpgradeCost(h.level));const N=m.getAccumulatedResourcesWithLimit();D(N)}},[e]),x.useEffect(()=>{if(!e)return;const h=setInterval(()=>{const N=m.getAccumulatedResourcesWithLimit();D(N)},15e3);return()=>clearInterval(h)},[e]);const O=()=>{r(!0),setTimeout(()=>{t(!1),r(!1)},300)},V=()=>{e?O():t(!0)};x.useEffect(()=>{const c=h=>{e&&!s&&T.current&&!T.current.contains(h.target)&&O()};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[e,s]);const F=c=>{if(c===0)return"0 B";const h=1024,N=["B","KB","MB"],G=Math.floor(Math.log(c)/Math.log(h));return parseFloat((c/Math.pow(h,G)).toFixed(2))+" "+N[G]},P=c=>c.replace(/_/g," "),K=(c,h)=>{c.stopPropagation(),C.removeLocation(h),p(C.getLocations()),R(C.getLocationStats())};return a.jsx(a.Fragment,{children:a.jsxs("div",{ref:T,className:"fixed bottom-4 sm:bottom-6 right-4 sm:right-6 z-50",children:[a.jsxs("button",{onClick:V,className:"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-blue-600 via-purple-600 to-blue-800 hover:from-blue-500 hover:via-purple-500 hover:to-blue-700 text-white rounded-full shadow-2xl border-2 border-blue-400/30 transition-all duration-300 transform hover:scale-105 backdrop-blur-sm",title:"Spaceship Control Panel",children:[a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("svg",{className:"flex items-center justify-center",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",children:a.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,children:[a.jsx("path",{d:"M12 3a6.02 6.02 0 0 0-5.923 4.9c-.086.466-.13.699.032 1.005c.161.307.39.409.847.613c1.38.614 3.134.982 5.044.982s3.665-.368 5.044-.982c.457-.204.686-.306.847-.613c.162-.306.118-.54.032-1.005A6.02 6.02 0 0 0 12 3"}),a.jsx("path",{d:"M17 5.5c2.989.788 5 2.26 5 3.945C22 11.961 17.523 14 12 14S2 11.96 2 9.445C2 7.76 4.011 6.288 7 5.5M12 18v3m5-4l1 4M7 17l-1 4"})]})})}),a.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-400/20 animate-ping"})]}),e&&a.jsxs("div",{className:"fixed bottom-20 sm:bottom-24 right-2 sm:right-6 w-[calc(100vw-1rem)] sm:w-96 max-w-md max-h-[70vh] sm:max-h-96 bg-black/90 backdrop-blur-xl rounded-2xl border border-blue-400/30 shadow-2xl z-40 overflow-hidden transition-all duration-300 ease-out",style:{animation:s?"slideDownFadeOut 0.3s ease-out forwards":"slideUpFadeIn 0.3s ease-out forwards"},children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 p-4 border-b border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),a.jsx("h3",{className:"text-white font-bold text-lg",children:"üöÄ Spaceship Control"})]}),a.jsx("button",{onClick:O,className:"text-gray-400 hover:text-white transition-colors duration-200",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"flex mt-3 space-x-1 overflow-x-auto",children:[a.jsx("button",{onClick:()=>i("stats"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors duration-200 whitespace-nowrap ${n==="stats"?"bg-blue-500/30 text-blue-300 border border-blue-500/50":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:"üìä Stats"}),a.jsx("button",{onClick:()=>i("ship"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors duration-200 whitespace-nowrap ${n==="ship"?"bg-green-500/30 text-green-300 border border-green-500/50":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:"üöÄ Ship"}),a.jsxs("button",{onClick:()=>i("saved"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors duration-200 whitespace-nowrap ${n==="saved"?"bg-purple-500/30 text-purple-300 border border-purple-500/50":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:["üìç Saved (",y?.total||0,")"]})]})]}),a.jsxs("div",{className:"p-4 max-h-64 overflow-y-auto [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:[n==="stats"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"text-white font-semibold text-sm",children:"üåü Daily Challenges"}),b&&a.jsxs("div",{className:"text-xs text-indigo-400 font-medium",children:["Day ",b.dayNumber," ‚Ä¢ x",Math.min(1+(b.dayNumber-1)*.1,2).toFixed(1)]})]}),b&&a.jsx("div",{className:"space-y-3 mb-4",children:b.challenges.map(c=>{const h={galaxies:"indigo",systems:"blue",planets:"purple"},N={galaxies:"Galaxies Explored",systems:"Systems Visited",planets:"Planets Discovered"};return a.jsxs("div",{className:"relative",children:[a.jsx(E,{value:c.current,max:c.target,label:`${N[c.type]}: ${c.current}/${c.target}`,color:h[c.type],showPercentage:!0}),c.completed&&a.jsx("div",{className:"absolute -right-3 top-0 text-white bg-green-500 px-0.5 rounded-full text-[8px]",children:"‚úì"})]},c.type)})}),b&&a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-2 border border-indigo-500/20",children:[a.jsx("div",{className:"text-gray-400",children:"Completed"}),a.jsxs("div",{className:"text-indigo-400 font-bold",children:[b.challenges.filter(c=>c.completed).length,"/",b.challenges.length]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-2 border border-green-500/20",children:[a.jsx("div",{className:"text-gray-400",children:"Archive Size"}),a.jsx("div",{className:"text-green-400 font-bold",children:o?F(o.size):"0 B"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-3 text-sm",children:"üìç Saved Locations"}),a.jsx("div",{className:"mb-3",children:a.jsx(E,{value:y?.total||0,max:y?.maxAllowed||50,label:`Saved Locations: ${y?.total||0}/${y?.maxAllowed||50}`,color:"cyan",showPercentage:!0})}),a.jsxs("div",{className:"grid grid-cols-3 gap-1 text-xs",children:[a.jsxs("div",{className:"bg-white/5 rounded p-1.5 text-center",children:[a.jsx("div",{className:"text-gray-400 text-[10px]",children:"Galaxies"}),a.jsx("div",{className:"text-indigo-400 font-bold text-xs",children:y?.galaxies||0})]}),a.jsxs("div",{className:"bg-white/5 rounded p-1.5 text-center",children:[a.jsx("div",{className:"text-gray-400 text-[10px]",children:"Systems"}),a.jsx("div",{className:"text-blue-400 font-bold text-xs",children:y?.systems||0})]}),a.jsxs("div",{className:"bg-white/5 rounded p-1.5 text-center",children:[a.jsx("div",{className:"text-gray-400 text-[10px]",children:"Planets"}),a.jsx("div",{className:"text-purple-400 font-bold text-xs",children:y?.planets||0})]})]}),a.jsx("div",{className:"text-[10px] text-gray-500 mt-2",children:"*Complete your daily tasks to be able to save more Atlas locations"})]})]}),n==="ship"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-white font-semibold mb-3 text-sm flex items-center gap-2",children:["‚ö° Resources",a.jsxs("div",{className:"text-xs text-gray-400",children:["Lv.",f.level]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-2 border border-purple-500/20",children:[a.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[a.jsx("span",{className:"text-purple-300",children:"Antimatter"}),a.jsxs("span",{className:"text-white font-mono",children:[j.antimatter,"/",f.storage]})]}),a.jsx(E,{value:j.antimatter,max:f.storage,label:"",color:"purple",showPercentage:!1})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-2 border border-cyan-500/20",children:[a.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[a.jsx("span",{className:"text-cyan-300",children:"Element 115"}),a.jsxs("span",{className:"text-white font-mono",children:[j.element115,"/",f.storage]})]}),a.jsx(E,{value:j.element115,max:f.storage,label:"",color:"cyan",showPercentage:!1})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-2 border border-orange-500/20",children:[a.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[a.jsx("span",{className:"text-orange-300",children:"Deuterium"}),a.jsxs("span",{className:"text-white font-mono",children:[j.deuterium,"/",f.storage]})]}),a.jsx(E,{value:j.deuterium,max:f.storage,label:"",color:"orange",showPercentage:!1})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-3 text-sm",children:"üîß Ship Upgrade"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-2 border border-blue-500/20",children:[a.jsx("div",{className:"text-gray-400",children:"Efficiency"}),a.jsxs("div",{className:"text-blue-400 font-bold",children:[f.efficiency.toFixed(1),"x"]})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-2 border border-green-500/20",children:[a.jsx("div",{className:"text-gray-400",children:"Range"}),a.jsx("div",{className:"text-green-400 font-bold",children:f.range})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-2 border border-yellow-500/20",children:[a.jsx("div",{className:"text-gray-400",children:"Storage"}),a.jsx("div",{className:"text-yellow-400 font-bold",children:f.storage})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-2 border border-indigo-500/20",children:[a.jsx("div",{className:"text-gray-400",children:"Passive"}),a.jsxs("div",{className:"text-indigo-400 font-bold",children:[f.passiveGeneration.toFixed(1),"x"]})]})]}),a.jsx("button",{onClick:()=>{if(m.upgradeShip()){A(m.getResources()),k(m.getUpgrade());const c=m.getUpgrade();I(m.getUpgradeCost(c.level));const h=m.calculatePassiveGeneration();D(h)}},disabled:!m.canAffordUpgrade(),className:`w-full px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${m.canAffordUpgrade()?"bg-gradient-to-r from-green-600/30 to-blue-600/30 hover:from-green-600/40 hover:to-blue-600/40 text-green-300 border border-green-500/50 hover:border-green-400/70 cursor-pointer":"bg-gray-700/30 text-gray-500 border border-gray-600/30 cursor-not-allowed"}`,children:a.jsx("div",{className:"flex flex-col items-center",children:f.level>=100?a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-bold text-yellow-400",children:"üåü MAX LEVEL"}),a.jsx("div",{className:"text-[10px] text-yellow-300",children:"Ultimate Spaceship Achieved!"})]}):a.jsxs("div",{children:[a.jsxs("div",{className:"text-xs font-bold",children:["Upgrade to Level ",f.level+1]}),a.jsxs("div",{className:"text-[10px] opacity-80 flex gap-2",children:[a.jsxs("span",{className:"text-purple-300",children:[M.antimatter,"AM"]}),a.jsxs("span",{className:"text-cyan-300",children:[M.element115,"E115"]}),a.jsxs("span",{className:"text-orange-300",children:[M.deuterium,"D"]})]})]})})}),a.jsx("div",{className:"text-[10px] text-gray-500 mt-2 text-center",children:"*Improve efficiency, range, storage and passive generation"})]})]}),n==="saved"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-lg p-3 border border-purple-500/30",children:[a.jsx("h4",{className:"text-white font-semibold text-sm flex items-center gap-2 mb-2",children:"‚õèÔ∏è Mining Operations"}),u.sources.planets===0&&u.sources.systems===0?a.jsx("div",{className:"text-xs text-gray-400",children:"üí° Save planets and systems to enable mining operations"}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[a.jsx("span",{className:"text-purple-300",children:"Available to collect:"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("span",{className:"text-purple-300",children:["+",u.antimatter," AM"]}),a.jsxs("span",{className:"text-cyan-300",children:["+",u.element115," E115"]}),a.jsxs("span",{className:"text-orange-300",children:["+",u.deuterium," D"]})]})]}),a.jsx("button",{onClick:()=>{L(!0)},disabled:u.antimatter+u.element115+u.deuterium===0,className:`w-full px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${u.antimatter+u.element115+u.deuterium>0?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 hover:from-purple-600/40 hover:to-blue-600/40 text-purple-300 border border-purple-500/50 hover:border-purple-400/70 cursor-pointer":"bg-gray-700/30 text-gray-500 border border-gray-600/30 cursor-not-allowed"}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs font-bold",children:"üöÄ Collect Resources"}),a.jsxs("div",{className:"text-xs opacity-80",children:["From ",u.sources.planets,"ü™ê ",u.sources.systems,"‚≠ê"]})]})})]})]}),a.jsx("div",{className:"space-y-2",children:d.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"No saved locations"}),a.jsx("div",{className:"text-gray-500 text-xs",children:"Use the üìç button to save locations"})]}):d.map(c=>a.jsx("div",{className:"bg-white/5 hover:bg-white/10 rounded-lg p-2 border border-white/10 hover:border-white/20 transition-all duration-200 group",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("a",{href:c.stargateUrl,className:"flex-1 min-w-0 hover:text-blue-300 transition-colors duration-200",title:`Navigate to ${P(c.name)}`,children:a.jsxs("div",{className:"flex items-center space-x-1.5",children:[a.jsxs("div",{className:"text-[10px]",children:[c.type==="galaxy"&&"üåå",c.type==="system"&&"‚≠ê",c.type==="planet"&&"ü™ê"]}),a.jsx("div",{className:"text-white text-xs font-medium truncate",children:P(c.name)}),a.jsx("div",{className:"text-gray-500 text-[10px] shrink-0",children:(()=>{try{const h=new Date(c.timestamp);return isNaN(h.getTime())?"N/A":h.toLocaleDateString()}catch{return"N/A"}})()})]})}),a.jsx("button",{onClick:h=>K(h,c.id),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-400 transition-all duration-200 ml-1",title:"Remove location",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},c.id))})]})]})]}),U&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-black/90 backdrop-blur-xl rounded-2xl border border-purple-400/30 shadow-2xl w-full max-w-md",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-600/20 to-blue-600/20 p-4 border-b border-white/10 rounded-t-2xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:"‚õèÔ∏è Mass Collection"}),a.jsx("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-white transition-colors duration-200",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"text-sm text-gray-300 mb-4",children:"Collect resources from all your saved mining locations at once."}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3 mb-4",children:[a.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Available to collect:"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`font-bold ${u.antimatter>0?"text-purple-300":"text-gray-500"}`,children:["+",u.antimatter]}),a.jsx("div",{className:"text-gray-500",children:"Antimatter"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`font-bold ${u.element115>0?"text-cyan-300":"text-gray-500"}`,children:["+",u.element115]}),a.jsx("div",{className:"text-gray-500",children:"Element 115"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`font-bold ${u.deuterium>0?"text-orange-300":"text-gray-500"}`,children:["+",u.deuterium]}),a.jsx("div",{className:"text-gray-500",children:"Deuterium"})]})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["üåü Sources: ",u.sources.planets," Planets, ",u.sources.systems," Systems"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>L(!1),className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium bg-gray-700/50 text-gray-300 hover:bg-gray-700/70 border border-gray-600/50 transition-all duration-200",children:"Cancel"}),a.jsx("button",{onClick:()=>{m.addResources({antimatter:u.antimatter,element115:u.element115,deuterium:u.deuterium}),m.showPassiveGenerationNotification(u);const c=JSON.parse(localStorage.getItem("_atlasSpaceShip")||"{}");c.t||(c.t={}),c.t.lp=Date.now(),localStorage.setItem("_atlasSpaceShip",JSON.stringify(c)),A(m.getResources());const h=m.getAccumulatedResourcesWithLimit();D(h),L(!1)},className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium bg-gradient-to-r from-purple-600/30 to-blue-600/30 hover:from-purple-600/40 hover:to-blue-600/40 text-purple-300 border border-purple-500/50 hover:border-purple-400/70 transition-all duration-200",children:"üöÄ Collect All"})]})]})]})})]})})};class ee{static getTravelCost(e,t=0){return m.calculateTravelCost(e,t)}static canAffordTravel(e,t=0){return!0}static executeTravel(e,t=0){const s=this.getTravelCost(e,t),r=m.getResources(),n=m.getUpgrade(),i={antimatter:Math.floor(s.antimatter/n.efficiency),element115:Math.floor(s.element115/n.efficiency),deuterium:Math.floor(s.deuterium/n.efficiency)},o=[r.antimatter/i.antimatter,r.element115/i.element115,r.deuterium/i.deuterium],l=Math.min(...o);return l>=1?(m.consumeResources(i),this.showTravelNotification(e,i),"success"):l>=.5?(m.consumeResources({antimatter:Math.min(r.antimatter,i.antimatter),element115:Math.min(r.element115,i.element115),deuterium:Math.min(r.deuterium,i.deuterium)}),this.showPartialTravelNotification(e,i,l),"partial"):(this.showEmergencyTravelNotification(e,i),"emergency")}static showTravelNotification(e,t){const s=document.createElement("div");s.className="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-gradient-to-r from-blue-900/90 to-purple-900/90 text-white px-4 py-3 rounded-lg shadow-lg border border-blue-500/50",s.style.animation="slideInDown 0.3s ease-out";const r={galaxy:"üåå",system:"‚≠ê",planet:"ü™ê"},n={galaxy:"Galaxy",system:"System",planet:"Planet"};s.innerHTML=`
      <div class="flex items-center space-x-3">
        <span class="text-2xl">${r[e]}</span>
        <div>
          <div class="text-sm font-bold text-blue-300">${n[e]} Travel</div>
          <div class="text-xs text-blue-200 mt-1 flex gap-3">
            <span class="text-purple-300">-${t.antimatter} AM</span>
            <span class="text-cyan-300">-${t.element115} E115</span>
            <span class="text-orange-300">-${t.deuterium} D</span>
          </div>
        </div>
      </div>
    `,document.body.appendChild(s),setTimeout(()=>{s.style.animation="slideOutUp 0.3s ease-in forwards",setTimeout(()=>{s.remove()},300)},2e3)}static showPartialTravelNotification(e,t,s){const r=document.createElement("div");r.className="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-gradient-to-r from-orange-900/90 to-yellow-900/90 text-white px-4 py-3 rounded-lg shadow-lg border border-orange-500/50",r.style.animation="slideInDown 0.3s ease-out";const n={galaxy:"üåå",system:"‚≠ê",planet:"ü™ê"},i={galaxy:"Galaxy",system:"System",planet:"Planet"};r.innerHTML=`
      <div class="flex items-center space-x-3">
        <span class="text-2xl">${n[e]}</span>
        <div>
          <div class="text-sm font-bold text-orange-300">${i[e]} Travel - Low Fuel</div>
          <div class="text-xs text-orange-200 mt-1">${Math.floor(s*100)}% fuel efficiency - slower travel</div>
          <div class="text-xs text-orange-200 mt-1 flex gap-3">
            <span class="text-purple-300">Need ${t.antimatter} AM</span>
            <span class="text-cyan-300">Need ${t.element115} E115</span>
            <span class="text-orange-300">Need ${t.deuterium} D</span>
          </div>
        </div>
      </div>
    `,document.body.appendChild(r),setTimeout(()=>{r.style.animation="slideOutUp 0.3s ease-in forwards",setTimeout(()=>{r.remove()},300)},3500)}static showEmergencyTravelNotification(e,t){const s=document.createElement("div");s.className="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-gradient-to-r from-red-900/90 to-orange-900/90 text-white px-4 py-3 rounded-lg shadow-lg border border-red-500/50",s.style.animation="slideInDown 0.3s ease-out";const r={galaxy:"üåå",system:"‚≠ê",planet:"ü™ê"},n={galaxy:"Galaxy",system:"System",planet:"Planet"};s.innerHTML=`
      <div class="flex items-center space-x-3">
        <span class="text-2xl">${r[e]}</span>
        <div>
          <div class="text-sm font-bold text-red-300">${n[e]} Emergency Travel</div>
          <div class="text-xs text-red-200 mt-1">‚ö†Ô∏è Running on fumes - very slow travel</div>
          <div class="text-xs text-red-200 mt-1 flex gap-3">
            <span class="text-purple-300">Need ${t.antimatter} AM</span>
            <span class="text-cyan-300">Need ${t.element115} E115</span>
            <span class="text-orange-300">Need ${t.deuterium} D</span>
          </div>
          <div class="text-xs text-red-200 mt-1">üîß Collect resources or upgrade ship</div>
        </div>
      </div>
    `,document.body.appendChild(s),setTimeout(()=>{s.style.animation="slideOutUp 0.3s ease-in forwards",setTimeout(()=>{s.remove()},300)},4500)}static showResourceShortageButTravelNotification(e,t){const s=document.createElement("div");s.className="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-gradient-to-r from-yellow-900/90 to-orange-900/90 text-white px-4 py-3 rounded-lg shadow-lg border border-yellow-500/50",s.style.animation="slideInDown 0.3s ease-out";const r={galaxy:"üåå",system:"‚≠ê",planet:"ü™ê"},n={galaxy:"Galaxy",system:"System",planet:"Planet"};s.innerHTML=`
      <div class="flex items-center space-x-3">
        <span class="text-2xl">${r[e]}</span>
        <div>
          <div class="text-sm font-bold text-yellow-300">${n[e]} Travel - No Fuel</div>
          <div class="text-xs text-yellow-200 mt-1">Traveling on emergency reserves</div>
          <div class="text-xs text-yellow-200 mt-1 flex gap-3">
            <span class="text-purple-300">Need ${t.antimatter} AM</span>
            <span class="text-cyan-300">Need ${t.element115} E115</span>
            <span class="text-orange-300">Need ${t.deuterium} D</span>
          </div>
          <div class="text-xs text-yellow-200 mt-1">‚ö° Improve your ship for efficiency</div>
        </div>
      </div>
    `,document.body.appendChild(s),setTimeout(()=>{s.style.animation="slideOutUp 0.3s ease-in forwards",setTimeout(()=>{s.remove()},300)},4e3)}static previewTravelCost(e,t=0){const s=this.getTravelCost(e,t),r=m.getUpgrade(),n={antimatter:Math.floor(s.antimatter/r.efficiency),element115:Math.floor(s.element115/r.efficiency),deuterium:Math.floor(s.deuterium/r.efficiency)};return`${n.antimatter}AM | ${n.element115}E115 | ${n.deuterium}D`}static getTravelEfficiency(){return m.getUpgrade().efficiency}static getMaxTravelRange(){return m.getUpgrade().range}}export{z as H,C as L,Z as S,v as U,ee as a,q as b,X as c,W as d,Q as g,J as m};
