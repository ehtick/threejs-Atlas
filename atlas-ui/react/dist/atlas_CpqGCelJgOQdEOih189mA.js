import{S}from"./atlas_BCLm0rswpwHY6zwJL8hnM.js";import{C as o}from"./atlas_CLp6T-BwF8hBVTNM0OiQd.js";const t={ICE_REFLECTIVITY:{min:.7,max:.95},FROST_DENSITY:{min:.3,max:.8},CRACK_INTENSITY:{min:.2,max:.7},OPACITY:{min:.6,max:.9},CRYSTAL_SCALE:{min:15,max:35},CRYSTAL_DENSITY:{min:.4,max:.8},CRYSTAL_SHARPNESS:{min:100,max:250},FROST_PATTERN:{min:8,max:16}};class T{layerMesh;material;params;layerSystem;constructor(a,e={}){this.layerSystem=a;const i=e.seed||Math.floor(Math.random()*1e6),n=new S(i),s=e.color instanceof o?e.color:e.color?new o(e.color):new o(11591910);this.params={color:s,iceReflectivity:e.iceReflectivity||n.uniform(t.ICE_REFLECTIVITY.min,t.ICE_REFLECTIVITY.max),frostDensity:e.frostDensity||n.uniform(t.FROST_DENSITY.min,t.FROST_DENSITY.max),crackIntensity:e.crackIntensity||n.uniform(t.CRACK_INTENSITY.min,t.CRACK_INTENSITY.max),opacity:e.opacity||n.uniform(t.OPACITY.min,t.OPACITY.max),crystalScale:e.crystalScale||n.uniform(t.CRYSTAL_SCALE.min,t.CRYSTAL_SCALE.max),crystalDensity:e.crystalDensity||n.uniform(t.CRYSTAL_DENSITY.min,t.CRYSTAL_DENSITY.max),crystalSharpness:e.crystalSharpness||n.uniform(t.CRYSTAL_SHARPNESS.min,t.CRYSTAL_SHARPNESS.max),frostPattern:e.frostPattern||n.uniform(t.FROST_PATTERN.min,t.FROST_PATTERN.max),seed:i},this.material=this.layerSystem.createIcyTerrainLayerMaterial(this.params),this.layerMesh=this.layerSystem.addEffectLayer("icyTerrain",this.material,this.layerSystem.getNextScaleFactor(),this)}update(a){this.material.uniforms.time&&(this.material.uniforms.time.value+=a)}dispose(){}}function R(m,a,e){const i=a.surface||{},n=a.planet_info?.base_color||i.base_color,s=e||Math.floor(Math.random()*1e6),r=new S(s+6e3);return new T(m,{color:n?new o(n):new o(11591910),iceReflectivity:i.ice_reflectivity||r.uniform(t.ICE_REFLECTIVITY.min,t.ICE_REFLECTIVITY.max),frostDensity:i.frost_density||r.uniform(t.FROST_DENSITY.min,t.FROST_DENSITY.max),crackIntensity:i.crack_intensity||r.uniform(t.CRACK_INTENSITY.min,t.CRACK_INTENSITY.max),opacity:r.uniform(t.OPACITY.min,t.OPACITY.max),crystalScale:i.crystal_scale||r.uniform(t.CRYSTAL_SCALE.min,t.CRYSTAL_SCALE.max),crystalDensity:i.crystal_density||r.uniform(t.CRYSTAL_DENSITY.min,t.CRYSTAL_DENSITY.max),crystalSharpness:i.crystal_sharpness||r.uniform(t.CRYSTAL_SHARPNESS.min,t.CRYSTAL_SHARPNESS.max),frostPattern:i.frost_pattern||r.uniform(t.FROST_PATTERN.min,t.FROST_PATTERN.max),seed:s})}export{R as c};
