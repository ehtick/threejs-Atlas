import{r as i,j as e,U as K,c as Q,R as Z}from"./atlas_Bv5zr7cG9joXJ1l7Eo-6s.js";import{a as w,c as B,d as G,F as U,H as ee,S as te}from"./atlas_BaXi1fL9krZc5NIhr0Ma9.js";import{R as se,S as ae}from"./atlas_XIVztJR3QrwXhTniM5vOF.js";import{M as re}from"./atlas_BBEdd16PxNjpYNrFTyoqJ.js";import{e as ne}from"./atlas_BPj-MsIDwzwqXqKWRYHZn.js";import{V as ie}from"./atlas_D1RtXGjFSAWW01vFUnxaN.js";import"./atlas_SPyfQU6Spv1u19LNdvRDW.js";import"./atlas_CNuRMyx4gH271S-qfMS5_.js";import"./atlas_CqUMNY_RyRklhCsbOI68T.js";import"./atlas_D8jfkKBTFAYq28XkcKKTP.js";import"./atlas_DzyLVnAB68DWvB7ZsYHpJ.js";import"./atlas_BoQX836U_P5ievxCWB0fm.js";import"./atlas_BJ-3dIBoTMvLRTvbW4jvB.js";import"./atlas_C3eT5YO8N8uINAkU4sfC8.js";import"./atlas_xRQAuIdLDLUWwjQ1hhLJT.js";import"./atlas_DlxiDl5H4dCc4RtFDNV4-.js";import"./atlas_Ccem9BSdBGELhfnElOo6_.js";import"./atlas_Dod4TvMiKE71aV5xLhCIO.js";import"./atlas_CRtp-NE9nav3l36pd4CgS.js";import"./atlas_DLWyiQr-j-hUe0BblWQax.js";import"./atlas_Bu5UDKz6Fxm2j5znUfuqR.js";import"./atlas_jdX7ViftnjLhuueMzjdvL.js";import"./atlas_D3JuxdFXN9TN3Y0vT6vrH.js";import"./atlas_BkU-BZFNU0Kk3GbuSxcOt.js";import"./atlas_BWX0SzH4ZKildB05q9kmO.js";import"./atlas_BSgVuGGMitm85ML_uFlwR.js";import"./atlas_BmPjqYkKBdIjG0mMXhEJD.js";import"./atlas_D3GNhDOca9tM2xz4UF0kl.js";import"./atlas_CEoXpB5Qz5gnhpnI1rVml.js";import"./atlas_Bm5CmJ6Y3wiNPdy4xBPs9.js";import"./atlas_ClhQ4eskJsGKIwiNnH7TI.js";import"./atlas_CUq1rz_tq3RwyJKJXdtJS.js";import"./atlas_D343D3gC5Bhf8E3SyGD-Q.js";import"./atlas_Dj0t6QoI2gZodGI_3YUXn.js";import"./atlas_BEAtmhQR2pKLss0iVjM9O.js";import"./atlas_CYsk2fyQCI6aUldiF2q00.js";import"./atlas_OQLtGineOrjae7tCq3Z1z.js";import"./atlas_Bw0fu8vSuhWaeAZKJqlzI.js";import"./atlas_465Qga5-jgR2SaZeKrI3B.js";import"./atlas_D8F237FmEt-gxC2GKz619.js";import"./atlas_CMogpnnx9irO0RjvZ_Elu.js";import"./atlas_DFoW4HgmlLMTSp87OppFy.js";import"./atlas_CeFCrUiRjVtyJj2C26XU3.js";import"./atlas_CnFeX1UquwFONPWwyH0Y0.js";import"./atlas_DrzNaGnbXhyGGPqXgh5dg.js";import"./atlas_DjKkgDbOS3WgacErnTNEP.js";import"./atlas_CwxbYudOIvRzf9WYQJAGh.js";import"./atlas_D_AoWN1edZOb1F97i-xfg.js";import"./atlas_BNEH8HDGdmhsX1S5s8FdV.js";import"./atlas_BShgu7srGlsrNBeL27QMh.js";import"./atlas_ZjaJ_43RPC4E1k8nfj4yf.js";const oe=({effects:s,onToggleEffect:a})=>{const[r,x]=i.useState(s),[m,v]=i.useState(!1);i.useEffect(()=>{x(s)},[s]);const l=(n,o)=>{x(j=>j.map(g=>g.id===n?{...g,enabled:o}:g)),a(n,o)},h=n=>n;return r.length===0?null:e.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"3D Effects Control"}),e.jsxs("button",{onClick:()=>v(!m),className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:[m?"Hide":"Show"," (",r.filter(n=>n.enabled).length,"/",r.length,")"]})]}),m&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:r.map(n=>e.jsxs("div",{className:"bg-white/5 rounded p-2 flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx("input",{type:"checkbox",checked:n.enabled,onChange:o=>l(n.id,o.target.checked),className:"rounded border-gray-400 text-blue-500 focus:ring-blue-500 focus:ring-offset-0 bg-white/10"}),e.jsx("span",{className:`${n.enabled?"text-white":"text-gray-500"} transition-colors`,children:h(n.type)})]}),e.jsx("span",{className:`text-[10px] ${n.enabled?"text-green-400":"text-gray-600"}`,children:n.enabled?"ON":"OFF"})]},n.id))}),m&&r.length>3&&e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{onClick:()=>{r.forEach(n=>l(n.id,!0))},className:"text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded hover:bg-green-500/30 transition-colors",children:"Enable All"}),e.jsx("button",{onClick:()=>{r.forEach(n=>l(n.id,!1))},className:"text-xs px-2 py-1 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors",children:"Disable All"})]})]})},le=({planet:s,system:a,galaxy:r,cosmicOriginTime:x,initialAngleRotation:m,effects:v,onToggleEffect:l})=>{const[h,n]=i.useState(!1),o=d=>d.replace(/_/g," "),j=d=>{const u=d/86400;return u<30?`${u.toFixed(2)} days`:u<365?`${(u/30).toFixed(2)} months`:`${(u/365).toFixed(2)} years`},g=d=>{const u=d*9/5+32;return`${d.toFixed(1)}Â°C (${u.toFixed(1)}Â°F)`},S=d=>`${d.toExponential(2)} kg`,k=d=>`${d.toFixed(2)} km`;return e.jsxs("div",{className:"h-full flex flex-col relative",children:[e.jsxs("div",{className:"absolute top-0 right-0 flex gap-2 z-10",children:[e.jsx(se,{locationType:"planet",locationId:s.name,coordinates:r.coordinates.join(","),systemIndex:a.index,planetName:s.name,planetElements:s.elements,className:"text-xs"}),e.jsx(ae,{type:"planet",name:s.name,coordinates:r.coordinates.join(","),systemIndex:a.index,planetName:s.name,className:"text-xs"}),e.jsx("div",{className:"bg-green-500/20 border border-green-500/50 text-green-400 text-[10px] px-1.5 py-0.5 rounded",children:"VISITED"})]}),e.jsx("div",{className:"mb-3",children:e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Planet Information"})}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-blue-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200",children:"Type"}),e.jsx("div",{className:"text-sm font-bold text-blue-300 capitalize",children:s.planet_type})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-purple-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200",children:"Atmosphere"}),e.jsx("div",{className:"text-sm font-bold text-purple-300 capitalize",children:s.atmosphere})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-green-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200",children:"Life Forms"}),e.jsx("div",{className:"text-sm font-bold text-green-300 capitalize",children:s.life_forms})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-orange-500/30 mb-3",children:[e.jsx("div",{className:"text-xs text-gray-200 mb-2",children:"Physical Properties"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-1",children:[e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Mass"}),e.jsx("div",{className:"text-xs font-bold text-orange-300",children:S(s.mass)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Diameter"}),e.jsx("div",{className:"text-xs font-bold text-orange-300",children:k(s.diameter)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Density"}),e.jsxs("div",{className:"text-xs font-bold text-orange-300",children:[s.density.toFixed(2)," kg/mÂ³"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Gravity"}),e.jsxs("div",{className:"text-xs font-bold text-orange-300",children:[s.gravity.toFixed(2)," m/sÂ²"]})]})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-cyan-500/30 mb-3",children:[e.jsx("div",{className:"text-xs text-gray-200 mb-2",children:"Orbital Properties"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-1",children:[e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Radius"}),e.jsxs("div",{className:"text-xs font-bold text-cyan-300",children:[s.orbital_radius.toFixed(2)," AU"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Period"}),e.jsx("div",{className:"text-xs font-bold text-cyan-300",children:j(s.orbital_period_seconds)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Speed"}),e.jsxs("div",{className:"text-xs font-bold text-cyan-300",children:[s.orbital_speed.toFixed(2)," m/s"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Tilt"}),e.jsxs("div",{className:"text-xs font-bold text-cyan-300",children:[s.axial_tilt.toFixed(2),"Â°"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-red-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200 mb-2",children:"Surface Conditions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-red-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Temperature"}),e.jsx("div",{className:"text-xs font-bold text-red-300",children:g(s.surface_temperature)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-red-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Rotation"}),e.jsx("div",{className:"text-xs font-bold text-red-300",children:j(s.rotation_period_seconds)})]})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-yellow-500/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"text-xs text-gray-200",children:["Elements (",s.elements.length,")"]}),s.elements.length>4&&e.jsx("button",{onClick:()=>n(!h),className:"text-xs text-yellow-400 hover:text-yellow-300 transition-colors duration-300",children:h?"â–² Less":"â–¼ All"})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(h?s.elements:s.elements.slice(0,4)).map((d,u)=>e.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-300 px-1.5 py-0.5 rounded border border-yellow-500/30",children:d},u))})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Technical Data"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Status:"}),e.jsx("div",{className:"text-green-400 font-medium",children:"Visited"})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Planet:"}),e.jsx("div",{className:"text-white truncate font-medium",children:o(s.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"System:"}),e.jsx("div",{className:"text-white truncate font-medium",children:o(a.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"System ID:"}),e.jsxs("div",{className:"text-white font-medium",children:["#",a.index+1]})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Galaxy:"}),e.jsx("div",{className:"text-white truncate font-medium",children:o(r.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Coordinates:"}),e.jsx("div",{className:"text-white font-medium",children:r.coordinates.join(", ")})]})]})]}),v&&l&&e.jsx(oe,{effects:v,onToggleEffect:l})]})},de=({planetUrl:s,imageUrl:a,planet:r,cosmicOriginTime:x,initialAngleRotation:m,onEffectsCreated:v,effects:l,onToggleEffect:h})=>{const n=i.useRef(null),o=i.useRef(null),[j,g]=i.useState("Aligning Stargate..."),[S,k]=i.useState(!1),[d,u]=i.useState(!1),[p,E]=i.useState(!1),[f,D]=i.useState(!0),[R,V]=i.useState(!0),[z,O]=i.useState(null),[c,T]=i.useState(null);i.useEffect(()=>{l&&h&&l.forEach(t=>{ne.toggleEffect(t.id,t.enabled)})},[l]),i.useEffect(()=>{const t=document.createElement("style");return t.textContent=`
      [data-rmiz-modal-overlay="visible"] {
        background-color: rgba(0, 0, 0, 0.8) !important;
        backdrop-filter: blur(20px) !important;
        -webkit-backdrop-filter: blur(20px) !important;
        transition: backdrop-filter 0.3s ease-in-out !important;
      }
      
      [data-rmiz-modal-img] {
        border-radius: 1rem !important;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8) !important;
      }
      
      [data-rmiz-modal-overlay="hidden"] {
        backdrop-filter: blur(0px) !important;
        -webkit-backdrop-filter: blur(0px) !important;
        transition: backdrop-filter 0.3s ease-in-out !important;
      }
    `,document.head.appendChild(t),()=>{document.head.removeChild(t)}},[]),i.useEffect(()=>{const t=n.current;if(!t)return;const _=t.getContext("2d");if(!_)return;let y=[];const I=800;let M,$;const C=800;let P,A=.5;function L(){const b=t?.parentElement;if(!b||!t)return;const F=b.clientWidth,H=b.clientHeight;t.width=Math.min(F,C),t.height=Math.min(H,C),M=t.width/2,$=t.height/2}function q(){L(),y=[];for(let b=0;b<I;b++)y.push({x:Math.random()*(t?.width||800),y:Math.random()*(t?.height||800),z:Math.random()*(t?.width||800),o:Math.random()});W()}function W(){!t||!_||(_.clearRect(0,0,t.width,t.height),y.forEach(b=>{b.z-=A,b.z<=0&&(b.z=t.width,b.x=Math.random()*t.width,b.y=Math.random()*t.height,b.o=Math.random());const F=t.width/b.z,H=(b.x-M)*F+M,X=(b.y-$)*F+$,Y=2*F;_.beginPath(),_.fillStyle=`rgba(255, 255, 255, ${b.o})`,_.arc(H,X,Y,0,2*Math.PI),_.fill()}),A<60&&(A+=1),P=requestAnimationFrame(W))}q();const J=()=>L();return window.addEventListener("resize",J),()=>{window.removeEventListener("resize",J),P&&cancelAnimationFrame(P)}},[]),i.useEffect(()=>{if(a&&!f){const t=new Image;t.onload=()=>{o.current&&(o.current.src=a,u(!0),E(!0))},t.onerror=()=>{console.error("Failed to load planet image:",a),setTimeout(()=>{u(!0),E(!0)},1500)},t.src=a}else(f||!a)&&setTimeout(()=>{u(!0),E(!0)},1500)},[a,f]),i.useEffect(()=>{if(sessionStorage.getItem("stargateAnimationShown")){g("Stargate system aligned");return}sessionStorage.setItem("stargateAnimationShown","true"),k(!0);const _=(C,P)=>Array.from({length:P},()=>C[Math.floor(Math.random()*C.length)]).join(""),y=[{chars:"01",duration:40,iterations:20},{chars:"0123456789",duration:25,iterations:30},{chars:"0123456789ABCDEF",duration:20,iterations:40},{chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()-_=+[]{}|;:\\'\",.<>?/`~",duration:10,iterations:100}];let I=0,M=0;const $=()=>{if(I>=y.length){const P="Stargate system aligned";let A=0;g("");const L=()=>{A<P.length?(g(P.substring(0,A+1)),A++,setTimeout(L,30)):k(!1)};L();return}const C=y[I];g(_(C.chars,32)),M++,M>=C.iterations&&(I++,M=0),setTimeout($,C.duration)};$()},[]);const N=()=>{D(!f),f||(u(!0),E(!0))};return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Planet Visualization"}),R&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:N,className:`px-3 py-1 text-xs font-medium rounded-full transition-all duration-300 ${f?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-gray-600 text-gray-200 hover:bg-gray-500"}`,children:f?"2D View":"3D View"})})]}),e.jsxs("div",{className:"relative w-full max-w-80 sm:max-w-96 aspect-square mx-auto bg-black/50 flex justify-center items-center rounded-xl overflow-hidden border-2 border-blue-400/30 mb-4",children:[e.jsx("canvas",{ref:n,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-[2500ms] ${p?"opacity-0":"opacity-100"}`,style:{filter:p?"blur(50px)":"none"}}),f&&d&&r&&e.jsx("div",{className:`absolute inset-0 w-full h-full transition-all duration-500 ${d?"opacity-100 blur-0":"opacity-0 blur-[25px]"}`,children:e.jsx(re,{planetName:r.name,containerClassName:"w-full h-full",autoRotate:!1,enableControls:!0,showDebugInfo:!1,onEffectsCreated:v,planetData:{name:r.name,diameter:r.diameter,density:r.density,gravity:r.gravity,mass:r.mass,orbital_radius:r.orbital_radius,orbital_period_seconds:r.orbital_period_seconds,rotation_period_seconds:r.rotation_period_seconds,surface_temperature:r.surface_temperature,axial_tilt:r.axial_tilt,planet_type:r.planet_type,atmosphere:r.atmosphere,elements:r.elements,initial_orbital_angle:r.initial_orbital_angle||0},cosmicOriginTime:x,initialAngleRotation:m,onDataLoaded:t=>{O(t)},onError:t=>{T(t),console.error("âŒ Planet rendering error:",t)}})}),!f&&e.jsx("div",{className:`absolute inset-0 w-full h-full transition-all duration-500 ${d?"opacity-100 blur-0":"opacity-0 blur-[25px]"}`,children:d&&a?e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(K,{zoomMargin:20,classDialog:"backdrop-blur-3xl",children:e.jsx("img",{ref:o,className:"max-w-full max-h-full object-contain rounded-xl shadow-2xl shadow-blue-500/20",src:a,alt:"Planet visualization",style:{width:"100%",height:"100%",objectFit:"contain",backgroundColor:"transparent"}})})}):e.jsx("img",{ref:o,className:"w-full h-full object-cover",src:"/static/images/placeholder-min.jpg",alt:"Planet visualization"})}),R&&e.jsx("div",{className:"absolute top-2 right-2 bg-black/70 text-white px-2 py-1 rounded text-xs",children:f?"ðŸŒ 3D":"ðŸ–¼ï¸ 2D"})]}),e.jsxs("div",{className:"text-center mt-auto",children:[e.jsxs("a",{href:s,className:`inline-block px-4 py-2 bg-gradient-to-r from-slate-800 via-slate-700 to-slate-800 text-gray-200 font-medium text-sm rounded-lg border border-slate-600 hover:border-slate-500 shadow-md hover:shadow-lg transition-all duration-300 relative overflow-hidden group ${S?"animate-pulse":""}`,style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:[e.jsxs("span",{className:"relative z-10 font-mono flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.736 6.979C9.208 6.193 9.696 6 10 6s.792.193 1.264.979a1 1 0 001.715-1.029C12.279 4.784 11.232 4 10 4s-2.279.784-2.979 1.95a1 1 0 001.715 1.029zM8.5 10a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM10 14c-.304 0-.792-.193-1.264-.979a1 1 0 00-1.715 1.029C7.721 15.216 8.768 16 10 16s2.279-.784 2.979-1.95a1 1 0 00-1.715-1.029C10.792 13.807 10.304 14 10 14z",clipRule:"evenodd"})}),j]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-slate-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-500 text-center",children:["Gateway to the stars",f&&z&&e.jsxs("div",{className:"ml-2 text-blue-400 mt-1",children:["â€¢ ",z.planet_info?.type," Planet",z.atmosphere&&e.jsx("span",{className:"text-purple-400",children:" â€¢ Atmosphere"}),z.rings?.has_rings&&e.jsx("span",{className:"text-yellow-400",children:" â€¢ Rings"})]}),f&&c&&e.jsx("div",{className:"ml-2 text-red-400 mt-1",children:"â€¢ Rendering Error"})]})]})]})},ce=({currentPlanet:s,system:a,galaxy:r,systemPlanets:x})=>{const[m,v]=i.useState(null),[l,h]=i.useState(null),[n,o]=i.useState(!1),[j,g]=i.useState(!1),[S,k]=i.useState(!0),[d,u]=i.useState(!1),[p,E]=i.useState(null);i.useEffect(()=>{if(x&&x.length>0){const c=x.findIndex(T=>T.name.toLowerCase()===s.toLowerCase());c!==-1?(c>0?(v(x[c-1].name.toLowerCase()),o(!0)):a.index>0?(v("__prev_system__"),o(!0)):o(!1),c<x.length-1?(h(x[c+1].name.toLowerCase()),g(!0)):(h("__next_system__"),g(!0))):(o(!1),g(!1))}else o(!1),g(!1);k(!1)},[s,a.index,x]);const f=c=>c.replace(/_/g," "),D=c=>{const N=c==="prev"&&m==="__prev_system__"||c==="next"&&l==="__next_system__"?"system":"planet";return w.previewTravelCost(N,1)},R=c=>{E(c),u(!0)},V=()=>{u(!1),E(null)},z=async()=>{const c=r.coordinates.join(",");if(m==="__prev_system__"){if(!w.canAffordTravel("system",1)){w.executeTravel("system",1);return}if(!w.executeTravel("system",1))return;try{const N=await fetch(`/system/${a.index-1}`,{headers:{Accept:"application/json"}});if(N.ok){const t=await N.json();if(t.system&&t.system.planets&&t.system.planets.length>0){const y=t.system.planets[t.system.planets.length-1].name.toLowerCase();B(c,a.index-1,y,t.system.planets),G(c,a.index-1),window.location.href=`/planet/${y}`;return}}window.location.href=`/system/${a.index-1}`}catch{window.location.href=`/system/${a.index-1}`}}else if(m){if(!w.canAffordTravel("planet",1)){w.executeTravel("planet",1);return}if(!w.executeTravel("planet",1))return;B(c,a.index,m,x),window.location.href=`/planet/${m}`}},O=async()=>{const c=r.coordinates.join(",");if(l==="__next_system__"){if(!w.canAffordTravel("system",1)){w.executeTravel("system",1);return}if(!w.executeTravel("system",1))return;try{const N=await fetch(`/system/${a.index+1}`,{headers:{Accept:"application/json"}});if(N.ok){const t=await N.json();if(t.system&&t.system.planets&&t.system.planets.length>0){const y=t.system.planets[0].name.toLowerCase();B(c,a.index+1,y,t.system.planets),G(c,a.index+1),window.location.href=`/planet/${y}`;return}}window.location.href=`/system/${a.index+1}`}catch{window.location.href=`/system/${a.index+1}`}}else if(l){if(!w.canAffordTravel("planet",1)){w.executeTravel("planet",1);return}if(!w.executeTravel("planet",1))return;B(c,a.index,l,x),window.location.href=`/planet/${l}`}};return S?null:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:z,onMouseEnter:()=>R("prev"),onMouseLeave:V,disabled:!n,className:`flex items-center justify-center px-3 py-1.5 rounded-lg transition-all duration-200 ${n?"bg-white/10 hover:bg-white/20 border border-white/20 text-white hover:text-blue-300":"bg-white/5 border border-white/10 text-gray-600 cursor-not-allowed"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:O,onMouseEnter:()=>R("next"),onMouseLeave:V,disabled:!j,className:`flex items-center justify-center px-3 py-1.5 rounded-lg transition-all duration-200 ${j?"bg-white/10 hover:bg-white/20 border border-white/20 text-white hover:text-blue-300":"bg-white/5 border border-white/10 text-gray-600 cursor-not-allowed"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),d&&p&&e.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 z-50 bg-black/90 backdrop-blur-xl rounded-lg border border-blue-400/30 p-3 shadow-2xl min-w-max",children:[e.jsx("div",{className:"text-xs text-blue-300 font-semibold mb-1",children:"ðŸš€ Travel Cost"}),e.jsx("div",{className:"text-xs text-white",children:D(p)}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[p==="prev"&&m==="__prev_system__"&&"â† Previous system",p==="prev"&&m!=="__prev_system__"&&`â† ${f(m||"")}`,p==="next"&&l==="__next_system__"&&"Next system â†’",p==="next"&&l!=="__next_system__"&&`${f(l||"")} â†’`]})]})]})},xe=({planet:s,system:a,galaxy:r,planet_url:x,version:m,image_url:v,cosmic_origin_time:l,initial_angle_rotation:h})=>{const[n]=i.useState(r.coordinates.join(",")),[o,j]=i.useState([]),g=p=>{j(p)},S=(p,E)=>{j(f=>f.map(D=>D.id===p?{...D,enabled:E}:D))};i.useEffect(()=>{document.body.setAttribute("data-coordinates",n),document.body.setAttribute("data-system-index",a.index.toString()),document.body.setAttribute("data-planet-name",s.name.toLowerCase()),B(n,a.index,s.name,a.planets||[]),G(n,a.index)},[n,a.index,s.name]);const k=p=>p.replace(/_/g," "),d=p=>p.replace(/_/g," "),u=p=>p.replace(/_/g," ");return e.jsxs("div",{className:"w-full h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-auto",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsx(U,{}),e.jsxs("div",{className:"relative z-10 pt-1",children:[e.jsx(ee,{}),e.jsxs("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex items-center justify-center gap-4 mb-4",children:e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:["Planet '",k(s.name),"'"]})}),e.jsxs("p",{className:"text-lg sm:text-xl text-gray-300",children:["in System '",d(a.name),"' - Galaxy '",u(r.name),"'"]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-400",children:["Coordinates ",r.coordinates.join(", ")]})]}),e.jsx(ce,{currentPlanet:s.name,system:a,galaxy:r,systemPlanets:a.planets||[]}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[400px_1fr] gap-6 lg:gap-8 relative",children:[e.jsx("div",{className:"order-1 lg:order-1",children:e.jsx(de,{planetUrl:x,imageUrl:v,planet:s,cosmicOriginTime:l,initialAngleRotation:h,onEffectsCreated:g,effects:o,onToggleEffect:S})}),e.jsx("div",{className:"hidden lg:block absolute left-[416px] top-0 bottom-0 w-1 rounded-full bg-white/10 -translate-x-1.5"}),e.jsx("div",{className:"order-2 lg:order-2",children:e.jsx(le,{planet:s,system:a,galaxy:r,cosmicOriginTime:l,initialAngleRotation:h,effects:o,onToggleEffect:S})})]})}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6 text-center",children:e.jsx("button",{onClick:()=>window.location.href=`/system/${a.index}`,className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-gray-600 via-gray-700 to-gray-600 hover:from-gray-700 hover:via-gray-800 hover:to-gray-700 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg backdrop-blur-sm",children:e.jsxs("span",{className:"text-base sm:text-lg",children:["â† Back to System '",d(a.name),"'"]})})})]}),e.jsx(ie,{version:m})]}),e.jsx(te,{currentLocation:{type:"planet",name:s.name,coordinates:r.coordinates.join(","),systemIndex:a.index,planetName:s.name}})]})};document.addEventListener("DOMContentLoaded",async()=>{try{const s=document.getElementById("planet-data"),a=document.getElementById("system-data"),r=document.getElementById("galaxy-data"),x=document.getElementById("meta-data");if(!s||!a||!r||!x){console.error("Missing required data elements");return}const m=JSON.parse(s.textContent||"{}"),v=JSON.parse(a.textContent||"{}"),l=JSON.parse(r.textContent||"{}"),h=JSON.parse(x.textContent||"{}"),n={planet:m,system:v,galaxy:l,planet_url:h.planet_url,version:h.version,image_url:h.image_url,cosmic_origin_time:h.cosmic_origin_time,initial_angle_rotation:h.initial_angle_rotation},o=document.getElementById("atlas-react-root");o&&Q.createRoot(o).render(Z.createElement(xe,n))}catch(s){console.error("Error initializing Planet React app:",s)}});
