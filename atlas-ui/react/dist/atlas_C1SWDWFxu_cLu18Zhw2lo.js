import{r as t,j as e,c as zt}from"./atlas_DztNjO7RDBVhWZ-y1bcy1.js";import{A as Dt,E as _t,D as Ft,U as $t,F as Lt,H as Ut,S as Ge}from"./atlas_UIs4DxQZG7OpD2-OKsvyi.js";import{W as mt}from"./atlas_oohEvMdySAEvykvrmEZWK.js";import{V as st,a4 as pt,a5 as ft,G as Bt,r as Gt,cH as Ht,a2 as ht,cI as xt,cJ as He,b as Ce,z as Ee,M as Ie,aa as Wt,a9 as Vt,v as gt,cK as Xt,cL as Yt,C as ot,f as Zt,B as it,a as ge,Y as qt,A as lt,P as Jt,R as Kt}from"./atlas_Dr7FhitegIaVfnn-NnCom.js";import{V as Qt}from"./atlas_DkhYSJBHjNj1C82pPhqOg.js";import{S as Oe,a as ea}from"./atlas_BxF39WZey41stvLIvv-oB.js";import{E as ta,R as aa,U as ra,S as na}from"./atlas_CL1FEvCMa5769vO7IeA4_.js";import"./atlas_NcbMusH95geV1bEYmniMW.js";import"./atlas_C0NoXn30NvQskZTlvs4ww.js";const sa=({onCoordinateChange:l,travelCost:P,canAfford:c,formatResource:$,efficiency:k})=>{const[S,T]=t.useState({x:1e6,y:1e6,z:1e6}),[M,B]=t.useState(!1),E={x:[{value:0,name:"The Edge"},{value:1e6,name:"Alpha"},{value:2e6,name:"Beta"},{value:3e6,name:"Gamma"},{value:4e6,name:"Delta"},{value:5e6,name:"Epsilon"},{value:6e6,name:"Zeta"},{value:7e6,name:"Eta"},{value:8e6,name:"Theta"},{value:9e6,name:"Iota"},{value:1e7,name:"The Unknown"}],y:[{value:0,name:"The Edge"},{value:1e6,name:"Lambda"},{value:2e6,name:"Mu"},{value:3e6,name:"Nu"},{value:4e6,name:"Xi"},{value:5e6,name:"Omicron"},{value:6e6,name:"Pi"},{value:7e6,name:"Rho"},{value:8e6,name:"Sigma"},{value:9e6,name:"Tau"},{value:1e7,name:"The Unknown"}],z:[{value:0,name:"The Edge"},{value:1e6,name:"Phi"},{value:2e6,name:"Chi"},{value:3e6,name:"Psi"},{value:4e6,name:"Omega"},{value:5e6,name:"Vega"},{value:6e6,name:"Rigel"},{value:7e6,name:"Sirius"},{value:8e6,name:"Antares"},{value:9e6,name:"Procyon"},{value:1e7,name:"The Unknown"}]},N=(r,u)=>{const n=E[r];for(let h=0;h<n.length;h++){const w=n[h].value,y=h<n.length-1?n[h+1].value:10000001;if(h===0&&u<=999999||u>=w&&u<y||h===n.length-1&&u>=9e6&&u<=1e7)return h}return-1},z=(r,u)=>{const n=parseInt(u,10);T(h=>({...h,[r]:n})),M&&l&&l({...S,[r]:n},!0)},D=(r,u)=>{let n=parseInt(u,10);isNaN(n)||n<0?n=0:n>1e7&&(n=1e7),T(h=>({...h,[r]:n})),M&&l&&l({...S,[r]:n},!0)},A=(r,u)=>{const n=parseInt(u,10);T(h=>({...h,[r]:n})),M&&l&&l({...S,[r]:n},!0)},v=()=>{const u={x:Math.floor(Math.random()*1e7),y:Math.floor(Math.random()*1e7),z:Math.floor(Math.random()*1e7)};T(u),M&&l&&l(u,!0)};t.useEffect(()=>{l&&M&&l(S,!1)},[S,l,M]),t.useEffect(()=>{v(),B(!0)},[]);const b=(r,u)=>{const n=N(r,S[r]),w={x:{gradient:"from-blue-400 to-cyan-400",border:"border-blue-500/40",text:"text-blue-300",accent:"text-blue-400",ring:"focus:ring-blue-500"},y:{gradient:"from-purple-400 to-violet-400",border:"border-purple-500/40",text:"text-purple-300",accent:"text-purple-400",ring:"focus:ring-purple-500"},z:{gradient:"from-pink-400 to-rose-400",border:"border-pink-500/40",text:"text-pink-300",accent:"text-pink-400",ring:"focus:ring-pink-500"}}[r];return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-white",children:[u," Coordinate"]}),e.jsx("div",{className:`text-xl sm:text-2xl font-mono ${w.accent} font-bold`,children:S[r].toLocaleString()})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("select",{id:`${r}-name`,className:`flex-1 bg-white/10 border ${w.border} rounded-lg px-4 py-3 text-white focus:ring-2 ${w.ring} focus:border-transparent backdrop-blur-sm`,value:n>=0?E[r][n].value:"",onChange:y=>A(r,y.target.value),children:E[r].map((y,i)=>e.jsx("option",{value:y.value,className:"bg-gray-800 text-white",children:y.name},i))}),e.jsx("input",{type:"number",id:`${r}-value`,name:r,value:S[r],className:`flex-1 bg-white/10 border ${w.border} rounded-lg px-4 py-3 text-white focus:ring-2 ${w.ring} focus:border-transparent backdrop-blur-sm`,min:"0",max:"10000000",onChange:y=>D(r,y.target.value)})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${w.gradient} opacity-20 rounded-xl blur-sm`}),e.jsx("div",{className:"relative p-2 bg-white/5 rounded-lg border border-white/10 backdrop-blur-sm",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-1 left-3 right-3 h-3 bg-white/10 rounded-xl"}),e.jsx("div",{className:`absolute top-1 left-3 right-3 h-3 bg-gradient-to-r ${w.gradient} rounded-xl transition-all duration-200 pointer-events-none z-10`,style:{width:`calc(${S[r]/1e7*100}% - 12px)`}}),e.jsx("input",{type:"range",id:`${r}-slider`,name:r,min:"0",max:"10000000",value:S[r],className:`
                    relative z-20 w-full h-3 bg-transparent rounded-xl appearance-none cursor-pointer
                    [&::-webkit-slider-track]:bg-transparent
                    [&::-webkit-slider-track]:rounded-xl
                    [&::-webkit-slider-thumb]:appearance-none
                    [&::-webkit-slider-thumb]:w-6
                    [&::-webkit-slider-thumb]:h-6
                    [&::-webkit-slider-thumb]:bg-gradient-to-br
                    [&::-webkit-slider-thumb]:${w.gradient}
                    [&::-webkit-slider-thumb]:rounded-full
                    [&::-webkit-slider-thumb]:border-2
                    [&::-webkit-slider-thumb]:border-white/30
                    [&::-webkit-slider-thumb]:shadow-lg
                    [&::-webkit-slider-thumb]:hover:shadow-xl
                    [&::-webkit-slider-thumb]:hover:scale-110
                    [&::-webkit-slider-thumb]:transition-all
                    [&::-webkit-slider-thumb]:duration-200
                    [&::-webkit-slider-thumb]:-mt-1.5
                    [&::-moz-range-thumb]:w-6
                    [&::-moz-range-thumb]:h-6
                    [&::-moz-range-thumb]:bg-gradient-to-br
                    [&::-moz-range-thumb]:${w.gradient}
                    [&::-moz-range-thumb]:rounded-full
                    [&::-moz-range-thumb]:border-2
                    [&::-moz-range-thumb]:border-white/30
                    [&::-moz-range-thumb]:cursor-pointer
                    [&::-moz-range-thumb]:shadow-lg
                    [&::-moz-range-thumb]:border-none
                    [&::-moz-range-track]:bg-transparent
                    [&::-moz-range-track]:border-none
                    [&::-moz-range-track]:h-3
                    transition-all
                    duration-200
                  `,onChange:y=>z(r,y.target.value)}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs font-medium",children:[e.jsx("span",{className:`${w.text} drop-shadow-sm`,children:"The Edge"}),e.jsx("span",{className:`text-center ${w.text}`,children:E[r][n>=0?n:0]?.name||"Unknown Region"}),e.jsx("span",{className:`${w.text} drop-shadow-sm`,children:"The Unknown"})]})]})})]})})]},r)};return e.jsxs("div",{className:"w-full space-y-6 sm:space-y-8 relative",children:[e.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6 relative",children:[e.jsx("div",{className:"w-full bg-white/5 rounded-xl p-3 sm:p-4 lg:p-6 border border-blue-500/30 backdrop-blur-sm",children:b("x","X")}),e.jsx("div",{className:"w-full bg-white/5 rounded-xl p-3 sm:p-4 lg:p-6 border border-purple-500/30 backdrop-blur-sm",children:b("y","Y")}),e.jsx("div",{className:"w-full bg-white/5 rounded-xl p-3 sm:p-4 lg:p-6 border border-pink-500/30 backdrop-blur-sm md:col-span-2 lg:col-span-1",children:b("z","Z")})]}),e.jsxs("div",{className:"w-full flex gap-4 relative z-10",children:[e.jsx("button",{type:"submit",className:"flex-1 px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-blue-600 via-purple-600 to-blue-700 hover:from-blue-700 hover:via-purple-700 hover:to-blue-800 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-95 shadow-lg backdrop-blur-sm",children:e.jsx("span",{className:"text-base sm:text-lg",children:"ðŸš€ Initialize Jump"})}),e.jsx("button",{type:"button",className:"flex-1 px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700 hover:from-purple-700 hover:via-pink-700 hover:to-purple-800 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-95 shadow-lg backdrop-blur-sm",onClick:v,children:e.jsx("span",{className:"text-base sm:text-lg",children:"ðŸŽ² Random Location"})})]}),P&&$&&e.jsx("div",{className:"w-full relative z-10",children:e.jsxs("div",{className:`w-full flex items-center justify-center gap-3 rounded-xl px-4 py-3 border backdrop-blur-sm text-sm ${c?"bg-emerald-500/10 border-emerald-500/30":"bg-red-500/10 border-red-500/30"}`,children:[e.jsxs("div",{className:"flex items-center gap-1 text-xl",children:[e.jsx(Dt,{size:20,color:"#a855f7"}),e.jsx("span",{className:"text-purple-400 font-medium",children:$(P.antimatter)})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xl",children:[e.jsx(_t,{size:20,color:"#06b6d4"}),e.jsx("span",{className:"text-cyan-400 font-medium",children:$(P.element115)})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xl",children:[e.jsx(Ft,{size:20,color:"#fb7185"}),e.jsx("span",{className:"text-orange-400 font-medium",children:$(P.deuterium)})]})]})})]})},oa=({coordinates:l,className:P=""})=>{const c=t.useRef(null),$=t.useRef(null),k=t.useRef(null),S=t.useRef(null),T=t.useRef(null),M=t.useRef(null),B=t.useRef(new st(0,0,0)),E=t.useRef(new st(0,0,0));return t.useEffect(()=>{if(!c.current)return;const N=c.current,z=N.clientWidth,D=N.clientHeight,A=new pt;$.current=A;const v=new ft(45,z/D,.1,1e3);v.position.set(8,6,8),v.lookAt(0,0,0);const b=new mt({antialias:!0,alpha:!0});b.setSize(z,D),b.setClearColor(0,0),k.current=b,N.appendChild(b.domElement);const r=new Bt;A.add(r),M.current=r;const u=new Gt(4,4,4),n=new Ht(u),h=new ht({color:16777215,opacity:.4,transparent:!0}),w=new xt(n,h);r.add(w);const y=new He(4,8,16777215,16777215);y.material.opacity=.1,y.material.transparent=!0,y.position.y=-2,r.add(y);const i=new He(4,8,16777215,16777215);i.material.opacity=.05,i.material.transparent=!0,i.rotation.z=Math.PI/2,i.position.x=-2,r.add(i);const s=new He(4,8,16777215,16777215);s.material.opacity=.05,s.material.transparent=!0,s.rotation.x=Math.PI/2,s.position.z=-2,r.add(s);const G=new Ce(.15,12,12),O=new Ee({color:16777215,transparent:!0,opacity:.8}),C=new Ie(G,O);C.position.set(0,0,0),r.add(C);const X=new Ie(new Ce(.25,12,12),new Ee({color:16777215,transparent:!0,opacity:.2}));C.add(X);const ee=new Ce(.12,12,12),re=new Ee({color:440020,transparent:!0,opacity:1}),ce=new Ie(ee,re);S.current=ce,r.add(ce);const be=new Ie(new Ce(.2,12,12),new Ee({color:440020,transparent:!0,opacity:.3}));ce.add(be);const L=(Y,se)=>{const te=document.createElement("canvas"),Z=te.getContext("2d");if(!Z)return null;te.width=32,te.height=32,Z.fillStyle=`#${se.toString(16).padStart(6,"0")}`,Z.font="bold 24px Arial",Z.textAlign="center",Z.textBaseline="middle",Z.fillText(Y,16,16);const Se=new gt(te),Pe=new Xt({map:Se,transparent:!0,opacity:.8}),pe=new Yt(Pe);return pe.scale.set(.4,.4,1),pe},de=L("X",16739179);de&&(de.position.set(2,-2,-2),r.add(de));const ne=L("Y",7077739);ne&&(ne.position.set(-2,2,-2),r.add(ne));const ue=L("Z",7039999);ue&&(ue.position.set(-2,-2,2),r.add(ue));const Re=new Wt(4210752,.4);A.add(Re);const we=new Vt(16777215,.6);we.position.set(3,3,3),A.add(we);const me=()=>{T.current=requestAnimationFrame(me),M.current&&(M.current.rotation.y+=.002,M.current.rotation.x+=.001),S.current&&(E.current.lerp(B.current,.05),S.current.position.copy(E.current)),b.render(A,v)};me();const ve=()=>{if(!N)return;const Y=N.clientWidth,se=N.clientHeight;v.aspect=Y/se,v.updateProjectionMatrix(),b.setSize(Y,se)},ye=new ResizeObserver(ve);return ye.observe(N),()=>{T.current&&cancelAnimationFrame(T.current),ye.disconnect(),N&&b.domElement&&N.contains(b.domElement)&&N.removeChild(b.domElement),b.dispose()}},[]),t.useEffect(()=>{const{x:D,y:A,z:v}=l,b=((D-0)/1e7-.5)*4,r=((A-0)/1e7-.5)*4,u=((v-0)/1e7-.5)*4;B.current.set(b,r,u)},[l]),e.jsx("div",{ref:c,className:`rounded-lg overflow-hidden ${P}`,style:{background:"transparent"}})},ia=({seedData:l,onComplete:P})=>{const c=t.useRef(null),$=t.useRef(null),k=t.useRef(null),S=t.useRef(null),T=t.useRef(null),M=t.useRef(null),[B,E]=t.useState(!1),[N,z]=t.useState(0),[D,A]=t.useState(""),[v,b]=t.useState(""),[r,u]=t.useState(""),[n,h]=t.useState(""),[w,y]=t.useState(!1),[i,s]=t.useState(!1),[G,O]=t.useState(!1),[C,X]=t.useState(!1),[ee,re]=t.useState(!1),[ce,be]=t.useState("ACTIVE"),[L,de]=t.useState(!0),[ne,ue]=t.useState(!1),[Re,we]=t.useState(!1),[me,ve]=t.useState(!1),[ye,Y]=t.useState(!1),[se,te]=t.useState(!1),[Z,Se]=t.useState(!1),[Pe,pe]=t.useState(!1),[bt,We]=t.useState(!1),[Ve,wt]=t.useState(1),[vt,yt]=t.useState(!1),[Xe,St]=t.useState(1),[Me,Mt]=t.useState(0),Ye=l?.primordial_seed||"COSMOS-"+Date.now()+"-GENESIS",Ze=l?.sha256_seed||Array.from({length:64},()=>Math.floor(Math.random()*16).toString(16)).join("").toUpperCase(),qe=l?.decimal_seed||Array.from({length:77},()=>Math.floor(Math.random()*10)).join(""),Nt=()=>{const p=document.createElement("canvas");p.width=64,p.height=64;const d=p.getContext("2d");d.clearRect(0,0,64,64);const g=d.createRadialGradient(32,32,0,32,32,32);g.addColorStop(0,"rgba(255,255,255,1.0)"),g.addColorStop(.3,"rgba(255,255,255,0.8)"),g.addColorStop(.7,"rgba(255,255,255,0.2)"),g.addColorStop(1,"rgba(255,255,255,0.0)"),d.fillStyle=g,d.beginPath(),d.arc(32,32,32,0,Math.PI*2),d.fill();const R=new gt(p);return R.premultiplyAlpha=!1,R.format=Kt,R},jt={uniforms:{tDiffuse:{value:null},warpAmount:{value:0},time:{value:0}},vertexShader:`
      varying vec2 vUv;
      void main() {
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
      }
    `,fragmentShader:`
      uniform sampler2D tDiffuse;
      uniform float warpAmount;
      uniform float time;
      varying vec2 vUv;
      
      void main() {
        vec2 center = vec2(0.5, 0.5);
        vec2 direction = vUv - center;
        float distance = length(direction);
        
        float stretchBase = 1.0 + warpAmount * distance * distance * 6.0;
        vec2 stretchedUv = center + direction * stretchBase;
        
        float aberrationAmount = warpAmount * distance * 1.0;
        vec2 redOffset = direction * aberrationAmount * 0.4;
        vec2 blueOffset = direction * aberrationAmount * -0.4;
        
        float red = texture2D(tDiffuse, stretchedUv + redOffset).r;
        float green = texture2D(tDiffuse, stretchedUv).g;
        float blue = texture2D(tDiffuse, stretchedUv + blueOffset).b;
        
        float lineFrequency = 8.0 + warpAmount * 12.0;
        float lines = sin(atan(direction.y, direction.x) * lineFrequency + time * (20.0 + warpAmount * 80.0)) * 0.5 + 0.5;
        float lineIntensity = warpAmount * warpAmount;
        float lineEffect = lines * lineIntensity * 0.2 * distance;
        
        vec3 color = vec3(red, green, blue);
        color += vec3(lineEffect * 0.3, lineEffect * 0.5, lineEffect * 0.8) * smoothstep(0.0, 1.0, warpAmount);
        
        gl_FragColor = vec4(color, 1.0);
      }
    `},Tt=()=>{if(c.current)try{const p=new pt;p.background=new ot(0),$.current=p;const d=new ft(75,window.innerWidth/window.innerHeight,.01,1e3);d.position.set(0,0,0),S.current=d;const g=new mt({antialias:!0,alpha:!0});g.setSize(window.innerWidth,window.innerHeight),g.setClearColor(0,1),c.current.appendChild(g.domElement),k.current=g;const R=new ta(g),ze=new aa(p,d);R.addPass(ze);const De=new ra(new Zt(window.innerWidth,window.innerHeight),.3,.6,.3);R.addPass(De);const Ne=new na(jt);R.addPass(Ne),T.current=R;const _=7500,q=new it,oe=new Float32Array(_*3),ae=new Float32Array(_*3),ie=new Float32Array(_),fe=new Float32Array(_*3),H=new Float32Array(_);for(let a=0;a<_;a++){const U=Math.random()*Math.PI*2,K=Math.random()*50+5,Q=-Math.random()*200-50;oe[a*3]=Math.cos(U)*K,oe[a*3+1]=(Math.random()-.5)*100,oe[a*3+2]=Q,H[a]=Q,fe[a*3]=0,fe[a*3+1]=0,fe[a*3+2]=.5;const I=Math.random()*.6+.4;ae[a*3]=I*.8,ae[a*3+1]=I*.9,ae[a*3+2]=I,ie[a]=Math.random()*1.6+.6}q.setAttribute("position",new ge(oe,3)),q.setAttribute("color",new ge(ae,3)),q.setAttribute("size",new ge(ie,1));const je=new qt({size:.2,vertexColors:!0,blending:lt,transparent:!0,depthWrite:!1,map:Nt()}),Je=new Jt(q,je);p.add(Je);const Te=200,he=new it,J=new Float32Array(Te*6),ke=new Float32Array(Te*6);for(let a=0;a<Te;a++){const U=Math.random()*Math.PI*2,K=Math.random()*30+10;J[a*6]=Math.cos(U)*K,J[a*6+1]=(Math.random()-.5)*60,J[a*6+2]=10,J[a*6+3]=Math.cos(U)*K,J[a*6+4]=J[a*6+1],J[a*6+5]=-20;const Q=Math.random()*.5+.5;for(let I=0;I<2;I++)ke[a*6+I*3]=Q*.7,ke[a*6+I*3+1]=Q*.8,ke[a*6+I*3+2]=Q}he.setAttribute("position",new ge(J,3)),he.setAttribute("color",new ge(ke,3));const _e=new ht({vertexColors:!0,blending:lt,transparent:!0,opacity:0,linewidth:2}),kt=new xt(he,_e);p.add(kt);let At=Date.now(),j=.3,W=20,Ke=!1,Qe=!1;const et=4,Ct=7,xe=8,Fe=12,$e=9,tt=15,at=T.current?.passes[2];at&&(at.uniforms.warpAmount.value=5e-4);const rt=()=>{const a=(Date.now()-At)/1e3;if(a>.8&&a<.9&&!me&&(ve(!0),setTimeout(()=>{Y(!0),setTimeout(()=>{ve(!1),Y(!1)},300)},2e3)),a<et){const o=a/et,x=Math.pow(o,2.2);j=.3+(W-.3)*x,j>W*.75&&!Ke&&(Ke=!0,te(!0),setTimeout(()=>{Se(!0),setTimeout(()=>{te(!1),Se(!1)},300)},2e3))}else if(a<Ct)j=W;else if(a<Fe){const o=a-xe,x=Fe-xe,m=o/x,f=Math.pow(1-m,2);j=.001+(W-.001)*f,!Qe&&a>=xe&&(Qe=!0,E(!0),pe(!0),setTimeout(()=>{We(!0),setTimeout(()=>{pe(!1),We(!1)},300)},1800),setTimeout(()=>{z(1),setTimeout(()=>{ue(!0)},1500),setTimeout(()=>{(()=>{let F=0;const le=2500,Ae=50,Be=le/Ae,It=1/Be,Ot=100/Be,Rt=setInterval(()=>{F+=1;const nt=Math.max(0,1-It*F),Pt=Math.min(100,Ot*F);wt(nt),St(nt),Mt(Pt),F>=Be&&(clearInterval(Rt),yt(!0))},Ae)})()},2e3)},100))}else a<tt,j=.001;const U=q.attributes.position.array;let K=1;if(a>=$e){const o=a-$e,x=Fe-$e;if(o<x){const m=o/x;K=Math.max(0,1-Math.pow(m,.5))}else K=0}a>=xe||a>xe-1?(p.background=null,g.setClearColor(0,0)):(p.background=new ot(0),g.setClearColor(0,1));const Q=Je.material;Q.opacity=K;for(let o=0;o<_;o++)if(U[o*3+2]+=j,U[o*3+2]>10){U[o*3+2]=H[o];const x=Math.random()*Math.PI*2,m=Math.random()*50+5;U[o*3]=Math.cos(x)*m,U[o*3+1]=(Math.random()-.5)*100}if(q.attributes.position.needsUpdate=!0,j>2){const o=(j-2)/(W-2);let x=Math.pow(o,1.5);if(a>10){const f=a-10,V=Math.min(1,f/1);x*=1-V}_e.opacity=x*.9;const m=he.attributes.position.array;for(let f=0;f<Te;f++){const V=j*(1+x*1);m[f*6+2]+=V;const F=5+j*2;if(m[f*6+5]=m[f*6+2]-F,m[f*6+2]>20){const le=Math.random()*Math.PI*2,Ae=Math.random()*30+10;m[f*6]=Math.cos(le)*Ae,m[f*6+1]=(Math.random()-.5)*60,m[f*6+2]=-100,m[f*6+3]=m[f*6],m[f*6+4]=m[f*6+1],m[f*6+5]=-100-F}}he.attributes.position.needsUpdate=!0}else _e.opacity=0;const I=R?.passes[1],Le=R?.passes[2];if(I&&Le){let o=j/W,x=j/W;if(a>10){const f=a-10,V=1;if(f<V){const F=f/V,le=Math.max(0,1-F);o*=le,x*=le}else o=0,x=0}I.strength=.15+o*1.05,I.radius=.4+o*.5;const m=Math.pow(x,1.8)*.8;Le.uniforms.warpAmount.value=Math.max(.001,m),Le.uniforms.time.value=a}if(j>3){let o=Math.pow((j-3)/(W-3),2.5);if(a>10){const V=a-10,F=Math.min(1,V/1);o*=1-F}const x=o*1.2,m=(Math.random()-.5)*x,f=(Math.random()-.5)*x;d.position.x=m*(.2+o*.8),d.position.y=f*(.2+o*.8)}else d.position.x*=.98,d.position.y*=.98;let Ue=j/W;if(a>10){const o=a-10,x=1;if(o<x){const m=o/x;Ue*=Math.max(0,1-m)}else Ue=0}const Et=Math.pow(Ue,.7);if(d.fov=75+Et*25,d.updateProjectionMatrix(),a>14&&B&&(z(0),setTimeout(()=>{E(!1)},1e3)),vt?g.render(p,d):T.current?T.current.render():g.render(p,d),a>tt+.5){we(!0),setTimeout(()=>{P&&P()},300);return}M.current=requestAnimationFrame(rt)};rt()}catch(p){console.error("Error initializing scene:",p)}};return t.useEffect(()=>{k.current&&k.current.domElement&&(k.current.domElement.style.opacity=Xe.toString(),k.current.domElement.style.transition="opacity 2s ease-out")},[Xe]),t.useEffect(()=>(Tt(),()=>{M.current&&cancelAnimationFrame(M.current),k.current&&c.current&&k.current.domElement.parentNode&&(c.current.removeChild(k.current.domElement),k.current.dispose())}),[]),t.useEffect(()=>{if(!ne)return;const p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",d=(_,q,oe,ae)=>{setTimeout(()=>{let ie=0;const fe=setInterval(()=>{q(_.split("").map((H,je)=>je<ie?_[je]:H===" "||H===`
`||H===">"||H==="|"||H==="-"?H:p[Math.floor(Math.random()*p.length)]).join("")),ie>=_.length&&(clearInterval(fe),ae&&ae()),ie+=1},6)},oe)},g=()=>{de(!1)},R=`atlas@cube:~ $ > DEPLOY _
> Universe Primordial Seed: ${Ye}`,ze=`atlas@cube:~ $ > CYPHER _
> Quantum Overlay: ${Ze}`,De=`atlas@cube:~ $ > CREATE _
> Universal Constant: ${qe}`,Ne=l?.cosmic_origin_time?`atlas@cube:~ $ > RUN _
> Genesis: ${l.cosmic_origin_time} Unix ${new Date(l.cosmic_origin_time*1e3).toLocaleString("es-ES")}`:"";y(!0),d(R,A,50,()=>{setTimeout(()=>{s(!0),d(ze,b,0,()=>{setTimeout(()=>{O(!0),d(De,u,0,()=>{Ne?setTimeout(()=>{X(!0),d(Ne,h,0,()=>{g(),setTimeout(()=>{re(!0)},100)})},100):(g(),setTimeout(()=>{re(!0)},100))})},100)})},100)})},[ne,Ye,Ze,qe,l]),t.useEffect(()=>{if(!L){be("ACTIVE");return}const p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",d=setInterval(()=>{const g=Array.from({length:6},()=>p[Math.floor(Math.random()*p.length)]).join("");be(g)},15);return()=>clearInterval(d)},[L]),e.jsxs("div",{className:`fixed inset-0 z-[9999] overflow-hidden ${Re?"animate-fadeOut":"animate-fadeIn"}`,style:{backgroundColor:Ve>0?`rgba(0, 0, 0, ${Ve})`:"transparent",backdropFilter:Me>0?`blur(${Me}px)`:"none",WebkitBackdropFilter:Me>0?`blur(${Me}px)`:"none",transition:"background-color 0.1s ease-out, backdrop-filter 0.1s ease-out"},children:[e.jsx("div",{ref:c,className:"absolute inset-0"}),B&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-[60] pointer-events-none p-4",style:{opacity:N,transition:"opacity 1.5s ease-in-out"},children:e.jsx("div",{className:"w-full max-w-4xl mx-auto px-2 sm:px-4",children:e.jsxs("div",{className:"bg-black/95 border border-green-400/60 shadow-2xl overflow-hidden backdrop-blur-sm rounded-lg",style:{fontFamily:"Courier New, monospace",backdropFilter:"blur(12px)",minHeight:"320px"},children:[e.jsxs("div",{className:`px-3 sm:px-6 py-3 border-b border-green-400/50 flex items-center justify-between transition-all duration-500 ${L?"bg-green-900/30":"bg-green-500/20 border-green-300"}`,children:[e.jsxs("div",{className:`text-xs sm:text-sm font-mono uppercase tracking-wider transition-colors duration-500 break-words sm:break-normal overflow-hidden ${L?"text-green-400":"text-green-300"}`,children:[e.jsx("span",{className:"hidden lg:inline",children:"> ATLAS INITIALIZATION PROTOCOL v2.4.48 <"}),e.jsx("span",{className:"hidden sm:inline lg:hidden",children:"> ATLAS INIT PROTOCOL v2.4.48 <"}),e.jsx("span",{className:"sm:hidden",children:"> ATLAS INIT v2.4.48 <"})]}),e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("div",{className:`w-2 h-2 transition-colors duration-500 ${L?"bg-green-400 animate-pulse":"bg-green-300"}`}),e.jsx("div",{className:`text-xs sm:text-sm font-mono transition-colors duration-500 ${L?"text-green-400 animate-pulse":"text-green-300 font-bold"}`,children:ce})]})]}),e.jsxs("div",{className:"p-3 sm:p-6 text-green-400 font-mono text-xs leading-relaxed bg-black/70 overflow-x-auto min-h-[420px] lg:min-h-[300px]",children:[w&&e.jsx("div",{className:"animate-fadeIn text-green-300 mb-3 break-words overflow-wrap-anywhere",children:e.jsx("span",{className:"whitespace-pre-wrap",children:D})}),i&&e.jsx("div",{className:"animate-fadeIn text-green-300 mb-3 break-words overflow-wrap-anywhere",children:e.jsx("span",{className:"whitespace-pre-wrap",children:v})}),G&&e.jsx("div",{className:"animate-fadeIn text-green-300 mb-3 break-words overflow-wrap-anywhere",children:e.jsx("span",{className:"whitespace-pre-wrap",children:r})}),C&&e.jsx("div",{className:"animate-fadeIn text-green-300 mb-4 break-words overflow-wrap-anywhere",children:e.jsx("span",{className:"whitespace-pre-wrap",children:n})}),ee&&e.jsx("div",{className:"text-green-400 tracking-wider mt-8 break-words",style:{animation:"0.5s ease-out, blink 0.8s infinite"},children:"> ATLAS INITIALIZATION PROTOCOL COMPLETED"})]})]})})}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-[60]",children:[me&&e.jsx("div",{className:`bg-blue-500/20 text-blue-400 px-3 py-1 rounded-lg font-mono text-xs uppercase tracking-wider border border-blue-400/30 backdrop-blur-sm ${ye?"animate-phaseSlideDownFadeOut":"animate-phaseSlideUpFadeIn"}`,children:"IMMERSION"}),se&&e.jsx("div",{className:`bg-cyan-500/20 text-cyan-400 px-3 py-1 rounded-lg font-mono text-xs uppercase tracking-wider border border-cyan-400/30 backdrop-blur-sm ${Z?"animate-phaseSlideDownFadeOut":"animate-phaseSlideUpFadeIn"}`,children:"WARP JUMP"}),Pe&&e.jsx("div",{className:`bg-green-500/20 text-green-400 px-3 py-1 rounded-lg font-mono text-xs uppercase tracking-wider border border-green-400/30 backdrop-blur-sm ${bt?"animate-phaseSlideDownFadeOut":"animate-phaseSlideUpFadeIn"}`,children:"GNOSIS"})]})]})},la=({error:l,version:P})=>{const[c,$]=t.useState({x:1e6,y:1e6,z:1e6}),[k,S]=t.useState(null),[T,M]=t.useState(!1),[B,E]=t.useState(!1),[N,z]=t.useState(!1),[D,A]=t.useState(!0),v=t.useRef(null),[b,r]=t.useState(null);t.useEffect(()=>{$t.migrateFromOldStorage(),localStorage.getItem("atlasIntroSeen")||(fetch("/api/universe/config").then(s=>s.json()).then(s=>{s.success&&(r({primordial_seed:s.seed_str,sha256_seed:s.seed_hash,decimal_seed:s.seed_decimal,cosmic_origin_time:s.cosmic_origin_time,cosmic_origin_datetime:s.cosmic_origin_datetime}),E(!0))}).catch(s=>{console.error("Error fetching universe config:",s)}),localStorage.setItem("atlasIntroSeen","true"))},[]);const u=()=>{E(!1)},n=(i,s=!1)=>{$(i),s&&(v.current&&clearTimeout(v.current),z(!0),A(!1),v.current=setTimeout(()=>{z(!1),A(!0),v.current=null},3e3))},h=i=>{const s=Math.floor(Math.sqrt(Math.pow(i.x-1e6,2)+Math.pow(i.y-1e6,2)+Math.pow(i.z-1e6,2))/1e4),G=Ge.calculateTravelCost("galaxy",s),O=Ge.getUpgrade(),C={antimatter:Math.floor(G.antimatter/O.efficiency),element115:Math.floor(G.element115/O.efficiency),deuterium:Math.floor(G.deuterium/O.efficiency)},X={antimatter:Math.floor(C.antimatter/O.efficiency),element115:Math.floor(C.element115/O.efficiency),deuterium:Math.floor(C.deuterium/O.efficiency)};S(X);const ee=Ge.getResources(),re=ee.antimatter>=X.antimatter&&ee.element115>=X.element115&&ee.deuterium>=X.deuterium;M(re)};t.useEffect(()=>{h(c)},[c.x,c.y,c.z]),t.useEffect(()=>{const s=setInterval(()=>{h(c)},5e3);return()=>clearInterval(s)},[c.x,c.y,c.z]),t.useEffect(()=>()=>{v.current&&clearTimeout(v.current)},[]);const w=i=>i>=1e6?`${(i/1e6).toFixed(2)}M`:i>=1e3?`${(i/1e3).toFixed(1)}k`:i.toString(),y=()=>{const i=Math.floor(Math.sqrt(Math.pow(c.x-1e6,2)+Math.pow(c.y-1e6,2)+Math.pow(c.z-1e6,2))/1e4);if(!Oe.canAffordTravel("galaxy",i)){Oe.executeTravel("galaxy",i);return}if(!Oe.executeTravel("galaxy",i))return;const s=document.createElement("form");s.method="POST",s.action="/navigate",Object.entries(c).forEach(([G,O])=>{const C=document.createElement("input");C.type="hidden",C.name=G,C.value=O.toString(),s.appendChild(C)}),document.body.appendChild(s),s.submit()};return e.jsxs(e.Fragment,{children:[B&&e.jsx(ia,{seedData:b,onComplete:u}),e.jsxs("div",{className:"w-full h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-auto",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsx(Lt,{}),e.jsxs("div",{className:"relative z-10 pt-1",children:[e.jsx(Ut,{}),e.jsxs("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-8 relative",children:[e.jsxs("div",{className:"text-center mb-12 relative min-h-[200px] flex items-center justify-center",children:[e.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center transition-all duration-700 ease-in-out transform ${D?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-2"}`,style:{pointerEvents:D?"auto":"none"},children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-4",children:"Atlas Navigation System"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-4xl mx-auto px-4",children:"Navigate through infinite galaxies, solar systems, and planets. Enter coordinates to begin your journey across the universe."})]}),e.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-all duration-700 ease-in-out transform ${N?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2"}`,style:{pointerEvents:"none"},children:e.jsx("div",{className:"w-96 h-96",children:e.jsx(oa,{coordinates:c,className:"w-full h-full"})})})]}),l&&e.jsxs("div",{className:"mb-8 bg-red-500/20 border border-red-500 rounded-lg p-4 text-red-200 text-center",children:[e.jsx("span",{className:"font-semibold",children:"Navigation Error:"})," ",l]}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl overflow-hidden",children:e.jsx("form",{onSubmit:i=>{i.preventDefault(),y()},className:"w-full",children:e.jsx("div",{className:"p-3 sm:p-4 lg:p-6",children:e.jsx(sa,{onCoordinateChange:n,travelCost:k,canAfford:T,formatResource:w,efficiency:Oe.getTravelEfficiency()})})})})]}),e.jsx(Qt,{version:P})]}),e.jsx(ea,{})]})]})},ct=document.querySelector('meta[name="atlas-error"]'),dt=document.querySelector('meta[name="atlas-version"]'),ca={error:ct?ct.getAttribute("content"):null,version:dt&&dt.getAttribute("content")||"1.0.0"},ut=document.getElementById("atlas-react-root");ut&&zt.createRoot(ut).render(t.createElement(la,ca));
