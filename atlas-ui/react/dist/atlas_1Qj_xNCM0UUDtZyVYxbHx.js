import{r as d,j as e,H as R,V as I,c as _,R as D}from"./atlas_CFledeilutgbU3PjQ07IW.js";import{U as A}from"./atlas_BLeDWoIJJV-ej6pBo9-Yl.js";const $=({planet:t,system:r,galaxy:l})=>{const[o,f]=d.useState(!1),c=a=>a.replace(/_/g," "),h=a=>{const i=a/86400;return i<30?`${i.toFixed(2)} days`:i<365?`${(i/30).toFixed(2)} months`:`${(i/365).toFixed(2)} years`},x=a=>{const i=a*9/5+32;return`${a.toFixed(1)}°C (${i.toFixed(1)}°F)`},g=a=>`${a.toExponential(2)} kg`,m=a=>a>=1e3?`${(a/1e3).toFixed(2)} km`:`${a.toFixed(2)} m`;return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Planet Information"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 flex-1",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 sm:p-3 border border-blue-500/30",children:[e.jsx("div",{className:"text-xs sm:text-lg text-gray-200 mb-1",children:"Type"}),e.jsx("div",{className:"text-sm sm:text-3xl font-bold text-blue-300 capitalize",children:t.planet_type})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 sm:p-3 border border-purple-500/30",children:[e.jsx("div",{className:"text-xs sm:text-lg text-gray-200 mb-1",children:"Atmosphere"}),e.jsx("div",{className:"text-sm sm:text-3xl font-bold text-purple-300 capitalize",children:t.atmosphere})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 sm:p-3 border border-green-500/30",children:[e.jsx("div",{className:"text-xs sm:text-lg text-gray-200 mb-1",children:"Life Forms"}),e.jsx("div",{className:"text-sm sm:text-3xl font-bold text-green-300 capitalize",children:t.life_forms})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 sm:p-3 border border-orange-500/30 col-span-2 lg:col-span-3",children:[e.jsx("div",{className:"text-xs sm:text-lg text-gray-300 mb-3",children:"Physical Properties"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:[e.jsxs("div",{className:"bg-white/5 rounded p-2 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Mass"}),e.jsx("div",{className:"text-xs sm:text-sm font-bold text-orange-400",children:g(t.mass)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-2 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Diameter"}),e.jsx("div",{className:"text-xs sm:text-sm font-bold text-orange-400",children:m(t.diameter)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-2 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Density"}),e.jsxs("div",{className:"text-xs sm:text-sm font-bold text-orange-400",children:[t.density.toFixed(2)," kg/m³"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-2 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Gravity"}),e.jsxs("div",{className:"text-xs sm:text-sm font-bold text-orange-400",children:[t.gravity.toFixed(2)," m/s²"]})]})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 sm:p-3 border border-cyan-500/30 col-span-2 lg:col-span-3",children:[e.jsx("div",{className:"text-xs sm:text-lg text-gray-300 mb-3",children:"Orbital Properties"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:[e.jsxs("div",{className:"bg-white/5 rounded p-2 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Orbital Radius"}),e.jsxs("div",{className:"text-xs sm:text-sm font-bold text-cyan-400",children:[t.orbital_radius.toFixed(2)," AU"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-2 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Orbital Period"}),e.jsx("div",{className:"text-xs sm:text-sm font-bold text-cyan-400",children:h(t.orbital_period_seconds)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-2 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Orbital Speed"}),e.jsxs("div",{className:"text-xs sm:text-sm font-bold text-cyan-400",children:[t.orbital_speed.toFixed(2)," m/s"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-2 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Axial Tilt"}),e.jsxs("div",{className:"text-xs sm:text-sm font-bold text-cyan-400",children:[t.axial_tilt.toFixed(2),"°"]})]})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 sm:p-3 border border-red-500/30 col-span-2 lg:col-span-2",children:[e.jsx("div",{className:"text-xs sm:text-lg text-gray-300 mb-3",children:"Surface Conditions"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-white/5 rounded p-2 border border-red-500/20",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Temperature"}),e.jsx("div",{className:"text-xs sm:text-sm font-bold text-red-400",children:x(t.surface_temperature)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-2 border border-red-500/20",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Rotation Period"}),e.jsx("div",{className:"text-xs sm:text-sm font-bold text-red-400",children:h(t.rotation_period_seconds)})]})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 sm:p-3 border border-yellow-500/30 col-span-2 lg:col-span-1",children:[e.jsx("div",{className:"text-xs sm:text-lg text-gray-300 mb-2",children:"Elements"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.elements.slice(0,6).map((a,i)=>e.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-1 rounded border border-yellow-500/30",children:a},i)),t.elements.length>6&&e.jsxs("span",{className:"text-xs text-gray-400 px-2 py-1",children:["+",t.elements.length-6," more"]})]}),e.jsxs("div",{className:"border-t border-yellow-500/20 pt-2 mt-3",children:[e.jsxs("button",{onClick:()=>f(!o),className:"text-xs text-gray-500 hover:text-gray-300 transition-colors duration-300",children:[o?"▼":"▶"," Technical Data"]}),o&&e.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-white/5 rounded p-1",children:[e.jsx("span",{className:"text-yellow-400",children:"Planet:"}),e.jsx("div",{className:"text-white truncate",children:c(t.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1",children:[e.jsx("span",{className:"text-yellow-400",children:"System:"}),e.jsx("div",{className:"text-white truncate",children:c(r.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1",children:[e.jsx("span",{className:"text-yellow-400",children:"System ID:"}),e.jsxs("div",{className:"text-white",children:["#",r.index+1]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1",children:[e.jsx("span",{className:"text-yellow-400",children:"Galaxy:"}),e.jsx("div",{className:"text-white truncate",children:c(l.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1",children:[e.jsx("span",{className:"text-yellow-400",children:"Coords:"}),e.jsx("div",{className:"text-white",children:l.coordinates.join(", ")})]})]})]})]})]})]})},L=({planetUrl:t,imageUrl:r})=>{const l=d.useRef(null),o=d.useRef(null),[f,c]=d.useState("Aligning Stargate..."),[h,x]=d.useState(!1),[g,m]=d.useState(!1),[a,i]=d.useState(!1);return d.useEffect(()=>{const s=document.createElement("style");return s.textContent=`
      [data-rmiz-modal-overlay="visible"] {
        background-color: rgba(0, 0, 0, 0.8) !important;
        backdrop-filter: blur(20px) !important;
        -webkit-backdrop-filter: blur(20px) !important;
        transition: backdrop-filter 0.3s ease-in-out !important;
      }
      
      [data-rmiz-modal-img] {
        border-radius: 1rem !important;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8) !important;
      }
      
      [data-rmiz-modal-overlay="hidden"] {
        backdrop-filter: blur(0px) !important;
        -webkit-backdrop-filter: blur(0px) !important;
        transition: backdrop-filter 0.3s ease-in-out !important;
      }
    `,document.head.appendChild(s),()=>{document.head.removeChild(s)}},[]),d.useEffect(()=>{const s=l.current;if(!s)return;const u=s.getContext("2d");if(!u)return;let y=[];const w=800;let v,N;const p=800;let b,j=.5;function E(){const n=s?.parentElement;if(!n||!s)return;const C=n.clientWidth,S=n.clientHeight;s.width=Math.min(C,p),s.height=Math.min(S,p),v=s.width/2,N=s.height/2}function P(){E(),y=[];for(let n=0;n<w;n++)y.push({x:Math.random()*(s?.width||800),y:Math.random()*(s?.height||800),z:Math.random()*(s?.width||800),o:Math.random()});z()}function z(){!s||!u||(u.clearRect(0,0,s.width,s.height),y.forEach(n=>{n.z-=j,n.z<=0&&(n.z=s.width,n.x=Math.random()*s.width,n.y=Math.random()*s.height,n.o=Math.random());const C=s.width/n.z,S=(n.x-v)*C+v,M=(n.y-N)*C+N,F=2*C;u.beginPath(),u.fillStyle=`rgba(255, 255, 255, ${n.o})`,u.arc(S,M,F,0,2*Math.PI),u.fill()}),j<60&&(j+=1),b=requestAnimationFrame(z))}P();const k=()=>E();return window.addEventListener("resize",k),()=>{window.removeEventListener("resize",k),b&&cancelAnimationFrame(b)}},[]),d.useEffect(()=>{if(r){console.log("Loading planet image:",r);const s=new Image;s.onload=()=>{console.log("Planet image loaded successfully"),o.current&&(o.current.src=r,m(!0),i(!0))},s.onerror=()=>{console.error("Failed to load planet image:",r),setTimeout(()=>{m(!0),i(!0)},1500)},s.src=r}else console.log("No imageUrl provided, using placeholder"),setTimeout(()=>{m(!0),i(!0)},1500)},[r]),d.useEffect(()=>{if(sessionStorage.getItem("stargateAnimationShown")){c("Stargate system aligned");return}sessionStorage.setItem("stargateAnimationShown","true"),x(!0);const u=(p,b)=>Array.from({length:b},()=>p[Math.floor(Math.random()*p.length)]).join(""),y=[{chars:"01",duration:40,iterations:20},{chars:"0123456789",duration:25,iterations:30},{chars:"0123456789ABCDEF",duration:20,iterations:40},{chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()-_=+[]{}|;:\\'\",.<>?/`~",duration:10,iterations:100}];let w=0,v=0;const N=()=>{if(w>=y.length){const b="Stargate system aligned";let j=0;c("");const E=()=>{j<b.length?(c(b.substring(0,j+1)),j++,setTimeout(E,30)):x(!1)};E();return}const p=y[w];c(u(p.chars,32)),v++,v>=p.iterations&&(w++,v=0),setTimeout(N,p.duration)};N()},[]),e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Planet Visualization"}),e.jsxs("div",{className:"relative w-full max-w-80 sm:max-w-96 aspect-square mx-auto bg-black/50 flex justify-center items-center rounded-xl overflow-hidden border-2 border-blue-400/30 mb-4",children:[e.jsx("canvas",{ref:l,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-[2500ms] ${a?"opacity-0":"opacity-100"}`,style:{filter:a?"blur(50px)":"none"}}),e.jsx("div",{className:`absolute inset-0 w-full h-full transition-all duration-500 ${g?"opacity-100 blur-0":"opacity-0 blur-[25px]"}`,children:g&&r?e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(A,{zoomMargin:20,classDialog:"backdrop-blur-3xl",children:e.jsx("img",{ref:o,className:"max-w-full max-h-full object-contain rounded-xl shadow-2xl shadow-blue-500/20",src:r,alt:"Planet visualization",style:{width:"100%",height:"100%",objectFit:"contain",backgroundColor:"transparent"}})})}):e.jsx("img",{ref:o,className:"w-full h-full object-cover",src:"/static/images/placeholder-min.jpg",alt:"Planet visualization"})})]}),e.jsxs("div",{className:"text-center mt-auto",children:[e.jsxs("a",{href:t,className:`inline-block px-4 py-2 bg-gradient-to-r from-slate-800 via-slate-700 to-slate-800 text-gray-200 font-medium text-sm rounded-lg border border-slate-600 hover:border-slate-500 shadow-md hover:shadow-lg transition-all duration-300 relative overflow-hidden group ${h?"animate-pulse":""}`,style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:[e.jsxs("span",{className:"relative z-10 font-mono flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.736 6.979C9.208 6.193 9.696 6 10 6s.792.193 1.264.979a1 1 0 001.715-1.029C12.279 4.784 11.232 4 10 4s-2.279.784-2.979 1.95a1 1 0 001.715 1.029zM8.5 10a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM10 14c-.304 0-.792-.193-1.264-.979a1 1 0 00-1.715 1.029C7.721 15.216 8.768 16 10 16s2.279-.784 2.979-1.95a1 1 0 00-1.715-1.029C10.792 13.807 10.304 14 10 14z",clipRule:"evenodd"})}),f]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-slate-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"Gateway to the stars"})]})]})},T=({planet:t,system:r,galaxy:l,planet_url:o,version:f,image_url:c})=>{const[h]=d.useState(l.coordinates.join(","));d.useEffect(()=>{document.body.setAttribute("data-coordinates",h),document.body.setAttribute("data-system-index",r.index.toString()),document.body.setAttribute("data-planet-name",t.name.toLowerCase())},[h,r.index,t.name]);const x=a=>a.replace(/_/g," "),g=a=>a.replace(/_/g," "),m=a=>a.replace(/_/g," ");return e.jsxs("div",{className:"w-full h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-auto",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(R,{}),e.jsxs("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:["Planet '",x(t.name),"'"]}),e.jsxs("p",{className:"text-lg sm:text-xl text-gray-300",children:["in System '",g(r.name),"' - Galaxy '",m(l.name),"'"]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-400",children:["Coordinates ",l.coordinates.join(", ")]})]}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[400px_1fr] gap-6 lg:gap-8",children:[e.jsx("div",{className:"order-1 lg:order-1",children:e.jsx(L,{planetUrl:o,imageUrl:c})}),e.jsx("div",{className:"order-2 lg:order-2",children:e.jsx($,{planet:t,system:r,galaxy:l})})]})}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6 text-center",children:e.jsx("button",{onClick:()=>window.location.href=`/system/${r.index}`,className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-gray-600 via-gray-700 to-gray-600 hover:from-gray-700 hover:via-gray-800 hover:to-gray-700 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg backdrop-blur-sm",children:e.jsxs("span",{className:"text-base sm:text-lg",children:["← Back to System '",g(r.name),"'"]})})})]}),e.jsx(I,{version:f})]})]})};console.log("Atlas Planet React script loading...");document.addEventListener("DOMContentLoaded",async()=>{console.log("DOM loaded, starting Planet React app...");try{const t=document.getElementById("planet-data"),r=document.getElementById("system-data"),l=document.getElementById("galaxy-data"),o=document.getElementById("meta-data");if(!t||!r||!l||!o){console.error("Missing required data elements");return}const f=JSON.parse(t.textContent||"{}"),c=JSON.parse(r.textContent||"{}"),h=JSON.parse(l.textContent||"{}"),x=JSON.parse(o.textContent||"{}"),g={planet:f,system:c,galaxy:h,planet_url:x.planet_url,version:x.version,image_url:x.image_url},m=document.getElementById("atlas-react-root");m&&(_.createRoot(m).render(D.createElement(T,g)),console.log("Planet React app rendered successfully!"))}catch(t){console.error("Error initializing Planet React app:",t)}});
