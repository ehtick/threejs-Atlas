import{j as e,r as h,H as D,V as z,c as _,R as L}from"./atlas__blAIce6S4mdKmJbGh_OZ.js";const G=({galaxy:t})=>e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-blue-500/30 hover:border-blue-500/50 transition-colors duration-300",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Type"}),e.jsx("div",{className:"text-xl font-bold text-blue-400",children:t.galaxy_type})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-purple-500/30 hover:border-purple-500/50 transition-colors duration-300",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Solar Systems"}),e.jsx("div",{className:"text-xl font-bold text-purple-400",children:t.num_systems.toLocaleString()})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-pink-500/30 hover:border-pink-500/50 transition-colors duration-300",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Black Holes"}),e.jsx("div",{className:"text-xl font-bold text-pink-400",children:t.black_holes.toLocaleString()})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-cyan-500/30 hover:border-cyan-500/50 transition-colors duration-300",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Pulsars"}),e.jsx("div",{className:"text-xl font-bold text-cyan-400",children:t.pulsars.toLocaleString()})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-indigo-500/30 hover:border-indigo-500/50 transition-colors duration-300",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Quasars"}),e.jsx("div",{className:"text-xl font-bold text-indigo-400",children:t.quasars.toLocaleString()})]}),e.jsx("div",{className:"bg-white/10 rounded-lg p-4 border border-gray-500/30 hover:border-gray-500/50 transition-colors duration-300",children:e.jsx("div",{className:"text-xs text-gray-400",children:"*Black holes are grouped depending on their position"})})]})}),P=({galaxyUrl:t,imageUrl:i})=>{const n=h.useRef(null),s=h.useRef(null),[a,c]=h.useState("Aligning Stargate..."),[r,d]=h.useState(!1),[f,x]=h.useState(!1),[g,m]=h.useState(!1);return h.useEffect(()=>{const o=n.current;if(!o)return;const u=o.getContext("2d");if(!u)return;let j=[];const N=800;let y,w;const p=800;let b,v=.5;function S(){const l=o?.parentElement;if(!l||!o)return;const k=l.clientWidth,E=l.clientHeight;o.width=Math.min(k,p),o.height=Math.min(E,p),y=o.width/2,w=o.height/2}function M(){S(),j=[];for(let l=0;l<N;l++)j.push({x:Math.random()*(o?.width||800),y:Math.random()*(o?.height||800),z:Math.random()*(o?.width||800),o:Math.random()});$()}function $(){!o||!u||(u.clearRect(0,0,o.width,o.height),j.forEach(l=>{l.z-=v,l.z<=0&&(l.z=o.width,l.x=Math.random()*o.width,l.y=Math.random()*o.height,l.o=Math.random());const k=o.width/l.z,E=(l.x-y)*k+y,R=(l.y-w)*k+w,A=2*k;u.beginPath(),u.fillStyle=`rgba(255, 255, 255, ${l.o})`,u.arc(E,R,A,0,2*Math.PI),u.fill()}),v<60&&(v+=1),b=requestAnimationFrame($))}M();const C=()=>S();return window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C),b&&cancelAnimationFrame(b)}},[]),h.useEffect(()=>{if(sessionStorage.getItem("stargateAnimationShown")){c("Stargate system aligned");return}sessionStorage.setItem("stargateAnimationShown","true"),d(!0);const u=(p,b)=>Array.from({length:b},()=>p[Math.floor(Math.random()*p.length)]).join(""),j=[{chars:"01",duration:40,iterations:20},{chars:"0123456789",duration:25,iterations:30},{chars:"0123456789ABCDEF",duration:20,iterations:40},{chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()-_=+[]{}|;:'\",.<>?/`~",duration:10,iterations:100}];let N=0,y=0;const w=()=>{if(N>=j.length){const b="Stargate system aligned";let v=0;c("");const S=()=>{v<b.length?(c(b.substring(0,v+1)),v++,setTimeout(S,30)):d(!1)};S();return}const p=j[N];c(u(p.chars,32)),y++,y>=p.iterations&&(N++,y=0),setTimeout(w,p.duration)};w()},[]),e.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"relative w-full h-96 sm:h-[500px] lg:h-[600px] bg-black/50 flex justify-center items-center rounded-2xl overflow-hidden border-2 border-blue-400/30",children:[e.jsx("canvas",{ref:n,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-[2500ms] ${g?"opacity-0":"opacity-100"}`,style:{filter:g?"blur(50px)":"none"}}),e.jsx("img",{ref:s,className:`absolute inset-0 w-full h-full object-cover transition-all duration-500 ${f?"opacity-100 blur-0":"opacity-0 blur-[25px]"}`,src:"/static/images/placeholder-min.jpg",alt:"Galaxy visualization",onLoad:()=>{if(i){const o=new Image;o.onload=()=>{s.current&&(s.current.src=i,x(!0),m(!0))},o.src=i}else setTimeout(()=>{x(!0),m(!0)},1500)}})]}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsxs("a",{href:t,className:`inline-block px-8 py-4 bg-gradient-to-r from-cyan-500 via-blue-500 to-cyan-500 text-white font-bold text-lg rounded-full border-2 border-cyan-400 shadow-lg hover:shadow-cyan-400/50 transition-all duration-300 transform hover:scale-105 relative overflow-hidden ${r?"animate-pulse":""}`,style:{boxShadow:"0 0 15px rgba(34, 211, 238, 0.5)"},children:[e.jsx("span",{className:"relative z-10 font-mono",children:a}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-cyan-400 to-transparent opacity-50 animate-pulse",style:{animation:"borderAnimation 2s linear infinite"}})]}),e.jsx("div",{className:"mt-4 text-xs text-gray-400 max-w-md mx-auto",children:"Right-click and select 'Copy Link' to save this Stargate location"})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes borderAnimation {
          0% {
            transform: translateX(-100%);
          }
          100% {
            transform: translateX(100%);
          }
        }
      `})]})},H=({systems:t,coordinates:i})=>{const[n,s]=h.useState(new Set);return h.useEffect(()=>{(()=>{try{const d=JSON.parse(localStorage.getItem("atlasHistoricalData")||"{}")[i]||{},f=new Set;Object.keys(d).forEach(x=>{f.add(parseInt(x))}),s(f)}catch(r){console.error("Error loading historical data:",r)}})(),(()=>{try{let r=JSON.parse(localStorage.getItem("atlasHistoricalData")||"{}");r[i]||(r[i]={}),localStorage.setItem("atlasHistoricalData",JSON.stringify(r))}catch(r){console.error("Error saving historical data:",r)}})()},[i]),e.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 shadow-2xl p-4 sm:p-6",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:t.map(a=>e.jsxs("div",{className:"relative bg-white/10 rounded-lg border border-white/20 hover:bg-white/20 hover:border-white/40 transition-all duration-300 group",children:[n.has(a.index)&&e.jsx("div",{className:"absolute left-0 top-0 w-1 h-full bg-cyan-400 rounded-l-lg opacity-100 transition-opacity duration-300",style:{background:"linear-gradient(180deg, #00d4ff 0%, #00a0ff 100%)"}}),e.jsxs("a",{href:`/system/${a.index}`,className:"block p-4 text-gray-200 hover:text-white transition-colors duration-300 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"text-sm text-gray-400 mb-1",children:["System #",a.number]}),e.jsx("div",{className:"text-lg font-semibold text-white truncate group-hover:text-blue-300 transition-colors duration-300",children:a.name})]}),e.jsx("div",{className:"ml-3 text-gray-400 group-hover:text-blue-400 transition-colors duration-300 transform group-hover:translate-x-1",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]},a.index))}),t.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-lg mb-2",children:"No systems found"}),e.jsx("div",{className:"text-gray-500 text-sm",children:"This galaxy appears to be empty"})]})]})},B=({page:t,prevPage:i,nextPage:n,finish:s})=>{const a="px-4 py-2 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105",c="bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg",r="bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white border border-white/20";return e.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 shadow-2xl p-4 sm:p-6 mb-8",children:[e.jsxs("div",{className:"flex justify-center items-center gap-2 sm:gap-4 flex-wrap",children:[t!==1&&e.jsxs("a",{href:"/galaxy?page=1",className:`${a} ${r}`,title:"First page",children:[e.jsx("span",{className:"hidden sm:inline",children:"First"}),e.jsx("span",{className:"sm:hidden",children:"«"})]}),i&&e.jsxs("a",{href:`/galaxy?page=${i}`,className:`${a} ${r}`,title:"Previous page",children:[e.jsx("span",{className:"hidden sm:inline",children:"Previous"}),e.jsx("span",{className:"sm:hidden",children:"‹"})]}),(()=>{const d=[],x=Math.max(1,t-2),g=Math.min(s,t+2);x>1&&(d.push(e.jsx("a",{href:"/galaxy?page=1",className:`${a} ${r}`,children:"1"},1)),x>2&&d.push(e.jsx("span",{className:"px-2 text-gray-400",children:"..."},"start-ellipsis")));for(let m=x;m<=g;m++)d.push(e.jsx("a",{href:m===t?void 0:`/galaxy?page=${m}`,className:`${a} ${m===t?c:r} ${m===t?"cursor-default":"cursor-pointer"}`,children:m},m));return g<s&&(g<s-1&&d.push(e.jsx("span",{className:"px-2 text-gray-400",children:"..."},"end-ellipsis")),d.push(e.jsx("a",{href:`/galaxy?page=${s}`,className:`${a} ${r}`,children:s},s))),d})(),n&&e.jsxs("a",{href:`/galaxy?page=${n}`,className:`${a} ${r}`,title:"Next page",children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"}),e.jsx("span",{className:"sm:hidden",children:"›"})]}),t!==s&&e.jsxs("a",{href:`/galaxy?page=${s}`,className:`${a} ${r}`,title:"Last page",children:[e.jsx("span",{className:"hidden sm:inline",children:"Last"}),e.jsx("span",{className:"sm:hidden",children:"»"})]})]}),e.jsxs("div",{className:"text-center mt-4 text-sm text-gray-400",children:["Page ",t," of ",s]})]})},I=({galaxy:t,systems:i,galaxy_url:n,version:s,page:a,prev_page:c,next_page:r,finish:d,image_url:f})=>{const[x]=h.useState(t.coordinates.join(","));h.useEffect(()=>{document.body.setAttribute("data-coordinates",x)},[x]);const g=m=>m.replace(/_/g," ");return e.jsxs("div",{className:"w-full h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-auto",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(D,{}),e.jsxs("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:["Galaxy '",g(t.name),"'"]}),e.jsxs("p",{className:"text-lg sm:text-xl text-gray-300",children:["at Coordinates ",t.coordinates.join(", ")]})]}),e.jsx(G,{galaxy:t}),e.jsx(P,{galaxyUrl:n,imageUrl:f}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:["Systems in '",g(t.name),"'"]}),e.jsx(H,{systems:i,coordinates:x})]}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6 text-center",children:e.jsx("a",{href:"/",children:e.jsx("button",{className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-gray-600 via-gray-700 to-gray-600 hover:from-gray-700 hover:via-gray-800 hover:to-gray-700 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg backdrop-blur-sm",children:e.jsx("span",{className:"text-base sm:text-lg",children:"← Go Back to Planetary Index"})})})}),e.jsx(B,{page:a,prevPage:c,nextPage:r,finish:d})]}),e.jsx(z,{version:s})]})]})};console.log("Atlas Galaxy React script loading...");document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, mounting Galaxy React component...");const t=document.getElementById("atlas-react-root");if(!t){console.error("Could not find atlas-react-root element");return}const i=n=>{const s=document.getElementById(n);if(!s||!s.textContent)return null;try{const a=s.textContent.trim(),c=atob(a);return JSON.parse(c)}catch(a){return console.error(`Error parsing data from script ${n}:`,a),null}};try{const n=i("data-galaxy")||{},s=i("data-systems")||[],a=i("data-navigation")||{},c=i("data-common")||{},r={galaxy:{name:n.name||"Unknown Galaxy",coordinates:n.coordinates||[0,0,0],galaxy_type:n.galaxy_type||"Unknown",num_systems:n.num_systems||0,black_holes:n.black_holes||0,pulsars:n.pulsars||0,quasars:n.quasars||0},systems:s,galaxy_url:a.galaxy_url||"#",version:c.version||"1.0.0",page:a.page||1,prev_page:a.prev_page,next_page:a.next_page,finish:a.finish||1,image_url:c.image_url||""};console.log("Galaxy props loaded from JSON scripts:",r),_.createRoot(t).render(L.createElement(I,r)),console.log("Galaxy React component mounted successfully!")}catch(n){console.error("Error parsing galaxy data:",n);const s={galaxy:{name:"Unknown Galaxy",coordinates:[0,0,0],galaxy_type:"Unknown",num_systems:0,black_holes:0,pulsars:0,quasars:0},systems:[],galaxy_url:"#",version:"1.0.0",page:1,finish:1,image_url:""};_.createRoot(t).render(L.createElement(I,s))}});
