import{j as o,g as ue,a as ge,R as g,r as L,H as pe,V as fe,c as K}from"./atlas_CFledeilutgbU3PjQ07IW.js";const xe=({galaxy:t})=>o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Galaxy Information"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 flex-1",children:[o.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-blue-500/30 hover:border-blue-500/50 transition-colors duration-300",children:[o.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Type"}),o.jsx("div",{className:"text-xl font-bold text-blue-400",children:t.galaxy_type})]}),o.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-purple-500/30 hover:border-purple-500/50 transition-colors duration-300",children:[o.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Solar Systems"}),o.jsx("div",{className:"text-xl font-bold text-purple-400",children:t.num_systems.toLocaleString()})]}),o.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-pink-500/30 hover:border-pink-500/50 transition-colors duration-300",children:[o.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Black Holes"}),o.jsx("div",{className:"text-xl font-bold text-pink-400",children:t.black_holes.toLocaleString()})]}),o.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-cyan-500/30 hover:border-cyan-500/50 transition-colors duration-300",children:[o.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Pulsars"}),o.jsx("div",{className:"text-xl font-bold text-cyan-400",children:t.pulsars.toLocaleString()})]}),o.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-indigo-500/30 hover:border-indigo-500/50 transition-colors duration-300",children:[o.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Quasars"}),o.jsx("div",{className:"text-xl font-bold text-indigo-400",children:t.quasars.toLocaleString()})]}),o.jsx("div",{className:"bg-white/10 rounded-lg p-4 border border-gray-500/30 hover:border-gray-500/50 transition-colors duration-300 sm:col-span-2",children:o.jsx("div",{className:"text-xs text-gray-400",children:"*Black holes are grouped depending on their position"})})]})]});var ve=ge();const we=ue(ve);function be(){return g.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))}function ye(){return g.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))}const R=(t,e)=>t===e?.tagName?.toUpperCase?.(),B=t=>R("DIV",t)||R("SPAN",t),$=t=>R("IMG",t),Q=t=>t.complete&&t.naturalHeight!==0,T=t=>R("SVG",t),te=({height:t,offset:e,width:s})=>Math.min((window.innerWidth-e*2)/s,(window.innerHeight-e*2)/t),Ee=({containerHeight:t,containerWidth:e,offset:s,targetHeight:n,targetWidth:a})=>{const r=te({height:n,offset:s,width:a}),c=a>n?a/e:n/t;return r>1?c:r*c},z=({containerHeight:t,containerWidth:e,hasScalableSrc:s,offset:n,targetHeight:a,targetWidth:r})=>!t||!e?1:!s&&a&&r?Ee({containerHeight:t,containerWidth:e,offset:n,targetHeight:a,targetWidth:r}):te({height:t,offset:n,width:e}),Ne=/url(?:\(['"]?)(.*?)(?:['"]?\))/,W=t=>{if(t){if($(t))return t.currentSrc;if(B(t)){const e=window.getComputedStyle(t).backgroundImage;if(e)return Ne.exec(e)?.[1]}}},Se=t=>{if(t)return $(t)?t.alt??void 0:t.getAttribute("aria-label")??void 0},Le=({containerHeight:t,containerLeft:e,containerTop:s,containerWidth:n,hasScalableSrc:a,offset:r,targetHeight:c,targetWidth:h})=>{const d=z({containerHeight:t,containerWidth:n,hasScalableSrc:a,offset:r,targetHeight:c,targetWidth:h});return{top:s,left:e,width:n*d,height:t*d,transform:`translate(0,0) scale(${1/d})`}},I=({position:t,relativeNum:e})=>{const s=parseFloat(t);return t.endsWith("%")?e*s/100:s},Ie=({containerHeight:t,containerLeft:e,containerTop:s,containerWidth:n,hasScalableSrc:a,objectFit:r,objectPosition:c,offset:h,targetHeight:d,targetWidth:i})=>{if(r==="scale-down"&&(i<=n&&d<=t?r="none":r="contain"),r==="cover"||r==="contain"){const m=n/i,u=t/d,l=r==="cover"?Math.max(m,u):Math.min(m,u),[f="50%",x="50%"]=c.split(" "),b=I({position:f,relativeNum:n-i*l}),p=I({position:x,relativeNum:t-d*l}),v=z({containerHeight:d*l,containerWidth:i*l,hasScalableSrc:a,offset:h,targetHeight:d,targetWidth:i});return{top:s+p,left:e+b,width:i*l*v,height:d*l*v,transform:`translate(0,0) scale(${1/v})`}}else if(r==="none"){const[m="50%",u="50%"]=c.split(" "),l=I({position:m,relativeNum:n-i}),f=I({position:u,relativeNum:t-d}),x=z({containerHeight:d,containerWidth:i,hasScalableSrc:a,offset:h,targetHeight:d,targetWidth:i});return{top:s+f,left:e+l,width:i*x,height:d*x,transform:`translate(0,0) scale(${1/x})`}}else if(r==="fill"){const m=n/i,u=t/d,l=Math.max(m,u),f=z({containerHeight:d*l,containerWidth:i*l,hasScalableSrc:a,offset:h,targetHeight:d,targetWidth:i});return{width:n*f,height:t*f,transform:`translate(0,0) scale(${1/f})`}}else return{}},je=({backgroundPosition:t,backgroundSize:e,containerHeight:s,containerLeft:n,containerTop:a,containerWidth:r,hasScalableSrc:c,offset:h,targetHeight:d,targetWidth:i})=>{if(e==="cover"||e==="contain"){const m=r/i,u=s/d,l=e==="cover"?Math.max(m,u):Math.min(m,u),[f="50%",x="50%"]=t.split(" "),b=I({position:f,relativeNum:r-i*l}),p=I({position:x,relativeNum:s-d*l}),v=z({containerHeight:d*l,containerWidth:i*l,hasScalableSrc:c,offset:h,targetHeight:d,targetWidth:i});return{top:a+p,left:n+b,width:i*l*v,height:d*l*v,transform:`translate(0,0) scale(${1/v})`}}else if(e==="auto"){const[m="50%",u="50%"]=t.split(" "),l=I({position:m,relativeNum:r-i}),f=I({position:u,relativeNum:s-d}),x=z({containerHeight:d,containerWidth:i,hasScalableSrc:c,offset:h,targetHeight:d,targetWidth:i});return{top:a+f,left:n+l,width:i*x,height:d*x,transform:`translate(0,0) scale(${1/x})`}}else{const[m="50%",u="50%"]=e.split(" "),l=I({position:m,relativeNum:r}),f=I({position:u,relativeNum:s}),x=l/i,b=f/d,p=Math.min(x,b),[v="50%",y="50%"]=t.split(" "),E=I({position:v,relativeNum:r-i*p}),N=I({position:y,relativeNum:s-d*p}),S=z({containerHeight:d*p,containerWidth:i*p,hasScalableSrc:c,offset:h,targetHeight:d,targetWidth:i});return{top:a+N,left:n+E,width:i*p*S,height:d*p*S,transform:`translate(0,0) scale(${1/S})`}}},Ce=/\.svg$/i,ze=({hasZoomImg:t,imgSrc:e,isSvg:s,isZoomed:n,loadedImgEl:a,offset:r,shouldRefresh:c,targetEl:h})=>{const d=s||e?.slice?.(0,18)==="data:image/svg+xml"||t||!!(e&&Ce.test(e)),i=h.getBoundingClientRect(),m=window.getComputedStyle(h),u=a!=null&&B(h),l=a!=null&&!u,f=Le({containerHeight:i.height,containerLeft:i.left,containerTop:i.top,containerWidth:i.width,hasScalableSrc:d,offset:r,targetHeight:a?.naturalHeight||i.height,targetWidth:a?.naturalWidth||i.width}),x=l?Ie({containerHeight:i.height,containerLeft:i.left,containerTop:i.top,containerWidth:i.width,hasScalableSrc:d,objectFit:m.objectFit,objectPosition:m.objectPosition,offset:r,targetHeight:a?.naturalHeight||i.height,targetWidth:a?.naturalWidth||i.width}):void 0,b=u?je({backgroundPosition:m.backgroundPosition,backgroundSize:m.backgroundSize,containerHeight:i.height,containerLeft:i.left,containerTop:i.top,containerWidth:i.width,hasScalableSrc:d,offset:r,targetHeight:a?.naturalHeight||i.height,targetWidth:a?.naturalWidth||i.width}):void 0,p=Object.assign({},f,x,b);if(n){const v=window.innerWidth/2,y=window.innerHeight/2,E=parseFloat(String(p.left||0))+parseFloat(String(p.width||0))/2,N=parseFloat(String(p.top||0))+parseFloat(String(p.height||0))/2,S=v-E,D=y-N;c&&(p.transitionDuration="0.01ms"),p.transform=`translate(${S}px,${D}px) scale(1)`}return p},_=t=>{if(!t)return{};if(T(t)){const e=t.parentElement,s=t.getBoundingClientRect();if(e){const n=e.getBoundingClientRect();return{height:s.height,left:n.left-s.left,top:n.top-s.top,width:s.width}}else return{height:s.height,left:s.left,width:s.width,top:s.top}}else return{height:t.offsetHeight,left:t.offsetLeft,width:t.offsetWidth,top:t.offsetTop}},De=t=>{const e="-zoom",s=["clip-path","fill","mask","marker-start","marker-mid","marker-end"],n=new Map;if(t.hasAttribute("id")){const a=t.id,r=a+e;n.set(a,r),t.id=r}t.querySelectorAll("[id]").forEach(a=>{const r=a.id,c=r+e;n.set(r,c),a.id=c}),n.forEach((a,r)=>{const c=`url(#${r})`,h=`url(#${a})`,d=s.map(i=>`[${i}="${c}"]`).join(", ");t.querySelectorAll(d).forEach(i=>{s.forEach(m=>{i.getAttribute(m)===c&&i.setAttribute(m,h)})})}),t.querySelectorAll("style").forEach(a=>{n.forEach((r,c)=>{a.textContent&&(a.textContent=a.textContent.replaceAll(`#${c}`,`#${r}`))})})},Me=["img","svg",'[role="img"]',"[data-zoom]"].map(t=>`${t}:not([aria-hidden="true"])`).join(","),H={overflow:"",width:""};function ke(t){return g.createElement(se,{...t})}class se extends g.Component{constructor(){super(...arguments),this.state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1,styleGhost:{}},this.refContent=g.createRef(),this.refDialog=g.createRef(),this.refModalContent=g.createRef(),this.refModalImg=g.createRef(),this.refWrap=g.createRef(),this.imgEl=null,this.isScaling=!1,this.prevBodyAttrs=H,this.styleModalImg={},this.handleModalStateChange=e=>{const{modalState:s}=this.state;e!=="LOADING"&&s==="LOADING"?(this.loadZoomImg(),window.addEventListener("resize",this.handleResize,{passive:!0}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),window.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("touchcancel",this.handleTouchCancel,{passive:!0}),document.addEventListener("keydown",this.handleKeyDown,!0)):e!=="LOADED"&&s==="LOADED"?window.addEventListener("wheel",this.handleWheel,{passive:!0}):e!=="UNLOADING"&&s==="UNLOADING"?(this.ensureImgTransitionEnd(),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),document.removeEventListener("keydown",this.handleKeyDown,!0)):e!=="UNLOADED"&&s==="UNLOADED"&&(this.bodyScrollEnable(),window.removeEventListener("resize",this.handleResize),this.refModalImg.current?.removeEventListener?.("transitionend",this.handleImgTransitionEnd),this.refDialog.current?.close?.())},this.getDialogContainer=()=>{let e=document.querySelector("[data-rmiz-portal]");return e==null&&(e=document.createElement("div"),e.setAttribute("data-rmiz-portal",""),document.body.appendChild(e)),e},this.setId=()=>{const e=()=>Math.random().toString(16).slice(-4);this.setState({id:e()+e()+e()})},this.setAndTrackImg=()=>{const e=this.refContent.current;e&&(this.imgEl=e.querySelector(Me),this.imgEl?(this.contentNotFoundChangeObserver?.disconnect?.(),this.imgEl.addEventListener("load",this.handleImgLoad),this.imgEl.addEventListener("click",this.handleZoom),this.state.loadedImgEl||this.handleImgLoad(),this.imgElResizeObserver=new ResizeObserver(s=>{const n=s[0];n?.target&&(this.imgEl=n.target,this.setState({styleGhost:_(this.imgEl)}))}),this.imgElResizeObserver.observe(this.imgEl),this.contentChangeObserver||(this.contentChangeObserver=new MutationObserver(()=>{this.setState({styleGhost:_(this.imgEl)})}),this.contentChangeObserver.observe(e,{attributes:!0,childList:!0,subtree:!0}))):this.contentNotFoundChangeObserver||(this.contentNotFoundChangeObserver=new MutationObserver(this.setAndTrackImg),this.contentNotFoundChangeObserver.observe(e,{childList:!0,subtree:!0})))},this.handleIfZoomChanged=e=>{const{isZoomed:s}=this.props;!e&&s?this.zoom():e&&!s&&this.unzoom()},this.handleImgLoad=()=>{const e=W(this.imgEl);if(!e)return;const s=new Image;$(this.imgEl)&&(s.sizes=this.imgEl.sizes,s.srcset=this.imgEl.srcset,s.crossOrigin=this.imgEl.crossOrigin),s.src=e;const n=()=>{this.setState({loadedImgEl:s,styleGhost:_(this.imgEl)})};s.decode().then(n).catch(()=>{if(Q(s)){n();return}s.onload=n})},this.handleZoom=()=>{!this.props.isDisabled&&this.hasImage()&&this.props.onZoomChange?.(!0)},this.handleUnzoom=()=>{this.props.isDisabled||this.props.onZoomChange?.(!1)},this.handleBtnUnzoomClick=e=>{e.preventDefault(),e.stopPropagation(),this.handleUnzoom()},this.handleDialogCancel=e=>{e.preventDefault()},this.handleDialogClick=e=>{(e.target===this.refModalContent.current||e.target===this.refModalImg.current)&&(e.stopPropagation(),this.handleUnzoom())},this.handleDialogClose=e=>{e.stopPropagation(),this.handleUnzoom()},this.handleKeyDown=e=>{(e.key==="Escape"||e.keyCode===27)&&(e.preventDefault(),e.stopPropagation(),this.handleUnzoom())},this.handleWheel=e=>{e.ctrlKey||(e.stopPropagation(),queueMicrotask(()=>{this.handleUnzoom()}))},this.handleTouchStart=e=>{if(e.touches.length>1){this.isScaling=!0;return}e.changedTouches.length===1&&e.changedTouches[0]&&(this.touchYStart=e.changedTouches[0].screenY)},this.handleTouchMove=e=>{const s=window.visualViewport?.scale??1;if(this.props.canSwipeToUnzoom&&!this.isScaling&&s<=1&&this.touchYStart!=null&&e.changedTouches[0]){this.touchYEnd=e.changedTouches[0].screenY;const n=Math.max(this.touchYStart,this.touchYEnd),a=Math.min(this.touchYStart,this.touchYEnd);Math.abs(n-a)>this.props.swipeToUnzoomThreshold&&(this.touchYStart=void 0,this.touchYEnd=void 0,this.handleUnzoom())}},this.handleTouchEnd=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleTouchCancel=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleResize=()=>{this.setState({shouldRefresh:!0})},this.hasImage=()=>this.imgEl&&(this.state.loadedImgEl||T(this.imgEl))&&window.getComputedStyle(this.imgEl).display!=="none",this.zoom=()=>{this.bodyScrollDisable(),this.refDialog.current?.showModal?.(),this.refModalImg.current?.addEventListener?.("transitionend",this.handleImgTransitionEnd),this.setState({modalState:"LOADING"})},this.unzoom=()=>{this.setState({modalState:"UNLOADING"})},this.handleImgTransitionEnd=()=>{clearTimeout(this.timeoutTransitionEnd),this.state.modalState==="LOADING"?this.setState({modalState:"LOADED"}):this.state.modalState==="UNLOADING"&&this.setState({shouldRefresh:!1,modalState:"UNLOADED"})},this.ensureImgTransitionEnd=()=>{if(this.refModalImg.current){const e=window.getComputedStyle(this.refModalImg.current).transitionDuration,s=parseFloat(e);if(s){const n=s*(e.endsWith("ms")?1:1e3)+50;this.timeoutTransitionEnd=setTimeout(this.handleImgTransitionEnd,n)}}},this.bodyScrollDisable=()=>{this.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};const e=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width=`${e}px`},this.bodyScrollEnable=()=>{document.body.style.width=this.prevBodyAttrs.width,document.body.style.overflow=this.prevBodyAttrs.overflow,this.prevBodyAttrs=H},this.loadZoomImg=()=>{const{props:{zoomImg:e}}=this,s=e?.src;if(s){const n=new Image;n.sizes=e?.sizes??"",n.srcset=e?.srcSet??"",n.crossOrigin=e?.crossOrigin??void 0,n.src=s;const a=()=>{this.setState({isZoomImgLoaded:!0})};n.decode().then(a).catch(()=>{if(Q(n)){a();return}n.onload=a})}},this.UNSAFE_handleSvg=()=>{const{imgEl:e,refModalImg:s,styleModalImg:n}=this;if(T(e)){const a=e.cloneNode(!0);De(a),a.style.width=`${n.width||0}px`,a.style.height=`${n.height||0}px`,a.addEventListener("click",this.handleUnzoom),s.current?.firstChild?.remove?.(),s.current?.appendChild?.(a)}}}render(){const{handleBtnUnzoomClick:e,handleDialogCancel:s,handleDialogClick:n,handleDialogClose:a,handleUnzoom:r,handleZoom:c,imgEl:h,props:{a11yNameButtonUnzoom:d,a11yNameButtonZoom:i,children:m,classDialog:u,IconUnzoom:l,IconZoom:f,isZoomed:x,wrapElement:b,ZoomContent:p,zoomImg:v,zoomMargin:y},refContent:E,refDialog:N,refModalContent:S,refModalImg:D,refWrap:A,state:{id:M,isZoomImgLoaded:w,loadedImgEl:C,modalState:j,shouldRefresh:U,styleGhost:G}}=this,Y=`rmiz-modal-${M}`,F=`rmiz-modal-img-${M}`,oe=B(h),O=$(h),P=T(h),Z=Se(h),q=W(h),ne=O?h.sizes:void 0,ae=O?h.srcset:void 0,ie=O?h.crossOrigin:void 0,re=!!v?.src,k=this.hasImage(),le=Z?`${i}: ${Z}`:i,de=j==="LOADING"||j==="LOADED",ce=k?"found":"not-found",he=j==="UNLOADED"||j==="UNLOADING"?"hidden":"visible",me={visibility:j==="UNLOADED"?"visible":"hidden"};this.styleModalImg=k?ze({hasZoomImg:re,imgSrc:q,isSvg:P,isZoomed:x&&de,loadedImgEl:C,offset:y,shouldRefresh:U,targetEl:h}):{};let V=null;if(k){const X=O||oe?g.createElement("img",{alt:Z,crossOrigin:ie,sizes:ne,src:q,srcSet:ae,...w&&j==="LOADED"?v:{},"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:F,ref:D,style:this.styleModalImg,width:this.styleModalImg.width||void 0}):P?g.createElement("div",{"data-rmiz-modal-img":!0,ref:D,style:this.styleModalImg}):null,J=g.createElement("button",{"aria-label":d,"data-rmiz-btn-unzoom":"",onClick:e,type:"button"},g.createElement(l,null));V=p?g.createElement(p,{buttonUnzoom:J,modalState:j,img:X,isZoomImgLoaded:w,onUnzoom:r}):g.createElement(g.Fragment,null,X,J)}return g.createElement(b,{"aria-owns":Y,"data-rmiz":"",ref:A},g.createElement(b,{"data-rmiz-content":ce,ref:E,style:me},m),k&&g.createElement(b,{"data-rmiz-ghost":"",style:G},g.createElement("button",{"aria-label":le,"data-rmiz-btn-zoom":"",onClick:c,type:"button"},g.createElement(f,null))),k&&we.createPortal(g.createElement("dialog",{"aria-labelledby":F,"aria-modal":"true",className:u,"data-rmiz-modal":"",id:Y,onClick:n,onClose:a,onCancel:s,ref:N,role:"dialog"},g.createElement("div",{"data-rmiz-modal-overlay":he}),g.createElement("div",{"data-rmiz-modal-content":"",ref:S},V)),this.getDialogContainer()))}componentDidMount(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}componentWillUnmount(){this.state.modalState!=="UNLOADED"&&this.bodyScrollEnable(),this.contentChangeObserver?.disconnect?.(),this.contentNotFoundChangeObserver?.disconnect?.(),this.imgElResizeObserver?.disconnect?.(),this.imgEl?.removeEventListener?.("load",this.handleImgLoad),this.imgEl?.removeEventListener?.("click",this.handleZoom),this.refModalImg.current?.removeEventListener?.("transitionend",this.handleImgTransitionEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(e,s){this.handleModalStateChange(s.modalState),this.UNSAFE_handleSvg(),this.handleIfZoomChanged(e.isZoomed)}}se.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",canSwipeToUnzoom:!0,IconUnzoom:be,IconZoom:ye,isDisabled:!1,swipeToUnzoomThreshold:10,wrapElement:"div",zoomMargin:0};function Ae(t){const[e,s]=g.useState(!1);return g.createElement(ke,{...t,isZoomed:e,onZoomChange:s})}const Oe=({galaxyUrl:t,imageUrl:e})=>{const s=L.useRef(null),n=L.useRef(null),[a,r]=L.useState("Aligning Stargate..."),[c,h]=L.useState(!1),[d,i]=L.useState(!1),[m,u]=L.useState(!1);return L.useEffect(()=>{const l=s.current;if(!l)return;const f=l.getContext("2d");if(!f)return;let x=[];const b=800;let p,v;const y=800;let E,N=.5;function S(){const w=l?.parentElement;if(!w||!l)return;const C=w.clientWidth,j=w.clientHeight;l.width=Math.min(C,y),l.height=Math.min(j,y),p=l.width/2,v=l.height/2}function D(){S(),x=[];for(let w=0;w<b;w++)x.push({x:Math.random()*(l?.width||800),y:Math.random()*(l?.height||800),z:Math.random()*(l?.width||800),o:Math.random()});A()}function A(){!l||!f||(f.clearRect(0,0,l.width,l.height),x.forEach(w=>{w.z-=N,w.z<=0&&(w.z=l.width,w.x=Math.random()*l.width,w.y=Math.random()*l.height,w.o=Math.random());const C=l.width/w.z,j=(w.x-p)*C+p,U=(w.y-v)*C+v,G=2*C;f.beginPath(),f.fillStyle=`rgba(255, 255, 255, ${w.o})`,f.arc(j,U,G,0,2*Math.PI),f.fill()}),N<60&&(N+=1),E=requestAnimationFrame(A))}D();const M=()=>S();return window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M),E&&cancelAnimationFrame(E)}},[]),L.useEffect(()=>{if(e){console.log("Loading galaxy image:",e);const l=new Image;l.onload=()=>{console.log("Galaxy image loaded successfully"),n.current&&(n.current.src=e,i(!0),u(!0))},l.onerror=()=>{console.error("Failed to load galaxy image:",e),setTimeout(()=>{i(!0),u(!0)},1500)},l.src=e}else console.log("No imageUrl provided, using placeholder"),setTimeout(()=>{i(!0),u(!0)},1500)},[e]),L.useEffect(()=>{if(sessionStorage.getItem("stargateAnimationShown")){r("Stargate system aligned");return}sessionStorage.setItem("stargateAnimationShown","true"),h(!0);const f=(y,E)=>Array.from({length:E},()=>y[Math.floor(Math.random()*y.length)]).join(""),x=[{chars:"01",duration:40,iterations:20},{chars:"0123456789",duration:25,iterations:30},{chars:"0123456789ABCDEF",duration:20,iterations:40},{chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()-_=+[]{}|;:'\",.<>?/`~",duration:10,iterations:100}];let b=0,p=0;const v=()=>{if(b>=x.length){const E="Stargate system aligned";let N=0;r("");const S=()=>{N<E.length?(r(E.substring(0,N+1)),N++,setTimeout(S,30)):h(!1)};S();return}const y=x[b];r(f(y.chars,32)),p++,p>=y.iterations&&(b++,p=0),setTimeout(v,y.duration)};v()},[]),o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Galaxy Visualization"}),o.jsxs("div",{className:"relative w-full h-80 sm:h-96 bg-black/50 flex justify-center items-center rounded-xl overflow-hidden border-2 border-blue-400/30 mb-4",children:[o.jsx("canvas",{ref:s,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-[2500ms] ${m?"opacity-0":"opacity-100"}`,style:{filter:m?"blur(50px)":"none"}}),o.jsx("div",{className:`absolute inset-0 w-full h-full transition-all duration-500 ${d?"opacity-100 blur-0":"opacity-0 blur-[25px]"}`,children:d&&e?o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(Ae,{children:o.jsx("img",{ref:n,className:"max-w-full max-h-full object-contain",src:e,alt:"Galaxy visualization",style:{width:"320px",height:"320px"}})})}):o.jsx("img",{ref:n,className:"w-full h-full object-cover",src:"/static/images/placeholder-min.jpg",alt:"Galaxy visualization"})})]}),o.jsxs("div",{className:"text-center mt-auto",children:[o.jsxs("a",{href:t,className:`inline-block px-8 py-4 bg-gradient-to-r from-cyan-500 via-blue-500 to-cyan-500 text-white font-bold text-lg rounded-full border-2 border-cyan-400 shadow-lg hover:shadow-cyan-400/50 transition-all duration-300 transform hover:scale-105 relative overflow-hidden ${c?"animate-pulse":""}`,style:{boxShadow:"0 0 15px rgba(34, 211, 238, 0.5)"},children:[o.jsx("span",{className:"relative z-10 font-mono",children:a}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-cyan-400 to-transparent opacity-50 animate-pulse"})]}),o.jsx("div",{className:"mt-3 text-xs text-gray-400",children:"Right-click and select 'Copy Link' to save this Stargate location"})]})]})},Te=({systems:t,coordinates:e})=>{const[s,n]=L.useState(new Set);return L.useEffect(()=>{(()=>{try{const h=JSON.parse(localStorage.getItem("atlasHistoricalData")||"{}")[e]||{},d=new Set;Object.keys(h).forEach(i=>{d.add(parseInt(i))}),n(d)}catch(c){console.error("Error loading historical data:",c)}})(),(()=>{try{let c=JSON.parse(localStorage.getItem("atlasHistoricalData")||"{}");c[e]||(c[e]={}),localStorage.setItem("atlasHistoricalData",JSON.stringify(c))}catch(c){console.error("Error saving historical data:",c)}})()},[e]),o.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 shadow-2xl p-4 sm:p-6",children:[o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-2 sm:gap-3",children:t.map(a=>o.jsxs("div",{className:"relative bg-white/10 rounded-lg border border-white/20 hover:bg-white/20 hover:border-white/40 transition-all duration-300 group",children:[s.has(a.index)&&o.jsx("div",{className:"absolute left-0 top-0 w-1 h-full bg-cyan-400 rounded-l-lg opacity-100 transition-opacity duration-300",style:{background:"linear-gradient(180deg, #00d4ff 0%, #00a0ff 100%)"}}),o.jsxs("button",{onClick:()=>window.location.href=`/system/${a.index}`,className:"w-full text-left block p-2 sm:p-3 text-gray-200 hover:text-white transition-colors duration-300 rounded-lg",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["#",a.number]}),o.jsx("div",{className:"text-sm font-semibold text-white truncate group-hover:text-blue-300 transition-colors duration-300",children:a.name})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]},a.index))}),t.length===0&&o.jsxs("div",{className:"col-span-full text-center py-12",children:[o.jsx("div",{className:"text-gray-400 text-lg mb-2",children:"No systems found"}),o.jsx("div",{className:"text-gray-500 text-sm",children:"This galaxy appears to be empty"})]})]})},Re=({page:t,prevPage:e,nextPage:s,finish:n})=>{const a="px-4 py-2 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105",r="bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg",c="bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white border border-white/20";return o.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 shadow-2xl p-4 sm:p-6 mb-8",children:[o.jsxs("div",{className:"flex justify-center items-center gap-2 sm:gap-4 flex-wrap",children:[t!==1&&o.jsxs("button",{onClick:()=>window.location.href="/galaxy/1",className:`${a} ${c}`,title:"First page",children:[o.jsx("span",{className:"hidden sm:inline",children:"First"}),o.jsx("span",{className:"sm:hidden",children:"«"})]}),e&&o.jsxs("button",{onClick:()=>window.location.href=`/galaxy/${e}`,className:`${a} ${c}`,title:"Previous page",children:[o.jsx("span",{className:"hidden sm:inline",children:"Previous"}),o.jsx("span",{className:"sm:hidden",children:"‹"})]}),(()=>{const h=[],i=Math.max(1,t-2),m=Math.min(n,t+2);i>1&&(h.push(o.jsx("button",{onClick:()=>window.location.href="/galaxy/1",className:`${a} ${c}`,children:"1"},1)),i>2&&h.push(o.jsx("span",{className:"px-2 text-gray-400",children:"..."},"start-ellipsis")));for(let u=i;u<=m;u++)u===t?h.push(o.jsx("span",{className:`${a} ${r} cursor-default`,children:u},u)):h.push(o.jsx("button",{onClick:()=>window.location.href=`/galaxy/${u}`,className:`${a} ${c} cursor-pointer`,children:u},u));return m<n&&(m<n-1&&h.push(o.jsx("span",{className:"px-2 text-gray-400",children:"..."},"end-ellipsis")),h.push(o.jsx("button",{onClick:()=>window.location.href=`/galaxy/${n}`,className:`${a} ${c}`,children:n},n))),h})(),s&&o.jsxs("button",{onClick:()=>window.location.href=`/galaxy/${s}`,className:`${a} ${c}`,title:"Next page",children:[o.jsx("span",{className:"hidden sm:inline",children:"Next"}),o.jsx("span",{className:"sm:hidden",children:"›"})]}),t!==n&&o.jsxs("button",{onClick:()=>window.location.href=`/galaxy/${n}`,className:`${a} ${c}`,title:"Last page",children:[o.jsx("span",{className:"hidden sm:inline",children:"Last"}),o.jsx("span",{className:"sm:hidden",children:"»"})]})]}),o.jsxs("div",{className:"text-center mt-4 text-sm text-gray-400",children:["Page ",t," of ",n]})]})},ee=({galaxy:t,systems:e,galaxy_url:s,version:n,page:a,prev_page:r,next_page:c,finish:h,image_url:d})=>{const[i]=L.useState(t.coordinates.join(","));L.useEffect(()=>{document.body.setAttribute("data-coordinates",i)},[i]);const m=u=>u.replace(/_/g," ");return o.jsxs("div",{className:"w-full h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-auto",children:[o.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),o.jsxs("div",{className:"relative z-10",children:[o.jsx(pe,{}),o.jsxs("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:["Galaxy '",m(t.name),"'"]}),o.jsxs("p",{className:"text-lg sm:text-xl text-gray-300",children:["at Coordinates ",t.coordinates.join(", ")]})]}),o.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[o.jsx("div",{className:"order-2 lg:order-1",children:o.jsx(Oe,{galaxyUrl:s,imageUrl:d})}),o.jsx("div",{className:"order-1 lg:order-2",children:o.jsx(xe,{galaxy:t})})]})}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:["Systems in '",m(t.name),"'"]}),o.jsx(Te,{systems:e,coordinates:i})]}),o.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6 text-center",children:o.jsx("button",{onClick:()=>window.location.href="/",className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-gray-600 via-gray-700 to-gray-600 hover:from-gray-700 hover:via-gray-800 hover:to-gray-700 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg backdrop-blur-sm",children:o.jsx("span",{className:"text-base sm:text-lg",children:"← Go Back to Planetary Index"})})}),o.jsx(Re,{page:a,prevPage:r,nextPage:c,finish:h})]}),o.jsx(fe,{version:n})]})]})};console.log("Atlas Galaxy React script loading...");document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, mounting Galaxy React component...");const t=document.getElementById("atlas-react-root");if(!t){console.error("Could not find atlas-react-root element");return}const e=s=>{const n=document.getElementById(s);if(!n||!n.textContent)return null;try{return JSON.parse(n.textContent.trim())}catch(a){return console.error(`Error parsing data from script ${s}:`,a),null}};try{const s=e("data-galaxy")||{},n=e("data-systems")||[],a=e("data-navigation")||{},r=e("data-common")||{},c={galaxy:{name:s.name||"Unknown Galaxy",coordinates:s.coordinates||[0,0,0],galaxy_type:s.galaxy_type||"Unknown",num_systems:s.num_systems||0,black_holes:s.black_holes||0,pulsars:s.pulsars||0,quasars:s.quasars||0},systems:n,galaxy_url:a.galaxy_url||"#",version:r.version||"1.0.0",page:a.page||1,prev_page:a.prev_page,next_page:a.next_page,finish:a.finish||1,image_url:r.image_url||""};console.log("Galaxy props loaded from JSON scripts:",c),K.createRoot(t).render(g.createElement(ee,c)),console.log("Galaxy React component mounted successfully!")}catch(s){console.error("Error parsing galaxy data:",s);const n={galaxy:{name:"Unknown Galaxy",coordinates:[0,0,0],galaxy_type:"Unknown",num_systems:0,black_holes:0,pulsars:0,quasars:0},systems:[],galaxy_url:"#",version:"1.0.0",page:1,finish:1,image_url:""};K.createRoot(t).render(g.createElement(ee,n))}});
