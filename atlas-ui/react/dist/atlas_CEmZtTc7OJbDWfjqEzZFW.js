import{S as f}from"./atlas_CMUvaCD4mo7XQYkYXSJfw.js";import{C as m}from"./atlas_Ce3hh0hgxYWauQ_qSK6cl.js";const i={REFRACTION_INDEX:{min:2,max:2.8},DISPERSION:{min:.3,max:.8},CLARITY:{min:.6,max:.95},FACET_SIZE:{min:12,max:32},BRILLIANCE:{min:1.5,max:3},OPACITY:{min:.4,max:.85},PRISMATIC_INTENSITY:{min:.4,max:.9}};class T{layerMesh;material;params;layerSystem;constructor(r,e={}){this.layerSystem=r;const a=e.seed||Math.floor(Math.random()*1e6),o=new f(a),c=e.color instanceof m?e.color:e.color?new m(e.color):new m(16777215);this.params={color:c,refractionIndex:e.refractionIndex||o.uniform(i.REFRACTION_INDEX.min,i.REFRACTION_INDEX.max),dispersion:e.dispersion||o.uniform(i.DISPERSION.min,i.DISPERSION.max),clarity:e.clarity||o.uniform(i.CLARITY.min,i.CLARITY.max),facetSize:e.facetSize!==void 0?e.facetSize:o.uniform(i.FACET_SIZE.min,i.FACET_SIZE.max),brilliance:e.brilliance||o.uniform(i.BRILLIANCE.min,i.BRILLIANCE.max),opacity:e.opacity||o.uniform(i.OPACITY.min,i.OPACITY.max),seed:a,prismaticIntensity:e.prismaticIntensity||o.uniform(i.PRISMATIC_INTENSITY.min,i.PRISMATIC_INTENSITY.max)},this.material=this.layerSystem.createDiamondSurfaceLayerMaterial(this.params),this.layerMesh=this.layerSystem.addEffectLayer("diamondSurface",this.material,this.layerSystem.getNextScaleFactor(),this)}update(r){this.material.uniforms.time&&(this.material.uniforms.time.value+=r)}dispose(){}}function N(s,r,e){const a=r.surface||{},o=r.surface_elements||{},c=r.base_color||r.planet_info?.base_color||a.base_color,l=e||Math.floor(Math.random()*1e6),n=new f(l+8e3),S=n.uniform(.9,1.1),t=o.surface||a,E=n.uniform(.8,1.3),u=(t.brilliance||n.uniform(i.BRILLIANCE.min,i.BRILLIANCE.max))*E,I=n.uniform(.7,1),C=n.uniform(i.FACET_SIZE.min,i.FACET_SIZE.max)*S;return new T(s,{color:c?new m(c):new m(8421504),refractionIndex:t.refraction||n.uniform(i.REFRACTION_INDEX.min,i.REFRACTION_INDEX.max),dispersion:t.dispersion||n.uniform(i.DISPERSION.min,i.DISPERSION.max),clarity:(t.clarity||n.uniform(i.CLARITY.min,i.CLARITY.max))*I,facetSize:C,brilliance:u,opacity:n.uniform(i.OPACITY.min,i.OPACITY.max)*I,seed:l,prismaticIntensity:(t.prismatic||n.uniform(i.PRISMATIC_INTENSITY.min,i.PRISMATIC_INTENSITY.max))*I})}export{N as c};
