const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["atlas_BmJDGROROnjcA3EYH2Kqq.js","atlas_BG-O7ORrd1CIuvq6sOIEu.js","atlas_DTMHG0KBmlmtp0V4aoQDq.js","atlas_kT8jwhYxeR5TNJsGrxl0P.js","atlas_VMw0cJKPlPEHKRP927cEp.js","atlas_Bd-08EnGHvuA4jxvJ1T-8.js","atlas_DcNBpw2oKtwvZQEHQs4H7.js","atlas_Bh4_uSesFez3ZkWU5GC-E.js","atlas_D5TkNrZ-UIh1OV1m_7qMi.js","atlas_DaMSo9bqqe5_fRtMZKEEm.js","atlas_CjYZLswrAeQ6o35MTpGmn.js","atlas_HbWinxsYJykT4bAyTbY8I.js","atlas_DeDF8aLbVQNoQGifdv_s_.js","atlas_BArexBkuWQYyRkQof9gKO.js","atlas_D8HnRHg-T3829cT32vrpr.js","atlas_B1O444XwqLMfTlgIH8CCo.js","atlas_BZHXJLIP5MemxI14IcYe9.js","atlas_BLj9txaC9WkCe-yDdtyas.js","atlas_5rMvutjFpBzeKNjvBer-N.js","atlas_DKx8078aWX3rJjjGj5Axe.js","atlas_B2-pJMNWYXxyj-B-RssSJ.js","atlas_BXbcwSx6fzBvbs3eGmSfk.js","atlas_CZCzHQxzVm3Wx1WCYhNaI.js","atlas_Dcasksb0GWEjH1uRFF86v.js","atlas_DbRTf8R4bLgIQwcwinLe1.js","atlas_CXo_uPIQMEoZfbuWEe4yJ.js","atlas_BxR8EK1lUkfM1bhn6B5WF.js","atlas_dTjkx2eOeyibkJ3kbr7FP.js","atlas_BssYco3rxuKH59tsmgzgR.js","atlas_B6vR9JHEJE1N9BaFfu-46.js","atlas_DR1L1QhM3B-GjY2M1yNBl.js","atlas_Crz0A88G1BDMv-7lj1KO6.js","atlas_B4wiSb2oeBvKoxoqy1f7w.js","atlas_BA2agnhlUJ2nxZYMhIaMm.js","atlas_CmHXsxrEu4vc-ZwffDBFw.js","atlas_CcxlL7GoKEbb7f6SMK3yb.js","atlas_hkcQqnUQmbUPJtyV97BSo.js","atlas_CNrkG-0gPvzDXk6IOIjAn.js","atlas_D1UuTausyRSrA9v8uuSaI.js","atlas_B7IullEdKWbqELG_4ujzy.js","atlas_CMWmquRsZlZEqR2vAiJlU.js","atlas_BEyIEMT2j0j5-esqVO4U2.js","atlas_B85T-P50c_in1Wnp_8HxC.js","atlas_Bu2VgJv3sCWZGqWlP3y0h.js","atlas_DxcFU0mT9_b0HlKXFN5wv.js","atlas_DC69cYYG0vadLYoYhM77y.js","atlas_wMmwftNKnoVgFFp7PaKIW.js","atlas_BK0_EU3vJESuw7Gksm7xY.js","atlas_nw3XvAywbGH6CbuSkVo0L.js","atlas_A5cqO8LVz3jZ7aQzuympI.js","atlas_0Q7ZTau1DuZY2NtQggBqG.js","atlas_YWP1D0MIvR25XCvuvhbHT.js","atlas_CCiLCpGPElUDBfPAxK3kY.js","atlas_xC7GHqs1VGh6F2sCRTUUD.js","atlas_4K-jkKCoCp2H9jneMtIEs.js","atlas_79rl8tzgmmjQNzGiyyJWi.js","atlas_Um4vVhXkf6-PvYBKpJe19.js","atlas_DxyEAomS066Akv_FnLGNj.js","atlas_DrrZP6yBy2gGjX3LbulUM.js","atlas_C0hstbgC64R4Zd81BzUVj.js","atlas_DTVfYL1QSwUOVvlArN5hQ.js","atlas_BgxGsf68WhABe4h1vSedx.js","atlas_C3458GGz6aw3olPI_SOsX.js","atlas_DNN6G5x7TLhEbIgPQWiHn.js"])))=>i.map(i=>d[i]);
import{r as v,j as e,c as z,a as G}from"./atlas_BG-O7ORrd1CIuvq6sOIEu.js";import{L as F,U as M,A as _,E as H,D as V,R as T}from"./atlas_BmJDGROROnjcA3EYH2Kqq.js";import{S as U,U as W}from"./atlas_kT8jwhYxeR5TNJsGrxl0P.js";const te=({type:a,name:t,coordinates:r,systemIndex:n,planetName:l,className:m=""})=>{const[s,u]=v.useState(!1),[d,c]=v.useState(!1),[o,h]=v.useState(!1),[i,g]=v.useState(!1),C=()=>{try{const x=r.split(",").map(Number),b=U.getCurrentPage();switch(a){case"galaxy":return U.generateGalaxyUrl(x,b);case"system":if(n!==void 0)return U.generateSystemUrl(x,n,b);break;case"planet":if(n!==void 0&&l)return U.generatePlanetUrl(x,n,l,b);break}return window.location.pathname}catch{return window.location.pathname}};v.useEffect(()=>{const x=C(),b=F.isLocationSaved(x),f=F.isGalaxyLocationSavedDifferentPage(x,a);u(b),h(f)},[r,n,l,a]),v.useEffect(()=>{const x=()=>{g(W.isRemoteUniverse())};x();const b=setInterval(x,1e3);return()=>clearInterval(b)},[]);const j=async()=>{try{const x=C();await F.saveLocation({name:t,type:a,stargateUrl:x})&&(c(!0),setTimeout(()=>{u(!0),c(!1)},300))}catch{c(!1)}},k=x=>x.replace(/_/g," ");return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        @keyframes border-pulse {
          0%, 100% { border-color: rgba(34, 197, 94, 0.4); }
          50% { border-color: rgba(34, 197, 94, 0.8); }
        }
      `}),e.jsx("button",{onClick:j,disabled:s||d||i,className:`inline-flex items-center space-x-1 px-1.5 py-0.5 rounded transition-all duration-200 text-[10px] font-medium h-[21px] box-border ${i?"bg-red-500/20 border border-red-500/50 text-red-400 cursor-not-allowed opacity-60":s?"bg-green-500/20 border border-green-500/50 text-green-400 cursor-default":d?"bg-blue-500/20 border border-blue-500/50 text-blue-400 cursor-wait":o?"bg-white/10 hover:bg-white/20 border text-white hover:text-green-300 border-green-500/60 hover:border-green-400/80":"bg-white/10 hover:bg-white/20 border border-white/20 hover:border-white/40 text-white hover:text-blue-300"} ${m}`,style:o&&!i?{animation:"border-pulse 2s infinite",borderColor:"rgba(34, 197, 94, 0.6)"}:{},title:i?"Cannot save locations from remote universes - return to local universe first":s?"Location saved":o?`Save this page of ${k(t)} (you have another page saved)`:`Save ${k(t)} to bookmarks`,children:i?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L5.636 5.636"})}),e.jsx("span",{className:"text-[10px] uppercase",children:"Remote"})]}):d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"text-[10px] uppercase",children:"Saving..."})]}):s?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),e.jsx("span",{className:"text-[10px] uppercase",children:"Saved"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"text-[10px] uppercase",children:"Save"})]})})]})},q="modulepreload",X=function(a){return"/atlas-ui/react/dist/"+a},P={},I=function(t,r,n){let l=Promise.resolve();if(r&&r.length>0){let d=function(c){return Promise.all(c.map(o=>Promise.resolve(o).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=s?.nonce||s?.getAttribute("nonce");l=d(r.map(c=>{if(c=X(c),c in P)return;P[c]=!0;const o=c.endsWith(".css"),h=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":q,o||(i.as="script"),i.crossOrigin="",i.href=c,u&&i.setAttribute("nonce",u),document.head.appendChild(i),o)return new Promise((g,C)=>{i.addEventListener("load",g),i.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${c}`)))})}))}function m(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return l.then(s=>{for(const u of s||[])u.status==="rejected"&&m(u.reason);return t().catch(m)})},Z={"Z-Divinium":{antimatter:100,element115:150,deuterium:80},Oganesson:{antimatter:80,element115:95,deuterium:40},Tennessine:{antimatter:50,element115:70,deuterium:40},Livermorium:{antimatter:50,element115:70,deuterium:40},Moscovium:{antimatter:50,element115:70,deuterium:40},Flerovium:{antimatter:50,element115:70,deuterium:40},Nihonium:{antimatter:50,element115:70,deuterium:40},Copernicium:{antimatter:50,element115:70,deuterium:40},Roentgenium:{antimatter:40,element115:55,deuterium:35},Darmstadtium:{antimatter:40,element115:55,deuterium:35},Meitnerium:{antimatter:40,element115:55,deuterium:35},Hassium:{antimatter:35,element115:45,deuterium:30},Bohrium:{antimatter:35,element115:45,deuterium:30},Seaborgium:{antimatter:35,element115:45,deuterium:30},Dubnium:{antimatter:35,element115:45,deuterium:30},Rutherfordium:{antimatter:35,element115:45,deuterium:30},Lawrencium:{antimatter:30,element115:40,deuterium:25},Nobelium:{antimatter:30,element115:40,deuterium:25},Mendelevium:{antimatter:30,element115:40,deuterium:25},Fermium:{antimatter:30,element115:40,deuterium:25},Einsteinium:{antimatter:30,element115:40,deuterium:25},Californium:{antimatter:30,element115:40,deuterium:25},Berkelium:{antimatter:30,element115:40,deuterium:25},Curium:{antimatter:25,element115:35,deuterium:20},Americium:{antimatter:25,element115:35,deuterium:20},Plutonium:{antimatter:25,element115:35,deuterium:20},Neptunium:{antimatter:25,element115:35,deuterium:20},Uranium:{antimatter:25,element115:35,deuterium:20},Protactinium:{antimatter:25,element115:35,deuterium:20},Thorium:{antimatter:25,element115:35,deuterium:20},Actinium:{antimatter:25,element115:35,deuterium:20},Radium:{antimatter:25,element115:35,deuterium:20},Francium:{antimatter:25,element115:35,deuterium:20},Radon:{antimatter:20,element115:28,deuterium:18},Astatine:{antimatter:20,element115:28,deuterium:18},Polonium:{antimatter:20,element115:28,deuterium:18},Bismuth:{antimatter:18,element115:25,deuterium:15},Lead:{antimatter:18,element115:25,deuterium:15},Thallium:{antimatter:18,element115:25,deuterium:15},Mercury:{antimatter:18,element115:25,deuterium:15},Gold:{antimatter:18,element115:25,deuterium:15},Platinum:{antimatter:16,element115:22,deuterium:14},Iridium:{antimatter:16,element115:22,deuterium:14},Osmium:{antimatter:16,element115:22,deuterium:14},Rhenium:{antimatter:15,element115:20,deuterium:12},Tungsten:{antimatter:15,element115:20,deuterium:12},Tantalum:{antimatter:15,element115:20,deuterium:12},Hafnium:{antimatter:15,element115:20,deuterium:12},Lutetium:{antimatter:12,element115:16,deuterium:10},Ytterbium:{antimatter:12,element115:16,deuterium:10},Thulium:{antimatter:12,element115:16,deuterium:10},Erbium:{antimatter:11,element115:15,deuterium:9},Holmium:{antimatter:11,element115:15,deuterium:9},Dysprosium:{antimatter:11,element115:15,deuterium:9},Terbium:{antimatter:10,element115:14,deuterium:8},Gadolinium:{antimatter:10,element115:14,deuterium:8},Europium:{antimatter:9,element115:12,deuterium:7},Samarium:{antimatter:9,element115:12,deuterium:7},Promethium:{antimatter:9,element115:12,deuterium:7},Neodymium:{antimatter:9,element115:12,deuterium:7},Praseodymium:{antimatter:9,element115:12,deuterium:7},Cerium:{antimatter:8,element115:11,deuterium:6},Lanthanum:{antimatter:8,element115:11,deuterium:6},Barium:{antimatter:7,element115:9,deuterium:5},Cesium:{antimatter:7,element115:9,deuterium:5},Xenon:{antimatter:7,element115:9,deuterium:5},Iodine:{antimatter:7,element115:9,deuterium:5},Tellurium:{antimatter:7,element115:9,deuterium:5},Antimony:{antimatter:6,element115:8,deuterium:4},Tin:{antimatter:6,element115:8,deuterium:4},Indium:{antimatter:6,element115:8,deuterium:4},Cadmium:{antimatter:5,element115:7,deuterium:4},Silver:{antimatter:5,element115:7,deuterium:4},Palladium:{antimatter:5,element115:7,deuterium:4},Rhodium:{antimatter:5,element115:7,deuterium:4},Ruthenium:{antimatter:4,element115:6,deuterium:3},Technetium:{antimatter:4,element115:6,deuterium:3},Molybdenum:{antimatter:4,element115:6,deuterium:3},Niobium:{antimatter:4,element115:6,deuterium:3},Tritium:{antimatter:8,element115:10,deuterium:15},Zirconium:{antimatter:3,element115:4,deuterium:2},Yttrium:{antimatter:3,element115:4,deuterium:2},Strontium:{antimatter:3,element115:4,deuterium:2},Rubidium:{antimatter:3,element115:4,deuterium:2},Krypton:{antimatter:3,element115:4,deuterium:2},Bromine:{antimatter:3,element115:4,deuterium:2},Selenium:{antimatter:3,element115:4,deuterium:2},Arsenic:{antimatter:3,element115:4,deuterium:2},Beryllium:{antimatter:3,element115:4,deuterium:2},Scandium:{antimatter:3,element115:4,deuterium:2},Germanium:{antimatter:2,element115:3,deuterium:2},Gallium:{antimatter:2,element115:3,deuterium:2},Zinc:{antimatter:2,element115:3,deuterium:2},Copper:{antimatter:2,element115:3,deuterium:2},Lithium:{antimatter:2,element115:3,deuterium:2},Fluorine:{antimatter:2,element115:3,deuterium:2},Titanium:{antimatter:2,element115:3,deuterium:2},Vanadium:{antimatter:2,element115:3,deuterium:2},Chromium:{antimatter:2,element115:3,deuterium:2},Cobalt:{antimatter:1,element115:2,deuterium:1},Manganese:{antimatter:1,element115:2,deuterium:1},Nickel:{antimatter:1,element115:2,deuterium:1},Calcium:{antimatter:1,element115:2,deuterium:1},Argon:{antimatter:1,element115:1,deuterium:1},Chlorine:{antimatter:1,element115:1,deuterium:1},Phosphorus:{antimatter:1,element115:1,deuterium:1},Boron:{antimatter:1,element115:1,deuterium:1},Potassium:{antimatter:1,element115:1,deuterium:1},Sodium:{antimatter:1,element115:1,deuterium:1},Aluminum:{antimatter:1,element115:1,deuterium:1},Sulfur:{antimatter:0,element115:1,deuterium:1},Magnesium:{antimatter:0,element115:1,deuterium:1},Silicon:{antimatter:0,element115:1,deuterium:1},Iron:{antimatter:0,element115:1,deuterium:1},Neon:{antimatter:0,element115:1,deuterium:0},Nitrogen:{antimatter:0,element115:0,deuterium:1},Carbon:{antimatter:0,element115:0,deuterium:1},Oxygen:{antimatter:0,element115:1,deuterium:1},Helium:{antimatter:1,element115:0,deuterium:0},Hydrogen:{antimatter:0,element115:1,deuterium:0}};function Y(a){let t={antimatter:0,element115:0,deuterium:0};return a.forEach(r=>{const n=r.trim(),l=Z[n];l&&(t.antimatter+=l.antimatter,t.element115+=l.element115,t.deuterium+=l.deuterium)}),t.antimatter===0&&t.element115===0&&t.deuterium===0&&(t={antimatter:1,element115:1,deuterium:2}),t}function re(a){const t=Z[a];if(!t)return"Unknown";if(a==="Z-Divinium")return"Exception";const r=t.antimatter+t.element115+t.deuterium;return r>=200?"Ultra Rare":r>=100?"Extremely Rare":r>=75?"Very Rare":r>=50?"Rare":r>=30?"Uncommon":r>=15?"Common":r>=5?"Very Common":r>=2?"Abundant":"Basic"}class R{static generateLocationId(t,r,n,l){switch(t){case"galaxy":return`galaxy_${r}`;case"system":return`system_${r}_${n}`;case"planet":return`planet_${r}_${n}_${l?.toLowerCase()}`;default:return`unknown_${r}`}}static canCollectFromLocation(t){return M.canCollectFromLocation(t)}static getTimeUntilNextCollection(t){return M.getTimeUntilNextCollection(t)}static calculateReward(t,r,n=0,l,m=!1){if(t==="planet"&&l?.elements&&l.elements.length>0){const i=Y(l.elements),g=n>3?Math.max(.4,1-(n-3)*.15):1,C=.9+Math.random()*.2,j=Math.floor(i.antimatter*g*C),k=Math.floor(i.element115*g*C),x=Math.floor(i.deuterium*g*C);let b={antimatter:i.antimatter>0&&j===0?i.antimatter:j,element115:i.element115>0&&k===0?i.element115:k,deuterium:i.deuterium>0&&x===0?i.deuterium:x};if(m){const p=M.getUpgrade().multiplier;b={antimatter:Math.floor(b.antimatter*p),element115:Math.floor(b.element115*p),deuterium:Math.floor(b.deuterium*p)}}return b}const u={galaxy:{antimatter:80,element115:60,deuterium:50},system:{antimatter:50,element115:60,deuterium:50},planet:{antimatter:18,element115:22,deuterium:27}}[t];let d=1;t==="planet"&&!l?.elements&&r&&(d=.5+this.hashCoordinates(r)*1.5);const c=n>3?Math.max(.4,1-(n-3)*.15):1,o=.9+Math.random()*.2;let h={antimatter:Math.floor(u.antimatter*d*c*o),element115:Math.floor(u.element115*d*c*o),deuterium:Math.floor(u.deuterium*d*c*o)};if(m){const g=M.getUpgrade().multiplier;h={antimatter:Math.floor(h.antimatter*g),element115:Math.floor(h.element115*g),deuterium:Math.floor(h.deuterium*g)}}return h}static hashCoordinates(t){if(!t||typeof t!="string")return Math.random();let r=0;for(let n=0;n<t.length;n++){const l=t.charCodeAt(n);r=(r<<5)-r+l,r=r&r}return Math.abs(r)/2147483647}static getDiscoveryBonus(t){return t<=3?5:t<=5?3:t<=7?2:t<=10?1.5:1}static collectResources(t,r,n,l){if(!this.canCollectFromLocation(t))return null;const m=M.getCollectionCount(t);let s=this.calculateReward(r,n,m,l);const d=M.getUpgrade().multiplier;M.markLocationCollected(t);const c=M.getCollectionStreakInfo();let o=c.streakMultiplier;const h=this.getDiscoveryBonus(c.dailyCollections);return o*=h,o*=d,o>1&&(s={antimatter:Math.floor(s.antimatter*o),element115:Math.floor(s.element115*o),deuterium:Math.floor(s.deuterium*o)}),M.addResources(s),s}static getLocationCollection(t){const r=M.getCollectionCount(t);return r>0?{totalCollections:r}:null}static showCollectionSuccess(t,r,n,l){const m=document.createElement("div");m.className="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-gradient-to-r from-green-900/90 to-blue-900/90 text-white px-4 py-3 rounded-lg shadow-lg border border-green-500/50 w-[90vw] max-w-lg",m.className+=" animate-slideInDown";const u={galaxy:"ðŸŒŒ",system:"â­",planet:"ðŸª"}[r]||"ðŸ“¦",d=document.createElement("div");d.className="flex items-center space-x-3";const c=document.createElement("span");c.className="text-2xl",c.textContent=u;const o=document.createElement("div"),h=document.createElement("div");h.className="text-sm font-bold text-green-300",l?h.textContent="ðŸŽ‰ First Time Mining - Bonus Applied!":h.textContent="Resources Collected!";const i=document.createElement("div");i.className="text-xs text-green-200 mt-1 flex gap-3";const g=document.createElement("span");g.className="text-purple-300 flex items-center gap-1",z.createRoot(g).render(e.jsxs(e.Fragment,{children:[e.jsx(_,{size:12,color:"currentColor"}),"+",t.antimatter," AM"]}));const j=document.createElement("span");j.className="text-cyan-300 flex items-center gap-1",z.createRoot(j).render(e.jsxs(e.Fragment,{children:[e.jsx(H,{size:12,color:"currentColor"}),"+",t.element115," E115"]}));const x=document.createElement("span");if(x.className="text-orange-300 flex items-center gap-1",z.createRoot(x).render(e.jsxs(e.Fragment,{children:[e.jsx(V,{size:12,color:"currentColor"}),"+",t.deuterium," D"]})),i.appendChild(g),i.appendChild(j),i.appendChild(x),o.appendChild(h),o.appendChild(i),n?.discoveryBonus>1){const p=document.createElement("div");p.className="text-xs text-yellow-300 mt-1",n.discoveryBonus>=5?p.textContent="ðŸŽ‰ Daily Bonus: 5x (First 3 discoveries today)":n.discoveryBonus>=3?p.textContent="âœ¨ Daily Bonus: 3x (Discoveries 4-5 today)":n.discoveryBonus>=2?p.textContent="ðŸŒŸ Daily Bonus: 2x (Discoveries 6-7 today)":n.discoveryBonus>=1.5&&(p.textContent="â­ Daily Bonus: 1.5x (Discoveries 8-10 today)"),o.appendChild(p)}if(n?.shipMultiplier&&n.shipMultiplier>1){const p=document.createElement("div");p.className="text-xs text-blue-300 mt-1";const N=n.shipMultiplier===Math.floor(n.shipMultiplier)?n.shipMultiplier.toFixed(0):n.shipMultiplier.toFixed(1);p.textContent=`ðŸš€ Ship Bonus: ${N}x`,o.appendChild(p)}if(!(n?.discoveryBonus>1||n?.streakBonus||n?.shipMultiplier&&n.shipMultiplier>1)){const p=document.createElement("div");p.className="text-xs text-gray-400 mt-1",p.textContent="No bonus active, improve your ship",o.appendChild(p)}d.appendChild(c),d.appendChild(o),m.appendChild(d),document.body.appendChild(m),setTimeout(()=>{m.className=m.className.replace("animate-slideInDown","animate-slideOutUp"),setTimeout(()=>{m.remove()},300)},3e3)}static getCollectionStats(){const t=M.getStats();return{totalCollections:t.totalCollections,uniqueLocations:t.totalCollections,totalResourcesGathered:{antimatter:t.totalResourcesCollected.antimatter,element115:t.totalResourcesCollected.element115,deuterium:t.totalResourcesCollected.deuterium}}}}const ne=({locationType:a,locationId:t,coordinates:r,systemIndex:n,planetName:l,planetElements:m,className:s=""})=>{const[u,d]=v.useState(!1),[c,o]=v.useState(0),[h,i]=v.useState(!1),[g,C]=v.useState(0),[j,k]=v.useState(null);v.useEffect(()=>{I(async()=>{const{UnifiedSpaceshipStorage:L}=await import("./atlas_BmJDGROROnjcA3EYH2Kqq.js").then(B=>B.i);return{UnifiedSpaceshipStorage:L}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63])).then(({UnifiedSpaceshipStorage:L})=>{L.cleanCorruptedTimestamps()});const w=R.generateLocationId(a,r,n,l),y=()=>{const L=R.canCollectFromLocation(w),B=R.getTimeUntilNextCollection(w);d(L),o(B);const E=R.getLocationCollection(w);C(E?.totalCollections||0);const A=M.getDailyCollectionInfo();k(A)};y();const S=setInterval(y,1e3);return()=>clearInterval(S)},[a,r,n,l]);const x=async()=>{i(!0);const w=R.generateLocationId(a,r,n,l),y=g===0,S=m?{elements:m}:void 0,L=R.collectResources(w,a,r,S);if(L){const{UnifiedSpaceshipStorage:B}=await I(async()=>{const{UnifiedSpaceshipStorage:D}=await import("./atlas_BmJDGROROnjcA3EYH2Kqq.js").then(O=>O.i);return{UnifiedSpaceshipStorage:D}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63])),E=B.getCollectionStreakInfo(),A=E.dailyCollections<=3?5:E.dailyCollections<=5?3:E.dailyCollections<=7?2:E.dailyCollections<=10?1.5:1;R.showCollectionSuccess(L,a,{streakBonus:E.streakMultiplier>1,discoveryBonus:A,shipMultiplier:B.getUpgrade().multiplier},y),d(!1),o(R.getTimeUntilNextCollection(w)),C(D=>D+1),T.emit("resources_updated"),T.emit("mining_completed",L)}setTimeout(()=>i(!1),1e3)},b=()=>{if(h)return"Mining...";if(!u&&c>0){const w=Math.ceil(c*3600),y=Math.floor(w/60),S=w%60;if(y>=60){const L=Math.floor(y/60),B=y%60;return`${L}h ${B}m`}else return y>0?`${y}m ${S}s`:`${S}s`}return $()?"Max":"Mine"},f=()=>h?e.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):!u&&c>0?e.jsxs("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}),e.jsx("path",{d:"M13 7h-2v5.414l3.293 3.293 1.414-1.414L13 11.586z"})]}):e.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4"})]}),p=()=>{const w=m?{elements:m}:void 0,y=R.calculateReward(a,r,g,w,!0);return e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(_,{size:8,color:"#c084fc"}),y.antimatter,"AM |",e.jsx(H,{size:8,color:"#67e8f9"}),y.element115,"E115 |",e.jsx(V,{size:8,color:"#fb923c"}),y.deuterium,"D"]})},N=()=>{if(!j)return u?`Mine: ${p()}`:`Cooldown: ${b()} remaining`;const w=a==="planet"?j.planets:a==="system"?j.systems:j.galaxies,y=w.unlimited?"":` | Daily: ${w.used}/${w.limit}`;if(u){const S=R.calculateReward(a,r,g,m?{elements:m}:void 0,!0);return`Mine: ${S.antimatter}AM | ${S.element115}E115 | ${S.deuterium}D${y}`}else{if(!w.unlimited&&w.used>=w.limit)return`Daily limit reached: ${w.used}/${w.limit} ${a}s today`;{const S=R.calculateReward(a,r,g,m?{elements:m}:void 0,!0);return`Cooldown: ${b()} remaining | Next: ${S.antimatter}AM | ${S.element115}E115 | ${S.deuterium}D${y}`}}},$=()=>{if(!j)return!1;const w=a==="planet"?j.planets:a==="system"?j.systems:j.galaxies;return!w.unlimited&&w.used>=w.limit};return e.jsxs("button",{onClick:x,disabled:!u||h,className:`relative inline-flex items-center space-x-1 px-1.5 py-0.5 rounded transition-all duration-200 text-[10px] font-medium h-[21px] box-border ${h?"bg-blue-500/20 border border-blue-500/50 text-blue-400":u?"bg-white/10 hover:bg-white/20 border border-white/20 hover:border-white/40 text-white hover:text-blue-300":$()?"bg-red-500/20 border border-red-500/50 text-red-400":"bg-gray-500/20 border border-gray-500/50 text-gray-400"} ${s}`,title:N(),children:[f(),e.jsx("span",{className:"text-[10px] uppercase",children:b()}),$()&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[8px] px-1 py-0.5 rounded-full font-bold leading-none min-w-[16px] text-center z-10",children:"MAX"})]})},ae=({isOnCooldown:a,isSaved:t,isCollecting:r,className:n=""})=>r?e.jsxs("div",{className:`flex items-center justify-center w-8 h-8 relative ${n}`,children:[e.jsxs("svg",{className:"w-6 h-6 text-blue-400 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 0 1 8-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 0 1 4 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("div",{className:"absolute w-8 h-8 rounded-full border-2 border-blue-400 animate-ping opacity-50"})]}):a?e.jsx("div",{className:`flex items-center justify-center w-8 h-8 relative ${n}`,children:e.jsxs("div",{className:"relative",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"w-6 h-6 text-orange-400",style:{animation:"drill-hammer 1.5s ease-in-out infinite"},children:e.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.3,children:[e.jsx("path",{d:"m14 13l-8.381 8.38a1 1 0 0 1-3.001-3L11 9.999m4.973-5.972A13 13 0 0 0 5.902 2.373c-1.398.342-1.092 2.158.277 2.601a19.9 19.9 0 0 1 5.822 3.024m4 4.001a19.9 19.9 0 0 1 3.024 5.824c.444 1.369 2.26 1.676 2.603.278A13 13 0 0 0 20 8.069"}),e.jsx("path",{d:"M18.352 3.352a1.205 1.205 0 0 0-1.704 0l-5.296 5.296a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l5.296-5.296a1.205 1.205 0 0 0 0-1.704z"})]})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse",children:e.jsx("div",{className:"w-full h-full bg-red-400 rounded-full animate-ping"})})]})}):t?e.jsxs("div",{className:`flex items-center justify-center w-8 h-8 relative ${n}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"w-6 h-6 text-green-400",style:{animation:"auto-mining 2s ease-in-out infinite"},children:e.jsx("path",{fill:"currentColor",d:"M6.75 3A2.75 2.75 0 0 0 4 5.75V20.5h-.25a.75.75 0 0 0 0 1.5h13.5a.75.75 0 0 0 0-1.5H17v-1.803a2.745 2.745 0 0 0 4-2.442v-5.838a2.75 2.75 0 0 0-.55-1.65L19.35 7.3a.75.75 0 0 0-1.2.9l1.1 1.467c.162.216.25.48.25.75v5.838a1.245 1.245 0 1 1-2.49 0V14.5a1 1 0 0 0-.01-.121V5.75A2.75 2.75 0 0 0 14.25 3zM7 6.75A.75.75 0 0 1 7.75 6h5.5a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-.75.75h-5.5a.75.75 0 0 1-.75-.75z"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full",children:e.jsx("div",{className:"w-full h-full bg-green-400 rounded-full animate-pulse"})})]}),e.jsx("div",{className:"absolute top-1 left-1",style:{animation:"processing-dots 1.5s ease-in-out infinite"},children:e.jsxs("div",{className:"flex gap-0.5",children:[e.jsx("div",{className:"w-1 h-1 bg-emerald-300 rounded-full",style:{animationDelay:"0s"}}),e.jsx("div",{className:"w-1 h-1 bg-emerald-300 rounded-full",style:{animationDelay:"0.2s"}}),e.jsx("div",{className:"w-1 h-1 bg-emerald-300 rounded-full",style:{animationDelay:"0.4s"}})]})})]}):e.jsx("div",{className:`flex items-center justify-center w-8 h-8 ${n}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 256 256",className:"w-6 h-6 text-gray-400 opacity-60",children:e.jsxs("g",{fill:"currentColor",strokeWidth:6.5,stroke:"currentColor",children:[e.jsx("path",{d:"M216 96v120H96l-56-56V40h120Z",opacity:.2}),e.jsx("path",{d:"m221.66 90.34l-56-56A8 8 0 0 0 160 32H40a8 8 0 0 0-8 8v120a8 8 0 0 0 2.3 5.61l56 56A8 8 0 0 0 96 224h120a8 8 0 0 0 8-8V96a8 8 0 0 0-2.34-5.66M168 59.31L196.69 88H168ZM88 196.69L59.31 168H88ZM88 152H48V59.31l40 40ZM59.31 48H152v40H99.31ZM152 104v48h-48v-48Zm-48 104v-40h52.69l40 40Zm104-11.31l-40-40V104h40Z"})]})})}),ie=({className:a=""})=>e.jsx("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),K=({isOpen:a,onClose:t,url:r,title:n="Share this link",onTakeScreenshot:l,isGeneratingImage:m=!1})=>{const[s,u]=v.useState(!1),[d,c]=v.useState(!1),[o,h]=v.useState(!1),i=()=>{h(!1),setTimeout(()=>{c(!1),t()},300)};if(v.useEffect(()=>{a&&(c(!0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{h(!0)})}))},[a]),!d)return null;const g=async()=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(r);else{const f=document.createElement("textarea");f.value=r,f.style.position="fixed",f.style.left="-999999px",f.style.top="-999999px",document.body.appendChild(f),f.focus(),f.select(),document.execCommand("copy"),f.remove()}u(!0),setTimeout(()=>u(!1),2e3)}catch(f){console.error("Failed to copy:",f)}},C=()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(r)}`,"_blank","width=600,height=400")},j=()=>{window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(r)}&text=${encodeURIComponent(n)}`,"_blank","width=600,height=400")},k=()=>{window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(r)}`,"_blank","width=600,height=400")},x=()=>{window.open(`https://wa.me/?text=${encodeURIComponent(n+" "+r)}`,"_blank")},b=()=>{window.location.href=`mailto:?subject=${encodeURIComponent(n)}&body=${encodeURIComponent(r)}`};return G.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",style:{opacity:o?1:0,transition:"opacity 300ms ease-in-out"},onClick:i,children:e.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 relative",style:{opacity:o?1:0,transform:o?"scale(1)":"scale(0.95)",transition:"opacity 300ms ease-in-out, transform 300ms ease-in-out"},onClick:f=>f.stopPropagation(),children:[e.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors","aria-label":"Close",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Share Stargate Link"}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-700/50 rounded-lg",children:[e.jsx("input",{type:"text",value:r,readOnly:!0,className:"flex-1 bg-transparent text-gray-300 outline-none text-sm"}),e.jsx("button",{onClick:g,className:`px-3 py-1 rounded transition-all ${s?"bg-green-600 text-white":"bg-slate-600 hover:bg-slate-500 text-gray-200"}`,children:s?"Copied!":"Copy"})]})}),e.jsxs("div",{className:`grid ${l?"grid-cols-4":"grid-cols-3"} gap-3`,children:[e.jsxs("button",{onClick:C,className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors group",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:"Facebook"})]}),e.jsxs("button",{onClick:j,className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors group",children:[e.jsx("svg",{className:"w-6 h-6 text-sky-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:"Twitter"})]}),e.jsxs("button",{onClick:k,className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors group",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:"LinkedIn"})]}),e.jsxs("button",{onClick:x,className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors group",children:[e.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.149-.67.149-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:"WhatsApp"})]}),e.jsxs("button",{onClick:b,className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 transition-colors group",children:[e.jsx("svg",{className:"w-6 h-6 text-gray-400 group-hover:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{className:"text-xs text-gray-400 group-hover:text-gray-300",children:"Email"})]}),l&&e.jsx("button",{onClick:l,disabled:m,className:`flex flex-col items-center gap-2 p-3 rounded-lg transition-colors group ${m?"bg-slate-700/30 cursor-not-allowed opacity-50":"bg-slate-700/50 hover:bg-slate-700"}`,children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-6 h-6 border-2 border-gray-400 border-t-white rounded-full animate-spin"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Generating..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-6 h-6 text-purple-400 group-hover:text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"text-xs text-purple-400 group-hover:text-purple-300",children:"Screenshot"})]})})]})]})}),document.body)},se=({href:a,className:t="",style:r={},onTakeScreenshot:n,isGeneratingImage:l=!1})=>{const[m,s]=v.useState("Aligning Stargate..."),[u,d]=v.useState(!1),[c,o]=v.useState(!1),[h,i]=v.useState(!1),[g,C]=v.useState(!1),j=v.useRef(!1),k=(f,p)=>Array.from({length:p},()=>f[Math.floor(Math.random()*f.length)]).join(""),x=f=>new Promise(p=>setTimeout(p,f)),b=async()=>{const f=[{chars:"01",duration:20,iterations:30,length:24},{chars:"0123456789",duration:15,iterations:40,length:24},{chars:"0123456789ABCDEF",duration:10,iterations:50,length:24},{chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()-_=+[]{}|;:'\",.<>?/`~",duration:5,iterations:100,length:24}];for(const N of f)for(let $=0;$<N.iterations;$++)s(k(N.chars,N.length)),await x(N.duration);const p="Stargate Aligned";s(""),o(!0);for(let N=0;N<p.length;N++)s(p.substring(0,N+1)),await x(30);d(!0),setTimeout(()=>d(!1),300),sessionStorage.setItem("stargateAnimationShown","true")};return v.useEffect(()=>{const f=()=>{const N=W.isRemoteUniverse();if(C(N),N){s("Remote Universe"),o(!1);return}sessionStorage.getItem("stargateAnimationShown")?(s("Stargate Aligned"),o(!0),j.current=!0):b()};f();const p=setInterval(f,1e3);return()=>clearInterval(p)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`stargate ${t} relative inline-flex items-center group inline-block ${g?"bg-gradient-to-r from-red-900 via-red-800 to-red-900 text-red-300 border border-red-600 cursor-not-allowed opacity-60":"bg-gradient-to-r from-slate-800 via-slate-700 to-slate-800 text-gray-200 border border-slate-600 hover:border-slate-500 shadow-md hover:shadow-lg"} font-medium text-sm rounded-full transition-all duration-300 overflow-hidden ${u?"scale-110":""}`,style:{transition:"transform 0.3s ease",transform:u?"scale(1.1)":"scale(1)",boxShadow:g?"0 2px 8px rgba(127, 29, 29, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.3)",...r},title:g?"Stargate links are disabled in remote universes - return to local universe first":"",children:[e.jsx("div",{className:"flex-1 flex items-stretch",children:g?e.jsxs("div",{className:"px-4 py-2 font-mono flex items-center gap-1 text-inherit w-full h-full rounded-lg cursor-not-allowed",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-1",width:24,height:24,viewBox:"0 0 24 24",children:e.jsx("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.5,children:e.jsx("path",{d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L5.636 5.636"})})}),m]}):e.jsxs("a",{href:a,className:"px-4 py-2 font-mono flex items-center gap-1 text-inherit no-underline w-full h-full rounded-lg hover:bg-slate-700 transition-all duration-200",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-1",width:24,height:24,viewBox:"0 0 24 24",children:e.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.5,children:[e.jsx("path",{d:"M14 12a6 6 0 1 1-6-6"}),e.jsx("path",{d:"M10 12a6 6 0 1 1 6 6",opacity:.5})]})}),m]})}),c&&!g&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-slate-500 self-stretch flex items-center mx-0.5",children:"|"}),e.jsx("button",{onClick:()=>i(!0),className:"px-4 py-3 flex items-center justify-center hover:bg-slate-700 rounded-lg transition-all duration-200 text-gray-400 hover:text-white self-stretch",title:"Share this Stargate link",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-slate-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]}),e.jsx(K,{isOpen:h,onClose:()=>i(!1),url:a.startsWith("/")?`${window.location.origin}${a}`:a,title:"Check out this Stargate destination on The Atlas!",onTakeScreenshot:n,isGeneratingImage:l})]})},oe=({isActive:a,onAnimationComplete:t})=>{const[r,n]=v.useState(!1),[l,m]=v.useState([]);return v.useEffect(()=>{if(a){n(!0);const s=[];for(let d=0;d<12;d++)s.push({id:Date.now()+d,angle:360/12*d,delay:d*.1});m(s);const u=setTimeout(()=>{n(!1),m([]),t&&t()},3e3);return()=>{clearTimeout(u)}}},[a,t]),!a&&!r?null:e.jsx("div",{className:"absolute inset-0 pointer-events-none z-40 overflow-hidden",children:r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[e.jsx("div",{className:"mining-extraction-core"}),e.jsx("div",{className:"mining-extraction-ring"}),e.jsx("div",{className:"mining-extraction-ring mining-ring-delay-1"}),e.jsx("div",{className:"mining-extraction-ring mining-ring-delay-2"})]}),e.jsx("div",{className:"mining-scan-grid"}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"mining-extraction-beam mining-beam-vertical"}),e.jsx("div",{className:"mining-extraction-beam mining-beam-horizontal"}),e.jsx("div",{className:"mining-extraction-beam mining-beam-diagonal-1"}),e.jsx("div",{className:"mining-extraction-beam mining-beam-diagonal-2"})]}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:l.map(s=>e.jsx("div",{className:"absolute mining-resource-particle",style:{transform:`rotate(${s.angle}deg)`,animationDelay:`${s.delay}s`},children:e.jsx("div",{className:"mining-particle-trail"})},s.id))})]})})};export{ie as D,Z as E,ae as M,ne as R,te as S,R as a,oe as b,se as c,re as g};
