console.log("Atlas System React script loading...");document.addEventListener("DOMContentLoaded",async()=>{console.log("DOM loaded, starting System scripts..."),window.toggleLocalization=function(){var t=document.getElementById("localization-content"),a=document.querySelector(".dropdown-btn");t.style.display==="none"||t.style.display===""?(t.style.display="block",a.textContent="Hide Localization"):(t.style.display="none",a.textContent="View Localization")};const b=document.getElementById("localization-content");b&&(b.style.display="none");function v(){const t=document.getElementById("stargate-text"),a=document.querySelector(".stargate");if(!t||!a)return;if(sessionStorage.getItem("stargateAnimationShown"))t.textContent="Stargate system aligned";else{let g=function(s){return Array.from({length:s},()=>Math.floor(Math.random()*2)).join("")},y=function(s){return Array.from({length:s},()=>Math.floor(Math.random()*10)).join("")},w=function(s){const d="0123456789ABCDEF";return Array.from({length:s},()=>d[Math.floor(Math.random()*16)]).join("")},S=function(s){const d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()-_=+[]{}|;:'\",.<>?/`~";return Array.from({length:s},()=>d[Math.floor(Math.random()*d.length)]).join("")},x=function(){t.textContent=g(32),e++,e<20?setTimeout(x,40):(e=0,setTimeout(A,40))},A=function(){t.textContent=y(32),e++,e<30?setTimeout(A,25):(e=0,setTimeout(C,25))},C=function(){t.textContent=w(32),e++,e<40?setTimeout(C,20):(e=0,setTimeout(z,20))},z=function(){t.textContent=S(32),e++,e<100?setTimeout(z,10):(e=0,setTimeout(I,10))},I=function(){let s=0;t.textContent="";function d(){s<n.length?(t.textContent+=n.charAt(s),s++,setTimeout(d,30)):T()}d()},T=function(){a.style.transition="transform 0.3s ease",a.style.transform="scale(1.1)",setTimeout(()=>{a.style.transform="scale(1)"},300)};var p=g,c=y,o=w,i=S,l=x,r=A,m=C,f=z,M=I,h=T;sessionStorage.setItem("stargateAnimationShown","true");const n="Stargate system aligned";let e=0;x()}}function E(){const t=document.body.getAttribute("data-coordinates"),a=document.body.getAttribute("data-system-index");function u(o,i,l){let r=JSON.parse(localStorage.getItem("atlasHistoricalData"))||{};return r[o]&&r[o][i]&&r[o][i].includes(l)}document.querySelectorAll(".seen-indicator[data-planet]").forEach(o=>{const i=o.getAttribute("data-planet");u(t,a,i)&&(o.style.display="block",o.style.opacity="1")});function c(o,i){let l=JSON.parse(localStorage.getItem("atlasHistoricalData"))||{};if(l[o]||(l[o]={}),i!==null){const r=i.toString();l[o][r]||(l[o][r]=[])}localStorage.setItem("atlasHistoricalData",JSON.stringify(l))}t&&a&&c(t,a)}function L(){const t=document.getElementById("canvas");if(!t)return;const a=t.getContext("2d");let u=[];const p=800;let c,o;const i=800;function l(){r(),c=t.width/2,o=t.height/2;for(let n=0;n<p;n++){let e={x:Math.random()*t.width,y:Math.random()*t.height,z:Math.random()*t.width,o:Math.random()};u.push(e)}window.requestAnimationFrame(M)}function r(){const n=Math.min(window.innerWidth,i),e=Math.min(window.innerHeight,i);t.width=n,t.height=e,c=t.width/2,o=t.height/2}let m=.5,f=!1;function M(){a.clearRect(0,0,t.width,t.height),u.forEach(n=>{n.z-=m,n.z<=0&&(n.z=t.width,n.x=Math.random()*t.width,n.y=Math.random()*t.height,n.o=Math.random());let e=t.width/n.z,g=(n.x-c)*e+c,y=(n.y-o)*e+o,w=2*e,S=n.o;a.beginPath(),a.fillStyle=`rgba(255, 255, 255, ${S})`,a.arc(g,y,w,0,2*Math.PI),a.fill()}),!f&&m<60&&(m+=1),f&&m>2&&(m-=2),window.requestAnimationFrame(M)}window.addEventListener("resize",r),l();const h=document.getElementById("blob-image");if(h){const n=h.getAttribute("data-high-res-url"),e=new Image;e.src=n,e.onload=()=>{f=!0,h.src=n,h.classList.add("loaded"),t.classList.add("hidden"),setTimeout(()=>{t.style.display="none"},2500)}}}v(),E(),L(),console.log("System scripts initialized successfully!")});
