import{r as i,j as e,a as X,c as Q,R as ee}from"./atlas_BiACxVxc6cO5okV5F68Rd.js";import{A as te,E as ae,D as se,R as re,L as oe,S as v,d as O,e as H,F as ie,H as ne,a as le}from"./atlas_BAqEsQWQ_MCEaSfE85tyi.js";import{g as ce,E as me,R as de,S as ue,M as xe,a as G,b as W,T as be}from"./atlas_B9jNJvjMGfqPCsQ56unKn.js";import{M as q}from"./atlas_CNyWlCzpx4wDDc3Cg4xh_.js";import{e as ge}from"./atlas_wcPzamFt5CPpIcmd124GE.js";import{V as he}from"./atlas_DrLTn8mjMle6vK3_h1E1S.js";import"./atlas_5StMBQg7EZ_DcUhMgqODi.js";import"./atlas_hV4YbJX4LmBeaYZmYRF0y.js";import"./atlas_BOOzg5XYrrU1N4SZySfRd.js";import"./atlas_BJLzboHTaSIGvKgNbvLUr.js";import"./atlas_DIajYqgJJlFIdWNB9l9vK.js";import"./atlas_DqkZSA4SKHSRE9_1MZZpu.js";import"./atlas_7nMzc3Dql9nxsSiWM62af.js";import"./atlas_CkL02Wqzuo1RtTjRZ4BLy.js";import"./atlas_DcFWk_8uQW5YiyxJyXm9Z.js";import"./atlas_BkcglrC3q9-fMfrzU8uke.js";import"./atlas_BMkCctBHLeH7Oacwp8KHY.js";import"./atlas_CE2WK_Y-xuzINP7b3IpS3.js";import"./atlas_B-kptGVZDVdmtnkIZVh1u.js";import"./atlas_Bd8W2S8TCToc_TkfjBSRh.js";import"./atlas_BFuxIgjPmiYBRSaU6AzKX.js";import"./atlas_CH4XVS_nmu8TTUL6-ibC9.js";import"./atlas_XaDvYkrecyxhCh31P9DPo.js";import"./atlas_8smkL2kAlW8VsbqAp0E2n.js";import"./atlas_CjehN3jkco148tZZ8HqMi.js";import"./atlas_Dy-tlkqGLRE2Gl_vKG4xP.js";import"./atlas_D34u812Y6QAdJLe2a36BS.js";import"./atlas_C92kSEtvzpygOQttG5_li.js";import"./atlas_B877x597f8C_bbJT6q9cw.js";import"./atlas_DAbZALnNf85bcXe1oVQnz.js";import"./atlas_DQBcmrKCsDOyRg5Jaj7Di.js";import"./atlas_Cm5pcYvuRuae8wLwYAuwz.js";import"./atlas_BRjO3l-9Uk0GXd99tH-yJ.js";import"./atlas_MCqKeA1rPM8tvcWERWIKQ.js";import"./atlas_DUeAOsmuB5IQYdEBY9tsy.js";import"./atlas_dAPGVvdiBoF3N71Jj1_R5.js";import"./atlas_e5uNz0v6NagohqMDG5OXg.js";import"./atlas_BO01S8JSEJPQBe1CeUH90.js";import"./atlas_DoGAVfLGhj19oLHZhptsG.js";import"./atlas_BTW9-VU5aCkr6W1y5CLfB.js";import"./atlas_D0-SfIZytUwPNEpr5qGyx.js";import"./atlas_P538xA28SIauNdsCb0ZYe.js";import"./atlas_CwupL9FClDwMIIJCaIsAX.js";import"./atlas_DY-bkmziKm4gSYWMvPahE.js";import"./atlas_By5tzXmHX4pj8fcpSexic.js";import"./atlas_3VRqq9jdnqdyWEklvEohb.js";import"./atlas_C8ykrCiAzITyq4ruXfKyg.js";import"./atlas_C2xUkmgG06MuKr4w07SbG.js";import"./atlas_DQrR5ctqeBlMvAnkpcJ3X.js";import"./atlas_BoXOdkgAKhVHQJiALu9rF.js";import"./atlas_qb-1r_R3caM5mPfGaf2Rh.js";import"./atlas_BCsVZ7wab0-olf8yw4pX9.js";import"./atlas_DbJYOiCroQ2VkDmDQ_fcP.js";import"./atlas_BTQdOeq3M2jF6mnM2ye_h.js";import"./atlas_B6cOxK1uXF_kRZ-THv-4m.js";import"./atlas_DpmY_YPo_wU0wdo7fOe9u.js";import"./atlas_DXaxYlG2vplsutHz8IC7A.js";import"./atlas_vfnLYY9OxNiRrcaEDklGk.js";import"./atlas_D4yQrit3qgZjHgPDw4i8o.js";import"./atlas_DJbw34qPG7dJ89663B1Zt.js";import"./atlas_QHr9Leq2IshRgis-ZHroK.js";import"./atlas_DnaLGJ954EOeDtbKHVyqk.js";import"./atlas_Ddl-3Pyb4NhSKcZ_QU3d6.js";import"./atlas_CPQnWwOf4six85153COyV.js";const ye=({effects:t,onToggleEffect:a})=>{const[r,n]=i.useState(t),[m,x]=i.useState(!1);i.useEffect(()=>{n(t)},[t]);const g=(s,c)=>{n(N=>N.map(f=>f.id===s?{...f,enabled:c}:f)),a(s,c)},b=s=>({crystalline_surface:"Crystalline Surface",fire_eruption:"Fire Eruption",carbon_trails:"Carbon Trails",radiation_rings:"Radiation Rings",molten_lava:"Molten Lava",lava_flows:"Lava Flows",lava_rivers:"Lava Rivers",aquifer_water:"Aquifer Water",ocean_currents:"Ocean Currents",atmosphere_clouds:"Atmosphere Clouds",crystal_formations:"Crystal Formations",cloud_layers:"Cloud Layers",storm_systems:"Storm Systems",volcanic_activity:"Volcanic Activity",aurora:"Aurora",magnetic_field:"Magnetic Field",city_lights:"City Lights",bioluminescence:"Bioluminescence",thermal_emissions:"Thermal Emissions"})[s]||s.replace(/_/g," ").replace(/\b\w/g,N=>N.toUpperCase()).replace("Layer","").replace("Effect","").trim();return r.length===0?null:e.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"3D Effects Control"}),e.jsxs("button",{onClick:()=>x(!m),className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:[m?"Hide":"Show"," (",r.filter(s=>s.enabled).length,"/",r.length,")"]})]}),m&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:r.map(s=>e.jsxs("div",{className:"bg-white/5 rounded p-2 flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx("input",{type:"checkbox",checked:s.enabled,onChange:c=>g(s.id,c.target.checked),className:"rounded border-gray-400 text-blue-500 focus:ring-blue-500 focus:ring-offset-0 bg-white/10"}),e.jsx("span",{className:`${s.enabled?"text-white":"text-gray-500"} transition-colors`,children:b(s.type)})]}),e.jsx("span",{className:`text-[10px] ${s.enabled?"text-green-400":"text-gray-600"}`,children:s.enabled?"ON":"OFF"})]},s.id))}),m&&r.length>3&&e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{onClick:()=>{r.forEach(s=>g(s.id,!0))},className:"text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded hover:bg-green-500/30 transition-colors",children:"Enable All"}),e.jsx("button",{onClick:()=>{r.forEach(s=>g(s.id,!1))},className:"text-xs px-2 py-1 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors",children:"Disable All"})]})]})},fe={Hydrogen:{symbol:"H",atomicNumber:1,category:"nonmetal"},Helium:{symbol:"He",atomicNumber:2,category:"noble-gas"},Lithium:{symbol:"Li",atomicNumber:3,category:"alkali-metal"},Beryllium:{symbol:"Be",atomicNumber:4,category:"alkaline-earth"},Boron:{symbol:"B",atomicNumber:5,category:"metalloid"},Carbon:{symbol:"C",atomicNumber:6,category:"nonmetal"},Nitrogen:{symbol:"N",atomicNumber:7,category:"nonmetal"},Oxygen:{symbol:"O",atomicNumber:8,category:"nonmetal"},Fluorine:{symbol:"F",atomicNumber:9,category:"halogen"},Neon:{symbol:"Ne",atomicNumber:10,category:"noble-gas"},Sodium:{symbol:"Na",atomicNumber:11,category:"alkali-metal"},Magnesium:{symbol:"Mg",atomicNumber:12,category:"alkaline-earth"},Aluminum:{symbol:"Al",atomicNumber:13,category:"post-transition"},Silicon:{symbol:"Si",atomicNumber:14,category:"metalloid"},Phosphorus:{symbol:"P",atomicNumber:15,category:"nonmetal"},Sulfur:{symbol:"S",atomicNumber:16,category:"nonmetal"},Chlorine:{symbol:"Cl",atomicNumber:17,category:"halogen"},Argon:{symbol:"Ar",atomicNumber:18,category:"noble-gas"},Potassium:{symbol:"K",atomicNumber:19,category:"alkali-metal"},Calcium:{symbol:"Ca",atomicNumber:20,category:"alkaline-earth"},Scandium:{symbol:"Sc",atomicNumber:21,category:"transition-metal"},Titanium:{symbol:"Ti",atomicNumber:22,category:"transition-metal"},Vanadium:{symbol:"V",atomicNumber:23,category:"transition-metal"},Chromium:{symbol:"Cr",atomicNumber:24,category:"transition-metal"},Manganese:{symbol:"Mn",atomicNumber:25,category:"transition-metal"},Iron:{symbol:"Fe",atomicNumber:26,category:"transition-metal"},Cobalt:{symbol:"Co",atomicNumber:27,category:"transition-metal"},Nickel:{symbol:"Ni",atomicNumber:28,category:"transition-metal"},Copper:{symbol:"Cu",atomicNumber:29,category:"transition-metal"},Zinc:{symbol:"Zn",atomicNumber:30,category:"post-transition"},Gallium:{symbol:"Ga",atomicNumber:31,category:"post-transition"},Germanium:{symbol:"Ge",atomicNumber:32,category:"metalloid"},Arsenic:{symbol:"As",atomicNumber:33,category:"metalloid"},Selenium:{symbol:"Se",atomicNumber:34,category:"nonmetal"},Bromine:{symbol:"Br",atomicNumber:35,category:"halogen"},Krypton:{symbol:"Kr",atomicNumber:36,category:"noble-gas"},Rubidium:{symbol:"Rb",atomicNumber:37,category:"alkali-metal"},Strontium:{symbol:"Sr",atomicNumber:38,category:"alkaline-earth"},Yttrium:{symbol:"Y",atomicNumber:39,category:"transition-metal"},Zirconium:{symbol:"Zr",atomicNumber:40,category:"transition-metal"},Niobium:{symbol:"Nb",atomicNumber:41,category:"transition-metal"},Molybdenum:{symbol:"Mo",atomicNumber:42,category:"transition-metal"},Technetium:{symbol:"Tc",atomicNumber:43,category:"transition-metal"},Ruthenium:{symbol:"Ru",atomicNumber:44,category:"transition-metal"},Rhodium:{symbol:"Rh",atomicNumber:45,category:"transition-metal"},Palladium:{symbol:"Pd",atomicNumber:46,category:"transition-metal"},Silver:{symbol:"Ag",atomicNumber:47,category:"transition-metal"},Cadmium:{symbol:"Cd",atomicNumber:48,category:"post-transition"},Indium:{symbol:"In",atomicNumber:49,category:"post-transition"},Tin:{symbol:"Sn",atomicNumber:50,category:"post-transition"},Antimony:{symbol:"Sb",atomicNumber:51,category:"metalloid"},Tellurium:{symbol:"Te",atomicNumber:52,category:"metalloid"},Iodine:{symbol:"I",atomicNumber:53,category:"halogen"},Xenon:{symbol:"Xe",atomicNumber:54,category:"noble-gas"},Cesium:{symbol:"Cs",atomicNumber:55,category:"alkali-metal"},Barium:{symbol:"Ba",atomicNumber:56,category:"alkaline-earth"},Lanthanum:{symbol:"La",atomicNumber:57,category:"lanthanide"},Cerium:{symbol:"Ce",atomicNumber:58,category:"lanthanide"},Praseodymium:{symbol:"Pr",atomicNumber:59,category:"lanthanide"},Neodymium:{symbol:"Nd",atomicNumber:60,category:"lanthanide"},Promethium:{symbol:"Pm",atomicNumber:61,category:"lanthanide"},Samarium:{symbol:"Sm",atomicNumber:62,category:"lanthanide"},Europium:{symbol:"Eu",atomicNumber:63,category:"lanthanide"},Gadolinium:{symbol:"Gd",atomicNumber:64,category:"lanthanide"},Terbium:{symbol:"Tb",atomicNumber:65,category:"lanthanide"},Dysprosium:{symbol:"Dy",atomicNumber:66,category:"lanthanide"},Holmium:{symbol:"Ho",atomicNumber:67,category:"lanthanide"},Erbium:{symbol:"Er",atomicNumber:68,category:"lanthanide"},Thulium:{symbol:"Tm",atomicNumber:69,category:"lanthanide"},Ytterbium:{symbol:"Yb",atomicNumber:70,category:"lanthanide"},Lutetium:{symbol:"Lu",atomicNumber:71,category:"lanthanide"},Hafnium:{symbol:"Hf",atomicNumber:72,category:"transition-metal"},Tantalum:{symbol:"Ta",atomicNumber:73,category:"transition-metal"},Tungsten:{symbol:"W",atomicNumber:74,category:"transition-metal"},Rhenium:{symbol:"Re",atomicNumber:75,category:"transition-metal"},Osmium:{symbol:"Os",atomicNumber:76,category:"transition-metal"},Iridium:{symbol:"Ir",atomicNumber:77,category:"transition-metal"},Platinum:{symbol:"Pt",atomicNumber:78,category:"transition-metal"},Gold:{symbol:"Au",atomicNumber:79,category:"transition-metal"},Mercury:{symbol:"Hg",atomicNumber:80,category:"post-transition"},Thallium:{symbol:"Tl",atomicNumber:81,category:"post-transition"},Lead:{symbol:"Pb",atomicNumber:82,category:"post-transition"},Bismuth:{symbol:"Bi",atomicNumber:83,category:"post-transition"},Polonium:{symbol:"Po",atomicNumber:84,category:"post-transition"},Astatine:{symbol:"At",atomicNumber:85,category:"halogen"},Radon:{symbol:"Rn",atomicNumber:86,category:"noble-gas"},Francium:{symbol:"Fr",atomicNumber:87,category:"alkali-metal"},Radium:{symbol:"Ra",atomicNumber:88,category:"alkaline-earth"},Actinium:{symbol:"Ac",atomicNumber:89,category:"actinide"},Thorium:{symbol:"Th",atomicNumber:90,category:"actinide"},Protactinium:{symbol:"Pa",atomicNumber:91,category:"actinide"},Uranium:{symbol:"U",atomicNumber:92,category:"actinide"},Neptunium:{symbol:"Np",atomicNumber:93,category:"actinide"},Plutonium:{symbol:"Pu",atomicNumber:94,category:"actinide"},Americium:{symbol:"Am",atomicNumber:95,category:"actinide"},Curium:{symbol:"Cm",atomicNumber:96,category:"actinide"},Berkelium:{symbol:"Bk",atomicNumber:97,category:"actinide"},Californium:{symbol:"Cf",atomicNumber:98,category:"actinide"},Einsteinium:{symbol:"Es",atomicNumber:99,category:"actinide"},Fermium:{symbol:"Fm",atomicNumber:100,category:"actinide"},Mendelevium:{symbol:"Md",atomicNumber:101,category:"actinide"},Nobelium:{symbol:"No",atomicNumber:102,category:"actinide"},Lawrencium:{symbol:"Lr",atomicNumber:103,category:"actinide"},Rutherfordium:{symbol:"Rf",atomicNumber:104,category:"transition-metal"},Dubnium:{symbol:"Db",atomicNumber:105,category:"transition-metal"},Seaborgium:{symbol:"Sg",atomicNumber:106,category:"transition-metal"},Bohrium:{symbol:"Bh",atomicNumber:107,category:"transition-metal"},Hassium:{symbol:"Hs",atomicNumber:108,category:"transition-metal"},Meitnerium:{symbol:"Mt",atomicNumber:109,category:"transition-metal"},Darmstadtium:{symbol:"Ds",atomicNumber:110,category:"transition-metal"},Roentgenium:{symbol:"Rg",atomicNumber:111,category:"transition-metal"},Copernicium:{symbol:"Cn",atomicNumber:112,category:"post-transition"},Nihonium:{symbol:"Nh",atomicNumber:113,category:"post-transition"},Flerovium:{symbol:"Fl",atomicNumber:114,category:"post-transition"},Moscovium:{symbol:"Mc",atomicNumber:115,category:"post-transition"},Livermorium:{symbol:"Lv",atomicNumber:116,category:"post-transition"},Tennessine:{symbol:"Ts",atomicNumber:117,category:"halogen"},Oganesson:{symbol:"Og",atomicNumber:118,category:"noble-gas"},Tritium:{symbol:"T",atomicNumber:1,category:"isotope"},"Z-Divinium":{symbol:"Zd",atomicNumber:119,category:"synthetic"}},pe=t=>{switch(t){case"Exception":return"bg-gradient-to-br from-cyan-500/40 to-purple-600/40 border-2 border-cyan-400/90 text-cyan-100 shadow-lg shadow-cyan-400/30 animate-pulse";case"Ultra Rare":return"bg-violet-600/30 border-violet-400/80 text-violet-200 shadow-violet-400/20";case"Extremely Rare":return"bg-purple-600/30 border-purple-400/80 text-purple-200 shadow-purple-400/20";case"Very Rare":return"bg-pink-600/30 border-pink-400/80 text-pink-200 shadow-pink-400/20";case"Rare":return"bg-red-600/30 border-red-400/80 text-red-200 shadow-red-400/20";case"Uncommon":return"bg-orange-500/30 border-orange-400/80 text-orange-200 shadow-orange-400/20";case"Common":return"bg-yellow-500/30 border-yellow-400/80 text-yellow-200 shadow-yellow-400/20";case"Very Common":return"bg-green-500/30 border-green-400/80 text-green-200 shadow-green-400/20";case"Abundant":return"bg-blue-500/30 border-blue-400/80 text-blue-200 shadow-blue-400/20";case"Basic":return"bg-gray-500/30 border-gray-400/80 text-gray-200 shadow-gray-400/20";default:return"bg-gray-500/30 border-gray-400/80 text-gray-200 shadow-gray-400/20"}},Z=({elementName:t,expanded:a=!1,showResources:r=!1,className:n=""})=>{const m=fe[t],x=me[t],g=ce(t);if(!m)return e.jsx("span",{className:`inline-flex items-center text-xs bg-gray-500/20 text-gray-300 px-1.5 py-0.5 rounded border border-gray-500/30 ${n}`,children:t});const b=pe(g),s=g==="Exception";return a?e.jsxs("div",{className:`flex flex-col p-2 rounded-lg border ${b} ${s?"relative overflow-hidden":""} shadow-lg transition-all duration-200 hover:scale-105 ${n}`,children:[s&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/10 via-purple-500/10 to-cyan-400/10 animate-pulse pointer-events-none rounded-lg"}),e.jsxs("div",{className:`flex flex-col items-center justify-center h-12 w-12 mx-auto mb-2 ${s?"bg-black/30 border-cyan-400/30":"bg-black/20"} rounded border border-white/10 relative z-10`,children:[e.jsx("div",{className:`text-xs font-bold leading-none ${s?"text-cyan-100":""}`,children:m.symbol}),e.jsx("div",{className:`text-[8px] opacity-70 leading-none mt-0.5 ${s?"text-cyan-200":""}`,children:m.atomicNumber})]}),e.jsx("div",{className:`text-xs font-medium text-center leading-tight mb-1 relative z-10 ${s?"text-cyan-100 font-bold":""}`,children:t}),e.jsx("div",{className:`text-[10px] text-center mb-2 relative z-10 ${s?"text-cyan-200 font-semibold animate-pulse":"opacity-80"}`,children:g}),r&&x&&e.jsxs("div",{className:"space-y-1",children:[x.antimatter>0&&e.jsxs("div",{className:"flex justify-between text-[10px] opacity-90",children:[e.jsxs("span",{className:"text-purple-300 flex items-center gap-1",children:[e.jsx(te,{size:10,color:"currentColor"}),"Antimatter:"]}),e.jsx("span",{className:"font-mono",children:x.antimatter})]}),x.element115>0&&e.jsxs("div",{className:"flex justify-between text-[10px] opacity-90",children:[e.jsxs("span",{className:"text-cyan-300 flex items-center gap-1",children:[e.jsx(ae,{size:10,color:"currentColor"}),"Element115:"]}),e.jsx("span",{className:"font-mono",children:x.element115})]}),x.deuterium>0&&e.jsxs("div",{className:"flex justify-between text-[10px] opacity-90",children:[e.jsxs("span",{className:"text-orange-300 flex items-center gap-1",children:[e.jsx(se,{size:10,color:"currentColor"}),"Deuterium:"]}),e.jsx("span",{className:"font-mono",children:x.deuterium})]})]})]}):e.jsxs("div",{className:`inline-flex flex-col items-center justify-center h-10 w-10 rounded border ${b} ${s?"relative overflow-hidden":""} transition-all duration-200 hover:scale-110 cursor-pointer ${n}`,children:[s&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/20 to-purple-500/20 animate-pulse pointer-events-none rounded"}),e.jsx("div",{className:`text-xs font-bold leading-none relative z-10 ${s?"text-cyan-100":""}`,children:m.symbol}),e.jsx("div",{className:`text-[8px] opacity-70 leading-none mt-0.5 relative z-10 ${s?"text-cyan-200":""}`,children:m.atomicNumber})]})},Ne=({planet:t,system:a,galaxy:r,cosmicOriginTime:n,initialAngleRotation:m,effects:x,onToggleEffect:g})=>{const[b,s]=i.useState(!1),[c,N]=i.useState({isOnCooldown:!1,isSaved:!1,isCollecting:!1,timeUntilNext:0});i.useEffect(()=>{let o;const d=()=>{const y=G.generateLocationId("planet",r.coordinates.join(","),a.index,t.name),B=G.canCollectFromLocation(y),l=G.getTimeUntilNextCollection(y),w=r.coordinates,T=W.generatePlanetUrl(w,a.index,t.name,W.getCurrentPage()),S=oe.getLocations().some(C=>C.stargateUrl===T);N(C=>({isOnCooldown:!B&&l>0,isSaved:S,isCollecting:C.isCollecting,timeUntilNext:l}))},u=()=>{N(y=>({...y,isCollecting:!0})),o=setTimeout(()=>{N(y=>({...y,isCollecting:!1}))},1e3)};d();const h=setInterval(d,1e3),E=re.subscribe("mining_completed",u);return()=>{clearInterval(h),o&&clearTimeout(o),E()}},[t.name,a.index,r.coordinates]);const f=o=>o.replace(/_/g," "),_=o=>{const d=o/86400;return d<30?`${d.toFixed(2)} days`:d<365?`${(d/30).toFixed(2)} months`:`${(d/365).toFixed(2)} years`},M=o=>{const d=o*9/5+32;return`${o.toFixed(1)}°C (${d.toFixed(1)}°F)`},j=o=>`${o.toExponential(2)} kg`,k=o=>`${o.toFixed(2)} km`;return e.jsxs("div",{className:"h-full flex flex-col relative",children:[e.jsxs("div",{className:"absolute top-0 right-0 flex gap-2 z-10",children:[e.jsx(de,{locationType:"planet",locationId:t.name,coordinates:r.coordinates.join(","),systemIndex:a.index,planetName:t.name,planetElements:t.elements,className:"text-xs"}),e.jsx(ue,{type:"planet",name:t.name,coordinates:r.coordinates.join(","),systemIndex:a.index,planetName:t.name,className:"text-xs"}),e.jsx("div",{className:"inline-flex items-center bg-green-500/20 border border-green-500/50 text-green-400 text-[10px] font-medium px-1.5 py-0.5 rounded h-[21px] box-border",children:"VISITED"})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(xe,{isOnCooldown:c.isOnCooldown,isSaved:c.isSaved,isCollecting:c.isCollecting}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Details"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-blue-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200",children:"Type"}),e.jsx("div",{className:"text-sm font-bold text-blue-300 capitalize",children:t.planet_type})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-purple-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200",children:"Atmosphere"}),e.jsx("div",{className:"text-sm font-bold text-purple-300 capitalize",children:t.atmosphere})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-green-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200",children:"Life Forms"}),e.jsx("div",{className:"text-sm font-bold text-green-300 capitalize",children:t.life_forms})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-orange-500/30 mb-3",children:[e.jsx("div",{className:"text-xs text-gray-200 mb-2",children:"Physical Properties"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-1",children:[e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Mass"}),e.jsx("div",{className:"text-xs font-bold text-orange-300",children:j(t.mass)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Diameter"}),e.jsx("div",{className:"text-xs font-bold text-orange-300",children:k(t.diameter)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Density"}),e.jsxs("div",{className:"text-xs font-bold text-orange-300",children:[t.density.toFixed(2)," kg/m³"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Gravity"}),e.jsxs("div",{className:"text-xs font-bold text-orange-300",children:[t.gravity.toFixed(2)," m/s²"]})]})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-cyan-500/30 mb-3",children:[e.jsx("div",{className:"text-xs text-gray-200 mb-2",children:"Orbital Properties"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-1",children:[e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Radius"}),e.jsxs("div",{className:"text-xs font-bold text-cyan-300",children:[t.orbital_radius.toFixed(2)," AU"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Period"}),e.jsx("div",{className:"text-xs font-bold text-cyan-300",children:_(t.orbital_period_seconds)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Speed"}),e.jsxs("div",{className:"text-xs font-bold text-cyan-300",children:[t.orbital_speed.toFixed(2)," m/s"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Tilt"}),e.jsxs("div",{className:"text-xs font-bold text-cyan-300",children:[t.axial_tilt.toFixed(2),"°"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-red-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200 mb-2",children:"Surface Conditions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-red-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Temperature"}),e.jsx("div",{className:"text-xs font-bold text-red-300",children:M(t.surface_temperature)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-red-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Rotation"}),e.jsx("div",{className:"text-xs font-bold text-red-300",children:_(t.rotation_period_seconds)})]})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-yellow-500/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"text-xs text-gray-200",children:["Elements (",t.elements.length,")"]}),e.jsx("button",{onClick:()=>s(!b),className:"text-xs text-yellow-400 hover:text-yellow-300 transition-colors duration-300",children:b?"▲ Collapse":"▼ Expand"})]}),b?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2",children:t.elements.map((o,d)=>e.jsx(Z,{elementName:o,expanded:!0,showResources:!0,className:"min-w-0"},d))}):e.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[t.elements.slice(0,6).map((o,d)=>e.jsx(Z,{elementName:o,expanded:!1,className:""},d)),t.elements.length>6&&e.jsxs("div",{className:"inline-flex items-center justify-center h-10 w-10 rounded border border-dashed border-yellow-500/50 text-yellow-400 text-xs",children:["+",t.elements.length-6]})]})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Technical Data"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Status:"}),e.jsx("div",{className:"text-green-400 font-medium",children:"Visited"})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Planet:"}),e.jsx("div",{className:"text-white truncate font-medium",children:f(t.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"System:"}),e.jsx("div",{className:"text-white truncate font-medium",children:f(a.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"System ID:"}),e.jsxs("div",{className:"text-white font-medium",children:["#",a.index+1]})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Galaxy:"}),e.jsx("div",{className:"text-white truncate font-medium",children:f(r.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Coordinates:"}),e.jsx("div",{className:"text-white font-medium",children:r.coordinates.join(", ")})]})]})]}),x&&g&&e.jsx(ye,{effects:x,onToggleEffect:g})]})},ve=({planet:t,cosmicOriginTime:a,initialAngleRotation:r,onEffectsCreated:n})=>{const m=x=>{x.key==="Escape"&&document.dispatchEvent(new CustomEvent("planet-close-fullscreen"))};return i.useEffect(()=>(document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}),[]),e.jsx("div",{className:"w-full h-full",children:e.jsx(q,{planetName:t.name,containerClassName:"w-full h-full",autoRotate:!1,enableControls:!0,showDebugInfo:!1,...n&&{onEffectsCreated:n},planetData:{name:t.name,diameter:t.diameter,density:t.density,gravity:t.gravity,mass:t.mass,orbital_radius:t.orbital_radius,orbital_period_seconds:t.orbital_period_seconds,rotation_period_seconds:t.rotation_period_seconds,surface_temperature:t.surface_temperature,axial_tilt:t.axial_tilt,planet_type:t.planet_type,atmosphere:t.atmosphere,elements:t.elements,initial_orbital_angle:t.initial_orbital_angle||0},cosmicOriginTime:a,initialAngleRotation:r})})},je=({planetUrl:t,planet:a,cosmicOriginTime:r,initialAngleRotation:n,onEffectsCreated:m,effects:x,onToggleEffect:g})=>{const b=i.useRef(null),[s,c]=i.useState("Aligning Stargate..."),[N,f]=i.useState(!1),[_,M]=i.useState(!1),[j,k]=i.useState(!1),[o,d]=i.useState(!1),[u,h]=i.useState(!1),[E,y]=i.useState(!1),B=()=>{h(!0),setTimeout(()=>{d(!1),h(!1)},300)};return i.useEffect(()=>{x&&g&&x.forEach(l=>{ge.toggleEffect(l.id,l.enabled)})},[x]),i.useEffect(()=>{const l=b.current;if(!l)return;const w=l.getContext("2d");if(!w)return;let T=[];const P=800;let S,C;const L=800;let A,F=.5;function $(){const p=l?.parentElement;if(!p||!l)return;const D=p.clientWidth,z=p.clientHeight;l.width=Math.min(D,L),l.height=Math.min(z,L),S=l.width/2,C=l.height/2}function K(){$(),T=[];for(let p=0;p<P;p++)T.push({x:Math.random()*(l?.width||800),y:Math.random()*(l?.height||800),z:Math.random()*(l?.width||800),o:Math.random()});U()}function U(){!l||!w||(w.clearRect(0,0,l.width,l.height),T.forEach(p=>{p.z-=F,p.z<=0&&(p.z=l.width,p.x=Math.random()*l.width,p.y=Math.random()*l.height,p.o=Math.random());const D=l.width/p.z,z=(p.x-S)*D+S,Y=(p.y-C)*D+C,J=2*D;w.beginPath(),w.fillStyle=`rgba(255, 255, 255, ${p.o})`,w.arc(z,Y,J,0,2*Math.PI),w.fill()}),F<60&&(F+=1),A=requestAnimationFrame(U))}K();const V=()=>$();return window.addEventListener("resize",V),()=>{window.removeEventListener("resize",V),A&&cancelAnimationFrame(A)}},[]),i.useEffect(()=>{M(!0),setTimeout(()=>{k(!0)},800)},[]),i.useEffect(()=>{if(sessionStorage.getItem("stargateAnimationShown")){c("Stargate system aligned");return}sessionStorage.setItem("stargateAnimationShown","true"),f(!0);const w=(L,A)=>Array.from({length:A},()=>L[Math.floor(Math.random()*L.length)]).join(""),T=[{chars:"01",duration:40,iterations:20},{chars:"0123456789",duration:25,iterations:30},{chars:"0123456789ABCDEF",duration:20,iterations:40},{chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()-_=+[]{}|;:\\'\",.<>?/`~",duration:10,iterations:100}];let P=0,S=0;const C=()=>{if(P>=T.length){const A="Stargate system aligned";let F=0;c("");const $=()=>{F<A.length?(c(A.substring(0,F+1)),F++,setTimeout($,30)):f(!1)};$();return}const L=T[P];c(w(L.chars,32)),S++,S>=L.iterations&&(P++,S=0),setTimeout(C,L.duration)};C()},[]),i.useEffect(()=>(document.addEventListener("planet-close-fullscreen",B),()=>{document.removeEventListener("planet-close-fullscreen",B)}),[]),i.useEffect(()=>{if(E){const l=setTimeout(()=>y(!1),50);return()=>clearTimeout(l)}},[E]),e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("h3",{className:"text-sm font-medium text-white",children:a?.name||"Planet"})}),e.jsxs("div",{className:"relative w-full max-w-80 sm:max-w-96 aspect-square mx-auto bg-black flex justify-center items-center rounded-xl overflow-hidden border-2 border-blue-400/30 mb-4",children:[e.jsx("canvas",{ref:b,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-[2500ms] ${j?"opacity-0":"opacity-100"}`,style:{filter:j?"blur(50px)":"none"}}),_&&a&&e.jsxs("div",{className:`absolute inset-0 w-full h-full transition-all duration-500 ${_&&j?"opacity-100 blur-0":"opacity-0 blur-[25px]"}`,children:[e.jsx(q,{planetName:a.name,containerClassName:"w-full h-full",autoRotate:!1,enableControls:!0,showDebugInfo:!1,onEffectsCreated:m,planetData:{name:a.name,diameter:a.diameter,density:a.density,gravity:a.gravity,mass:a.mass,orbital_radius:a.orbital_radius,orbital_period_seconds:a.orbital_period_seconds,rotation_period_seconds:a.rotation_period_seconds,surface_temperature:a.surface_temperature,axial_tilt:a.axial_tilt,planet_type:a.planet_type,atmosphere:a.atmosphere,elements:a.elements,initial_orbital_angle:a.initial_orbital_angle||0},cosmicOriginTime:r,initialAngleRotation:n}),j&&e.jsx("button",{onClick:()=>{d(!0),y(!0)},className:"absolute top-2 right-2 p-2 bg-black/60 hover:bg-black/80 border border-white/30 rounded-lg transition-all duration-200 backdrop-blur-sm shadow-lg z-10",title:"Expand to fullscreen",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]})]}),e.jsxs("div",{className:"text-center mt-auto",children:[e.jsxs("a",{href:t,className:`inline-block px-4 py-2 bg-gradient-to-r from-slate-800 via-slate-700 to-slate-800 text-gray-200 font-medium text-sm rounded-lg border border-slate-600 hover:border-slate-500 shadow-md hover:shadow-lg transition-all duration-300 relative overflow-hidden group ${N?"animate-pulse":""}`,style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:[e.jsxs("span",{className:"relative z-10 font-mono flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.736 6.979C9.208 6.193 9.696 6 10 6s.792.193 1.264.979a1 1 0 001.715-1.029C12.279 4.784 11.232 4 10 4s-2.279.784-2.979 1.95a1 1 0 001.715 1.029zM8.5 10a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM10 14c-.304 0-.792-.193-1.264-.979a1 1 0 00-1.715 1.029C7.721 15.216 8.768 16 10 16s2.279-.784 2.979-1.95a1 1 0 00-1.715-1.029C10.792 13.807 10.304 14 10 14z",clipRule:"evenodd"})}),s]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-slate-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"Gateway to the stars"})]}),o&&a&&X.createPortal(e.jsx("div",{className:`fixed inset-0 z-50 bg-black/95 backdrop-blur-xl transition-all duration-300 ${u||E?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:e.jsxs("div",{className:`w-full h-full flex flex-col p-1 sm:p-2 transition-all duration-300 delay-75 ${u||E?"opacity-0 translate-y-4":"opacity-100 translate-y-0"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[e.jsx("div",{className:"block sm:hidden",children:e.jsx("h2",{className:"text-xs font-medium text-white",children:"Planet View"})}),e.jsx("div",{className:"hidden sm:block",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Planet Visualization"}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Name: ",a.name," • Type: ",a.planet_type]})]})}),e.jsx("button",{onClick:B,className:"p-0.5 sm:p-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 rounded transition-colors duration-200 text-red-400 hover:text-red-300",title:"Close",children:e.jsx("svg",{className:"w-3 h-3 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex-1 border border-white/20 rounded-lg bg-black/20 overflow-hidden min-h-0",children:e.jsx(ve,{planet:a,cosmicOriginTime:r,initialAngleRotation:n})}),e.jsxs("div",{className:"mt-2 sm:mt-4 text-center text-xs sm:text-sm text-gray-400",children:[e.jsx("div",{className:"hidden sm:block",children:"Mouse: Rotate • Scroll: Zoom • ESC: Close"}),e.jsx("div",{className:"sm:hidden",children:"Pinch: Zoom • Drag: Rotate • ESC: Close"})]})]})}),document.body)]})},we=({currentPlanet:t,system:a,galaxy:r,systemPlanets:n})=>{const[m,x]=i.useState(null),[g,b]=i.useState(null),[s,c]=i.useState(!1),[N,f]=i.useState(!1),[_,M]=i.useState(!0);i.useEffect(()=>{if(n&&n.length>0){const o=n.findIndex(d=>d.name.toLowerCase()===t.toLowerCase());o!==-1?(o>0?(x(n[o-1].name.toLowerCase()),c(!0)):a.index>0?(x("__prev_system__"),c(!0)):c(!1),o<n.length-1?(b(n[o+1].name.toLowerCase()),f(!0)):(b("__next_system__"),f(!0))):(c(!1),f(!1))}else c(!1),f(!1);M(!1)},[t,a.index,n]);const j=async()=>{const o=r.coordinates.join(",");if(m==="__prev_system__"){if(!v.canAffordTravel("system",1)){v.executeTravel("system",1);return}if(!v.executeTravel("system",1))return;try{const u=await fetch(`/system/${a.index-1}`,{headers:{Accept:"application/json"}});if(u.ok){const h=await u.json();if(h.system&&h.system.planets&&h.system.planets.length>0){const y=h.system.planets[h.system.planets.length-1].name.toLowerCase();O(o,a.index-1,y,h.system.planets),H(o,a.index-1),window.location.href=`/planet/${y}`;return}}window.location.href=`/system/${a.index-1}`}catch{window.location.href=`/system/${a.index-1}`}}else if(m){if(!v.canAffordTravel("planet",1)){v.executeTravel("planet",1);return}if(!v.executeTravel("planet",1))return;O(o,a.index,m,n),window.location.href=`/planet/${m}`}},k=async()=>{const o=r.coordinates.join(",");if(g==="__next_system__"){if(!v.canAffordTravel("system",1)){v.executeTravel("system",1);return}if(!v.executeTravel("system",1))return;try{const u=await fetch(`/system/${a.index+1}`,{headers:{Accept:"application/json"}});if(u.ok){const h=await u.json();if(h.system&&h.system.planets&&h.system.planets.length>0){const y=h.system.planets[0].name.toLowerCase();O(o,a.index+1,y,h.system.planets),H(o,a.index+1),window.location.href=`/planet/${y}`;return}}window.location.href=`/system/${a.index+1}`}catch{window.location.href=`/system/${a.index+1}`}}else if(g){if(!v.canAffordTravel("planet",1)){v.executeTravel("planet",1);return}if(!v.executeTravel("planet",1))return;O(o,a.index,g,n),window.location.href=`/planet/${g}`}};return _?null:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:j,disabled:!s,className:`flex items-center justify-center px-3 py-1.5 rounded-lg transition-all duration-200 ${s?"bg-white/10 hover:bg-white/20 border border-white/20 text-white hover:text-blue-300":"bg-white/5 border border-white/10 text-gray-600 cursor-not-allowed"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:k,disabled:!N,className:`flex items-center justify-center px-3 py-1.5 rounded-lg transition-all duration-200 ${N?"bg-white/10 hover:bg-white/20 border border-white/20 text-white hover:text-blue-300":"bg-white/5 border border-white/10 text-gray-600 cursor-not-allowed"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})})};class I{static instance;_effectsControlEnabled=!1;_effectsLoggingEnabled=!0;_debugLogsEnabled=!0;listeners=[];static getInstance(){return I.instance||(I.instance=new I),I.instance}get ENABLE_EFFECTS_CONTROL(){return this._effectsControlEnabled}get ENABLE_EFFECTS_LOGGING(){return this._effectsLoggingEnabled}get ENABLE_DEBUG_LOGS(){return this._debugLogsEnabled}toggleEffectsControl(){this._effectsControlEnabled=!this._effectsControlEnabled,this.notifyListeners()}enableEffectsControl(){this._effectsControlEnabled=!0,this.notifyListeners()}disableEffectsControl(){this._effectsControlEnabled=!1,this.notifyListeners()}addListener(a){this.listeners.push(a)}removeListener(a){this.listeners=this.listeners.filter(r=>r!==a)}notifyListeners(){this.listeners.forEach(a=>a())}}const R=I.getInstance();R.ENABLE_EFFECTS_CONTROL;R.ENABLE_EFFECTS_LOGGING;R.ENABLE_DEBUG_LOGS;const Ee=()=>{i.useEffect(()=>{let t="",a;const r=n=>{n.key.match(/^[a-zA-Z]$/)&&(t+=n.key.toUpperCase(),a&&clearTimeout(a),a=setTimeout(()=>{t=""},2e3),t.includes("ATLAS")&&(R.enableEffectsControl(),t="",a&&clearTimeout(a)),t.length>10&&(t=t.slice(-10)))};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r),a&&clearTimeout(a)}},[])},Ce=({planet:t,system:a,galaxy:r,planet_url:n,version:m,image_url:x,cosmic_origin_time:g,initial_angle_rotation:b})=>{const[s]=i.useState(r.coordinates.join(",")),[c,N]=i.useState([]),[f,_]=i.useState(R.ENABLE_EFFECTS_CONTROL);Ee();const M=u=>{N(u)},j=(u,h)=>{N(E=>E.map(y=>y.id===u?{...y,enabled:h}:y))};i.useEffect(()=>{document.body.setAttribute("data-coordinates",s),document.body.setAttribute("data-system-index",a.index.toString()),document.body.setAttribute("data-planet-name",t.name.toLowerCase()),O(s,a.index,t.name,a.planets||[]),H(s,a.index)},[s,a.index,t.name]),i.useEffect(()=>{const u=()=>{_(R.ENABLE_EFFECTS_CONTROL)};return R.addListener(u),()=>{R.removeListener(u)}},[]);const k=u=>u.replace(/_/g," "),o=u=>u.replace(/_/g," "),d=u=>u.replace(/_/g," ");return e.jsxs("div",{className:"w-full h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-auto",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsx(ie,{}),e.jsxs("div",{className:"relative z-10 pt-1",children:[e.jsx(ne,{}),e.jsxs("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex items-center justify-center gap-4 mb-4",children:e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:["Planet '",k(t.name),"'"]})}),e.jsxs("p",{className:"text-lg sm:text-xl text-gray-300",children:["in System '",o(a.name),"' - Galaxy '",d(r.name),"'"]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-400",children:["Coordinates ",r.coordinates.join(", ")]})]}),e.jsx(we,{currentPlanet:t.name,system:a,galaxy:r,systemPlanets:a.planets||[]}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[400px_1fr] gap-6 lg:gap-8 relative",children:[e.jsx("div",{className:"order-1 lg:order-1",children:e.jsx(je,{planetUrl:n,planet:{...t,name:k(t.name)},cosmicOriginTime:g,initialAngleRotation:b,onEffectsCreated:M,effects:c,onToggleEffect:j})}),e.jsx("div",{className:"hidden lg:block absolute left-[416px] top-0 bottom-0 w-1 rounded-full bg-white/10 -translate-x-1.5"}),e.jsx("div",{className:"order-2 lg:order-2",children:e.jsx(Ne,{planet:t,system:a,galaxy:r,cosmicOriginTime:g,initialAngleRotation:b,effects:f?c:void 0,onToggleEffect:f?j:void 0})})]})}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6 text-center",children:e.jsx("button",{onClick:()=>window.location.href=`/system/${a.index}`,className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-gray-600 via-gray-700 to-gray-600 hover:from-gray-700 hover:via-gray-800 hover:to-gray-700 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg backdrop-blur-sm",children:e.jsxs("span",{className:"text-base sm:text-lg",children:["← Back to System '",o(a.name),"'"]})})})]}),e.jsx(he,{version:m})]}),e.jsx(be,{}),e.jsx(le,{currentLocation:{type:"planet",name:t.name,coordinates:r.coordinates.join(","),systemIndex:a.index,planetName:t.name}})]})};document.addEventListener("DOMContentLoaded",async()=>{try{const t=document.getElementById("planet-data"),a=document.getElementById("system-data"),r=document.getElementById("galaxy-data"),n=document.getElementById("meta-data");if(!t||!a||!r||!n)return;const m=JSON.parse(t.textContent||"{}"),x=JSON.parse(a.textContent||"{}"),g=JSON.parse(r.textContent||"{}"),b=JSON.parse(n.textContent||"{}"),s={planet:m,system:x,galaxy:g,planet_url:b.planet_url,version:b.version,image_url:b.image_url,cosmic_origin_time:b.cosmic_origin_time,initial_angle_rotation:b.initial_angle_rotation},c=document.getElementById("atlas-react-root");c&&Q.createRoot(c).render(ee.createElement(Ce,s))}catch{}});
