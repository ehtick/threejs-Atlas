import{j as e,r as t,c as it,R as O}from"./atlas_BSujyM3STIIs7ogMAeFeS.js";import{A as $t,E as Ut,D as Bt,U as Gt,M as Wt,F as Ht,H as Vt,N as ht,S as Xt,B as Yt,a as Zt,b as st}from"./atlas_BlhE0apOlzPEDuvCfsDtn.js";import{G as qt}from"./atlas_UeK9Hy31EVbKuhJ8jkBWr.js";import{S as Jt}from"./atlas_5gDRdwVd7nexdetFYxvUE.js";import{C as gt,S as We}from"./atlas_Cqv6ILUxozEfXIs7hQLAR.js";import{W as Mt}from"./atlas_DDJH3F64TRS7xAljnqyWd.js";import{O as Kt}from"./atlas_C0798p1R6_QDmDHuetMGI.js";import{V as vt,a5 as Et,a6 as Tt,G as Qt,r as ea,cJ as ta,a2 as kt,cK as At,cL as ot,b as He,z as Ve,M as Xe,cM as aa,aa as na,v as Ct,cN as ra,cO as sa,C as yt,f as oa,B as wt,a as _e,Y as ia,A as bt,P as la,R as ca}from"./atlas_B2lpKXcKkLCAPkjGiW29w.js";import{V as da}from"./atlas_DFpgC65o32Sm57XjKQ2G5.js";import{E as ma,R as ua,U as pa,S as fa}from"./atlas_BQNDIxYWnXCSJpAGcevGg.js";import{c as xa,S as ha}from"./atlas_eXFZ7Ff1XhDUqQaTWR8yb.js";import{U as ga}from"./atlas_7jDVOScTHowPLwcHrWtwq.js";import"./atlas_BrYhsyGbdfinGesBjh40k.js";import"./atlas_Dxn46XnhZ7eBTSIoCFpFX.js";import"./atlas_BKvmFXuXk1OxDb5S8--uJ.js";import"./atlas_devLC-KyT9W7vfPUn064J.js";import"./atlas_BifK6JcEApz6XO464-6-4.js";import"./atlas_h5pT_zCyRew3cfxwEy6vB.js";import"./atlas_DygZSZMdumXofNROQ5yv5.js";import"./atlas_CSlBQIGGeTr5KA5bldqFG.js";import"./atlas_DznaApmpB7DbXWh7fGRfv.js";import"./atlas_DUA_rDVOMk2xHTme7rYaj.js";import"./atlas_Cb25c0eoydluDLJd2Za9a.js";import"./atlas_0c8ugtrdxDmUoxh2sessY.js";import"./atlas_D5vNLDHKvonOdx3Dq0Nso.js";import"./atlas_Cjg6r2ColoUW7cCOm3eNN.js";import"./atlas_DFAhS78XbvMY8Hq-lokcg.js";import"./atlas_CZCpRd54Ss24_zPvDswww.js";import"./atlas_DhJOnpPczKrCb0oVhiPWn.js";import"./atlas_C-f7jfPSq_h0lCZiVK6H5.js";import"./atlas_CHRQk7A_WSIhi4jPvGSXj.js";import"./atlas_DTRJSnWt8dWR1TtFy4VNC.js";import"./atlas_BgP_sg7E1JBtlWMVwDfz5.js";import"./atlas_VWY9RJdq0XpV9MTrfLfJ9.js";import"./atlas_VqUmJJeMdcSeMKKGFSNfW.js";import"./atlas_Bj6xu46pe86acJmaM7AKW.js";import"./atlas_DvbK2lMOVCiR3qJX5YLua.js";import"./atlas_BauBXJjMcWKMXThNhB6q5.js";import"./atlas_B3RkDvpNk536AE_rRbe80.js";import"./atlas_DYCC0I8CWwSnbae8AhZKF.js";import"./atlas_CbODoUbu5doB7AYCFuMwm.js";import"./atlas_roENHj88NUZWPZyIhD4DJ.js";import"./atlas_D0FsRhdQeQIWjRj6QakEV.js";import"./atlas_m3tbS7LiTybR9Cau3-zX1.js";import"./atlas_7-yzAfcQvwI6scuZmLqt5.js";import"./atlas_Bp3-ReYcl5jhQc4PwK3Dc.js";import"./atlas_CQInv1sXf_RwTlHJKe5wM.js";import"./atlas_Dq8AGxXUyIgZtiBEF0WQY.js";import"./atlas_DRlcfImLC8Mak4qT5jpjq.js";import"./atlas_LLpsj1SJhd40MT6CtNbOD.js";import"./atlas_D88CE_Ty4Io2KBHayAsI6.js";import"./atlas_COgkr6cYg1YrKAiY7jkqK.js";import"./atlas_CkCwqIV0bQfF8ViY6cfHX.js";import"./atlas_DvcDKNREAlIk_hSgPfgoN.js";import"./atlas_BhznHcpScXg6UpfU6Pkoa.js";import"./atlas_CvsviNDba8JfR-qVXNNhT.js";import"./atlas_kjvrcGFBIoP7usRz2KdQT.js";import"./atlas_Zc5m1k8ikykX9c1vc933A.js";import"./atlas_DpeTw7vra83-XQn_Fd2f7.js";import"./atlas_BVLl2LqCt4Tpzzp4uJbnT.js";import"./atlas_n8x409af92PJTNqf6Fsoi.js";import"./atlas_BGEWOEoKPv5-oqVWR0u_6.js";import"./atlas_5mExBlgWsJte0Ermbt3vh.js";import"./atlas_DdqI6dZaifTwIxW8no3kL.js";import"./atlas_DLSRW1FI1JJcrEdveEXjh.js";import"./atlas_Cap3DOu3WDs04BYSa397H.js";import"./atlas_DDCiW7QzIfNLPEz5WRchT.js";import"./atlas_CX43Rv79CUc9F90Wm9Uey.js";import"./atlas_BWH7uwKFEWd5_sJOlPkiD.js";const va=({size:i=16,color:f="currentColor",className:s=""})=>e.jsxs("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:f,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[e.jsx("circle",{cx:"12",cy:"12",r:"8",fill:f,opacity:"0.6",stroke:f,strokeWidth:"1"}),e.jsx("circle",{cx:"9",cy:"10",r:"1.5",fill:f,opacity:"0.3"}),e.jsx("circle",{cx:"15",cy:"14",r:"1",fill:f,opacity:"0.3"}),e.jsx("circle",{cx:"12",cy:"8",r:"0.8",fill:f,opacity:"0.3"}),e.jsx("ellipse",{cx:"12",cy:"12",rx:"11",ry:"3",stroke:f,strokeWidth:"1.2",fill:"none",opacity:"0.4"}),e.jsx("ellipse",{cx:"12",cy:"12",rx:"11",ry:"3",stroke:f,strokeWidth:"0.6",fill:"none",opacity:"0.2",transform:"rotate(15 12 12)"}),e.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:f,strokeWidth:"0.5",fill:"none",opacity:"0.2"})]}),ya="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!·$%&/()=?#+-*<>[]{}^°@€<>~",wa={x:{label:"X",className:"axis-x",edges:["The Edge","The Unknown"]},y:{label:"Y",className:"axis-y",edges:["The Edge","The Unknown"]},z:{label:"Z",className:"axis-z",edges:["The Edge","The Unknown"]}},ba=()=>e.jsx("div",{className:"absolute inset-0",children:Array.from({length:6}).map((i,f)=>e.jsx("div",{className:"coordinate-selector-particle absolute w-1 h-1 bg-white/60 rounded-full",style:{left:`${15+f*12}%`,top:`${20+f%2*60}%`,animationDelay:`${f*.2}s`}},f))}),Sa=({showInitializeJump:i,slideUpInitializeJump:f,isRandomJumping:s,showSpinner:F,randomJumpText:p,shouldCollapseButton:L,onRandomJump:j})=>e.jsxs("div",{className:`w-full flex relative z-10 transition-all duration-800 ${L?"justify-center animate-accordionCollapse":""}`,children:[e.jsx("button",{type:"submit",className:`
        bg-gradient-to-r from-blue-600 via-purple-600 to-blue-700 hover:from-blue-700 hover:via-purple-700 hover:to-blue-800
        text-white font-bold rounded-xl shadow-lg backdrop-blur-sm transition-all duration-500 transform hover:scale-95 overflow-hidden
        ${f?"animate-accordionCollapse":""}
        ${i&&!s?"w-1/2 max-h-20 opacity-100 px-6 sm:px-8 py-3 sm:py-4 mr-4":"w-0 max-h-0 opacity-0 px-0 py-0 mr-0 overflow-hidden"}
      `,disabled:!i||s,children:e.jsx("span",{className:"relative z-10 flex items-center justify-center gap-3",children:e.jsx("span",{className:`text-base sm:text-lg transition-opacity duration-200 ${i&&!s?"opacity-100":"opacity-0"}`,children:"🚀 Initialize Jump"})})}),e.jsxs("button",{type:"button",className:`
        group relative overflow-hidden font-bold text-lg rounded-xl shadow-lg backdrop-blur-sm
        transition-all duration-500 transform hover:scale-95
        ${s||!i?"w-full":"w-1/2"}
        ${s?"bg-gradient-to-r from-cyan-500/20 via-purple-500/30 to-cyan-500/20 text-cyan-400 cursor-wait":"bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700 text-white hover:from-purple-700 hover:via-pink-700 hover:to-purple-800"}
        px-6 sm:px-8 py-3 sm:py-4
      `,onClick:s?void 0:j,disabled:s,children:[!s&&e.jsx("div",{className:`coordinate-selector-energy-wave absolute inset-0 bg-gradient-to-r from-cyan-400/0 via-cyan-400/20 to-cyan-400/0
                        translate-x-[-100%] group-hover:translate-x-[100%]`}),!s&&e.jsx(ba,{}),e.jsx("span",{className:"relative z-10 flex items-center justify-center gap-3",children:s?e.jsxs(e.Fragment,{children:[F&&e.jsx("div",{className:"w-5 h-5 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"font-mono text-cyan-300",children:p})]}):e.jsx("span",{className:"text-base sm:text-lg",children:"🎲 Random Location"})}),!s&&e.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-20 transition-opacity duration-300
                        bg-gradient-to-r from-white via-transparent to-white blur-sm`})]})]}),Na=({onCoordinateChange:i,travelCost:f,canAfford:s,formatResource:F})=>{const[p,L]=t.useState({x:1e6,y:1e6,z:1e6}),[j,J]=t.useState(!1),[se,W]=t.useState(!1),[oe,$]=t.useState(!1),[U,H]=t.useState(!0),[x,V]=t.useState(!1),[Y,Z]=t.useState("🎲 Random Location"),[R,K]=t.useState(!1),[ie,T]=t.useState({x:!1,y:!1,z:!1}),A=t.useMemo(()=>({x:[{value:0,name:"The Edge"},{value:1e6,name:"Alpha"},{value:2e6,name:"Beta"},{value:3e6,name:"Gamma"},{value:4e6,name:"Delta"},{value:5e6,name:"Epsilon"},{value:6e6,name:"Zeta"},{value:7e6,name:"Eta"},{value:8e6,name:"Theta"},{value:9e6,name:"Iota"},{value:1e7,name:"The Unknown"}],y:[{value:0,name:"The Edge"},{value:1e6,name:"Lambda"},{value:2e6,name:"Mu"},{value:3e6,name:"Nu"},{value:4e6,name:"Xi"},{value:5e6,name:"Omicron"},{value:6e6,name:"Pi"},{value:7e6,name:"Rho"},{value:8e6,name:"Sigma"},{value:9e6,name:"Tau"},{value:1e7,name:"The Unknown"}],z:[{value:0,name:"The Edge"},{value:1e6,name:"Phi"},{value:2e6,name:"Chi"},{value:3e6,name:"Psi"},{value:4e6,name:"Omega"},{value:5e6,name:"Vega"},{value:6e6,name:"Rigel"},{value:7e6,name:"Sirius"},{value:8e6,name:"Antares"},{value:9e6,name:"Procyon"},{value:1e7,name:"The Unknown"}]}),[]),b=(a,o)=>{const r=A[a];for(let d=0;d<r.length;d++){const B=r[d].value,I=d<r.length-1?r[d+1].value:10000001;if(d===0&&o<=999999||o>=B&&o<I||d===r.length-1&&o>=9e6&&o<=1e7)return d}return-1},C=(a,o)=>{const r=parseInt(o,10);L(d=>({...d,[a]:r})),j&&i&&i({...p,[a]:r},!0)},Q=(a,o)=>{let r=parseInt(o,10);isNaN(r)||r<0?r=0:r>1e7&&(r=1e7),L(d=>({...d,[a]:r})),j&&i&&i({...p,[a]:r},!0)},k=(a,o)=>{const r=parseInt(o,10);L(d=>({...d,[a]:r})),j&&i&&i({...p,[a]:r},!0)},Me=()=>{const o={x:Math.floor(Math.random()*1e7),y:Math.floor(Math.random()*1e7),z:Math.floor(Math.random()*1e7)};L(o),j&&i&&i(o,!0)},Ee=(a,o)=>Array.from({length:o},()=>a[Math.floor(Math.random()*a.length)]).join(""),z=a=>new Promise(o=>setTimeout(o,a)),l=a=>a.replace(/_/g," "),m=(a,o)=>ie[o]?e.jsx("span",{className:"font-mono text-xl sm:text-2xl text-cyan-400 drop-shadow-sm animate-pulse",children:a.toLocaleString()}):e.jsx("span",{className:"font-mono text-xl sm:text-2xl text-cyan-400 drop-shadow-sm transition-all duration-300",children:a.toLocaleString()}),v=async()=>{W(!0),$(!0),Z("Jump Protocol"),window.setRandomLocationActive&&window.setRandomLocationActive(!0),T({x:!0,y:!0,z:!0});let a=null,o=!0;try{const r=await fetch("/api/generate-random-location");if(!r.ok)throw new Error("Failed to generate random location");const d=await r.json(),B={x:d.coordinates.x,y:d.coordinates.y,z:d.coordinates.z},I={galaxy_name:d.galaxy_name,galaxy_type:d.galaxy_type,num_systems:d.num_systems},le=d.navigation_data,ve=d.system_name||"",fe=d.planet_name||"",ye=ya,Te=()=>{a=setInterval(()=>{o&&Z(Ee(ye,15))},10)},we=()=>{o=!1,a&&(clearInterval(a),a=null)};Te();const Ae=40+Math.floor(Math.random()*21);for(let E=0;E<Ae;E++){const Ce=E/(Ae-1),ue=1,qe=ue+Math.pow(Ce,4)*(200-ue),Fe={x:Math.floor(Math.random()*10000001),y:Math.floor(Math.random()*10000001),z:Math.floor(Math.random()*10000001)};L(Fe),i&&i(Fe,!0),await z(qe)}L(B),i&&i(B,!0),await z(1500),we(),Z("..."),$(!1),K(!0),T({x:!1,y:!1,z:!1}),V(!0),setTimeout(()=>{H(!1)},600),await z(300);const ee=document.createElement("div");ee.className="fixed top-4 left-1/2 transform -translate-x-1/2 z-[9999] w-[90vw] max-w-lg opacity-0 scale-95 transition-all duration-500 ease-out",setTimeout(()=>{ee.style.opacity="1",ee.style.transform="translate(-50%, 0) scale(1)"},100);const ce=document.createElement("div");ce.className="relative rounded-lg shadow-lg border px-4 py-3 transition-all duration-1000 bg-gradient-to-r from-slate-900/90 to-blue-900/90 border-cyan-500/50";const te=document.createElement("div");te.className="absolute inset-0 rounded-lg transition-all duration-1000 ease-in-out",te.style.background="transparent",te.style.opacity="0",ce.appendChild(te);const de=document.createElement("div");de.className="flex items-center space-x-3 relative z-10";const D=document.createElement("div");D.className="flex items-center justify-center w-8 h-8 transition-all duration-500 ease-in-out";const _=it.createRoot(D);_.render(O.createElement(gt,{size:24,color:"#60A5FA"}));const G=document.createElement("div");G.className="flex-1 min-w-0 overflow-hidden";const M=document.createElement("div");M.className="text-sm font-medium transition-all duration-500 ease-in-out overflow-hidden",G.appendChild(M),de.appendChild(D),de.appendChild(G),ce.appendChild(de),ee.appendChild(ce),document.body.appendChild(ee);const me=it.createRoot(G),ae=E=>{D.style.transform="scale(0.5)",D.style.opacity="0",M.style.transform="translateX(-20px)",M.style.opacity="0",setTimeout(()=>{E==="coordinates"?(_.render(O.createElement(gt,{size:24,color:"#60A5FA"})),me.render(O.createElement("div",{className:"flex items-center gap-1.5 min-w-0"},[O.createElement("span",{key:"label",className:"px-2 py-1 bg-blue-900/50 text-blue-300 text-[10px] font-mono uppercase rounded border border-blue-500/30 flex-shrink-0"},"COORDS"),O.createElement("span",{key:"value",className:"text-sm text-blue-200 truncate flex-1 min-w-0"},`[${B.x.toLocaleString()}, ${B.y.toLocaleString()}, ${B.z.toLocaleString()}]`)]))):E==="galaxy"?(_.render(O.createElement(qt,{size:24,color:"#C084FC"})),me.render(O.createElement("div",{className:"flex items-center gap-1.5 min-w-0"},[O.createElement("span",{key:"label",className:"px-2 py-1 bg-purple-900/50 text-purple-300 text-[10px] font-mono uppercase rounded border border-purple-500/30 flex-shrink-0"},"GALAXY"),O.createElement("span",{key:"value",className:"text-sm text-purple-200 truncate flex-1 min-w-0"},l(I.galaxy_name))]))):E==="system"&&ve?(_.render(O.createElement(Jt,{size:24,color:"#67E8F9"})),me.render(O.createElement("div",{className:"flex items-center gap-1.5 min-w-0"},[O.createElement("span",{key:"label",className:"px-2 py-1 bg-cyan-900/50 text-cyan-300 text-[10px] font-mono uppercase rounded border border-cyan-500/30 flex-shrink-0"},"SYSTEM"),O.createElement("span",{key:"value",className:"text-sm text-cyan-200 truncate flex-1 min-w-0"},l(ve))]))):E==="planet"&&fe&&(_.render(O.createElement(va,{size:24,color:"#F9A8D4"})),me.render(O.createElement("div",{className:"flex items-center gap-1.5 min-w-0"},[O.createElement("span",{key:"label",className:"px-2 py-1 bg-pink-900/50 text-pink-300 text-[10px] font-mono uppercase rounded border border-pink-500/30 flex-shrink-0"},"PLANET"),O.createElement("span",{key:"value",className:"text-sm text-pink-200 truncate flex-1 min-w-0"},l(fe))]))),setTimeout(()=>{D.style.transform="scale(1)",D.style.opacity="1",M.style.transform="translateX(0)",M.style.opacity="1"},50)},250)};ae("coordinates"),await z(1e3),ae("galaxy"),await z(900),ve&&(ae("system"),await z(900)),fe&&(ae("planet"),await z(900)),te.style.background="linear-gradient(to right, rgb(20 83 45 / 0.9), rgb(30 58 138 / 0.9))",te.style.opacity="1",ce.style.borderColor="rgb(34 197 94 / 0.5)",await z(500),setTimeout(()=>{window.setRandomLocationActive&&window.setRandomLocationActive(!1);const E=document.createElement("form");E.method="POST",E.action="/api/random-jump",E.style.display="none",Object.keys(le).forEach(Ce=>{const ue=document.createElement("input");ue.type="hidden",ue.name=Ce,ue.value=le[Ce],E.appendChild(ue)}),document.body.appendChild(E),E.submit()},1e3)}catch(r){console.error("Random jump failed:",r),window.setRandomLocationActive&&window.setRandomLocationActive(!1),a&&clearInterval(a),Z("❌ Jump failed"),$(!1),T({x:!1,y:!1,z:!1}),V(!1),K(!1),setTimeout(()=>{W(!1),H(!0),Z("🎲 Random Location")},2e3)}};t.useEffect(()=>{i&&j&&i(p,!1)},[p,i,j]),t.useEffect(()=>{Me(),J(!0)},[]);const c=t.useCallback((a,o)=>{const r=b(a,p[a]),B=wa[a].className;return e.jsxs("div",{className:`space-y-3 ${B}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-white truncate flex-1 min-w-0",children:[o," Coordinate"]}),e.jsx("div",{className:"font-bold flex-shrink-0",style:{color:"var(--accent-color)"},children:m(p[a],a)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("select",{id:`${a}-name`,className:"flex-1 bg-white/10 rounded-lg px-4 py-3 text-white focus:ring-2 focus:border-transparent backdrop-blur-sm",style:{borderColor:"var(--border-color)","--tw-ring-color":"var(--ring-color)"},value:r>=0?A[a][r].value:"",onChange:I=>k(a,I.target.value),children:A[a].map((I,le)=>e.jsx("option",{value:I.value,className:"bg-gray-800 text-white truncate",children:I.name},le))}),e.jsx("input",{type:"number",id:`${a}-value`,name:a,value:p[a],className:"flex-1 bg-white/10 rounded-lg px-4 py-3 text-white focus:ring-2 focus:border-transparent backdrop-blur-sm",style:{borderColor:"var(--border-color)","--tw-ring-color":"var(--ring-color)"},min:"0",max:"10000000",onChange:I=>Q(a,I.target.value)})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 opacity-20 rounded-xl blur-sm",style:{background:"var(--gradient-colors)"}}),e.jsx("div",{className:"relative p-2 bg-white/5 rounded-lg border border-white/10 backdrop-blur-sm",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-1 left-3 right-3 h-3 bg-white/10 rounded-xl"}),e.jsx("div",{className:"absolute top-1 left-3 right-3 h-3 rounded-xl transition-all duration-200 pointer-events-none z-10",style:{background:"var(--gradient-colors)",width:`calc(${p[a]/1e7*100}% - 12px)`}}),e.jsx("input",{type:"range",id:`${a}-slider`,name:a,min:"0",max:"10000000",value:p[a],className:"relative z-20 w-full h-3 bg-transparent rounded-xl appearance-none cursor-pointer transition-all duration-200",onChange:I=>C(a,I.target.value)}),e.jsxs("div",{className:"flex justify-between items-center mt-2 text-xs font-medium",children:[e.jsx("span",{className:"drop-shadow-sm flex-shrink-0",style:{color:"var(--text-color)"},children:"The Edge"}),e.jsx("span",{className:"text-center truncate flex-1 min-w-0 px-2",style:{color:"var(--text-color)"},children:A[a][r>=0?r:0]?.name||"Unknown Region"}),e.jsx("span",{className:"drop-shadow-sm flex-shrink-0",style:{color:"var(--text-color)"},children:"The Unknown"})]})]})})]})})]},a)},[p,A,b,m,k,Q,C]);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full space-y-6 sm:space-y-8 relative",children:[e.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6 relative",children:[e.jsx("div",{className:"w-full bg-white/5 rounded-xl p-3 sm:p-4 lg:p-6 border border-blue-500/30 backdrop-blur-sm",children:c("x","X")}),e.jsx("div",{className:"w-full bg-white/5 rounded-xl p-3 sm:p-4 lg:p-6 border border-purple-500/30 backdrop-blur-sm",children:c("y","Y")}),e.jsx("div",{className:"w-full bg-white/5 rounded-xl p-3 sm:p-4 lg:p-6 border border-pink-500/30 backdrop-blur-sm md:col-span-2 lg:col-span-1",children:c("z","Z")})]}),e.jsx(Sa,{showInitializeJump:U,slideUpInitializeJump:x,isRandomJumping:se,showSpinner:oe,randomJumpText:Y,shouldCollapseButton:R,onRandomJump:v}),f&&F&&e.jsx("div",{className:"w-full relative z-10",children:e.jsxs("div",{className:`w-full flex items-center justify-center gap-3 rounded-xl px-4 py-3 border backdrop-blur-sm text-sm ${s?"bg-emerald-500/10 border-emerald-500/30":"bg-red-500/10 border-red-500/30"}`,children:[e.jsxs("div",{className:"flex items-center gap-1 text-xl",children:[e.jsx($t,{size:20,color:"#a855f7"}),e.jsx("span",{className:"text-purple-400 font-medium",children:F(f.antimatter)})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xl",children:[e.jsx(Ut,{size:20,color:"#06b6d4"}),e.jsx("span",{className:"text-cyan-400 font-medium",children:F(f.element115)})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xl",children:[e.jsx(Bt,{size:20,color:"#fb7185"}),e.jsx("span",{className:"text-orange-400 font-medium",children:F(f.deuterium)})]})]})})]})})},ja=({coordinates:i,className:f="",onUserInteraction:s,isVisible:F=!0})=>{const p=t.useRef(null),L=t.useRef(null),j=t.useRef(null),J=t.useRef(null),se=t.useRef(null),W=t.useRef(null),oe=t.useRef(new vt(0,0,0)),$=t.useRef(new vt(0,0,0)),U=t.useRef(null),H=t.useRef(!1),x=t.useRef(null),V=t.useRef(.002),Y=t.useRef(!1),Z=t.useRef(0);return t.useEffect(()=>{if(!p.current)return;const R=p.current,K=R.clientWidth,ie=R.clientHeight,T=new Et;L.current=T;const A=new Tt(45,K/ie,.1,1e3);A.position.set(8,6,8),A.lookAt(0,0,0);const b=new Mt({antialias:!0,alpha:!0});b.setSize(K,ie),b.setClearColor(0,0),b.domElement.style.pointerEvents="none",b.domElement.style.touchAction="none",j.current=b,R.appendChild(b.domElement);const C=new Kt(A,b.domElement);C.enableDamping=!0,C.dampingFactor=.05,C.enablePan=!1,C.enableZoom=!1,C.target.set(0,0,0),C.autoRotate=!1,U.current=C;const Q=()=>{x.current&&clearTimeout(x.current),H.current=!0,V.current=0,Y.current=!1,s&&s(!0),x.current=setTimeout(()=>{H.current=!1,Y.current=!0,Z.current=performance.now(),s&&s(!1)},4e3)};C.addEventListener("start",Q),C.addEventListener("change",Q);const k=new Qt;T.add(k),W.current=k;const Me=new ea(4,4,4),Ee=new ta(Me),z=new kt({color:16777215,opacity:.4,transparent:!0}),l=new At(Ee,z);k.add(l);const m=new ot(4,8,16777215,16777215);m.material.opacity=.1,m.material.transparent=!0,m.position.y=-2,k.add(m);const v=new ot(4,8,16777215,16777215);v.material.opacity=.05,v.material.transparent=!0,v.rotation.z=Math.PI/2,v.position.x=-2,k.add(v);const c=new ot(4,8,16777215,16777215);c.material.opacity=.05,c.material.transparent=!0,c.rotation.x=Math.PI/2,c.position.z=-2,k.add(c);const a=new He(.15,12,12),o=new Ve({color:16777215,transparent:!0,opacity:.8}),r=new Xe(a,o);r.position.set(0,0,0),k.add(r);const d=new Xe(new He(.25,12,12),new Ve({color:16777215,transparent:!0,opacity:.2}));r.add(d);const B=new He(.12,12,12),I=new Ve({color:440020,transparent:!0,opacity:1}),le=new Xe(B,I);J.current=le,k.add(le);const ve=new Xe(new He(.2,12,12),new Ve({color:440020,transparent:!0,opacity:.3}));le.add(ve);const fe=(D,_)=>{const G=document.createElement("canvas"),M=G.getContext("2d");if(!M)return null;G.width=32,G.height=32,M.fillStyle=`#${_.toString(16).padStart(6,"0")}`,M.font="bold 24px Arial",M.textAlign="center",M.textBaseline="middle",M.fillText(D,16,16);const me=new Ct(G),ae=new ra({map:me,transparent:!0,opacity:.8}),E=new sa(ae);return E.scale.set(.4,.4,1),E},ye=fe("X",16739179);ye&&(ye.position.set(2,-2,-2),k.add(ye));const Te=fe("Y",7077739);Te&&(Te.position.set(-2,2,-2),k.add(Te));const we=fe("Z",7039999);we&&(we.position.set(-2,-2,2),k.add(we));const Ae=new aa(4210752,.4);T.add(Ae);const ee=new na(16777215,.6);ee.position.set(3,3,3),T.add(ee);const ce=()=>{if(se.current=requestAnimationFrame(ce),W.current&&!H.current){if(Y.current){const _=performance.now()-Z.current,G=3e3;if(_<G){const M=_/G,me=M*M*M;V.current=.002*me}else V.current=.002,Y.current=!1}W.current.rotation.y+=V.current,W.current.rotation.x+=V.current*.5}J.current&&($.current.lerp(oe.current,.05),J.current.position.copy($.current)),U.current&&U.current.update(),b.render(T,A)};ce();const te=()=>{if(!R)return;const D=R.clientWidth,_=R.clientHeight;A.aspect=D/_,A.updateProjectionMatrix(),b.setSize(D,_)},de=new ResizeObserver(te);return de.observe(R),()=>{x.current&&clearTimeout(x.current),U.current&&U.current.dispose(),se.current&&cancelAnimationFrame(se.current),de.disconnect(),R&&b.domElement&&R.contains(b.domElement)&&R.removeChild(b.domElement),b.dispose()}},[]),t.useEffect(()=>{U.current&&(U.current.enabled=F),j.current&&j.current.domElement&&(j.current.domElement.style.pointerEvents=F?"auto":"none")},[F]),t.useEffect(()=>{const{x:ie,y:T,z:A}=i,b=((ie-0)/1e7-.5)*4,C=((T-0)/1e7-.5)*4,Q=((A-0)/1e7-.5)*4;oe.current.set(b,C,Q)},[i]),e.jsx("div",{ref:p,className:`rounded-lg overflow-hidden ${f}`,style:{background:"transparent"}})},Ma=({seedData:i,onComplete:f})=>{const s=t.useRef(null),F=t.useRef(null),p=t.useRef(null),L=t.useRef(null),j=t.useRef(null),J=t.useRef(null),[se,W]=t.useState(!1),[oe,$]=t.useState(0),[U,H]=t.useState(""),[x,V]=t.useState(""),[Y,Z]=t.useState(""),[R,K]=t.useState(""),[ie,T]=t.useState(!1),[A,b]=t.useState(!1),[C,Q]=t.useState(!1),[k,Me]=t.useState(!1),[Ee,z]=t.useState(!1),[l,m]=t.useState("ACTIVE"),[v,c]=t.useState(!0),[a,o]=t.useState(!1),[r,d]=t.useState(!1),[B,I]=t.useState(!1),[le,ve]=t.useState(!1),[fe,ye]=t.useState(!1),[Te,we]=t.useState(!1),[Ae,ee]=t.useState(!1),[ce,te]=t.useState(!1),[de,D]=t.useState(1),[_,G]=t.useState(!1),[M,me]=t.useState(1),[ae,E]=t.useState(0),Ce=i?.primordial_seed||"COSMOS-"+Date.now()+"-GENESIS",ue=xa.getDisplayText(Ce),Ye=i?.sha256_seed||Array.from({length:64},()=>Math.floor(Math.random()*16).toString(16)).join("").toUpperCase(),Ze=i?.decimal_seed||Array.from({length:77},()=>Math.floor(Math.random()*10)).join(""),qe=()=>{const y=document.createElement("canvas");y.width=64,y.height=64;const h=y.getContext("2d");h.clearRect(0,0,64,64);const N=h.createRadialGradient(32,32,0,32,32,32);N.addColorStop(0,"rgba(255,255,255,1.0)"),N.addColorStop(.3,"rgba(255,255,255,0.8)"),N.addColorStop(.7,"rgba(255,255,255,0.2)"),N.addColorStop(1,"rgba(255,255,255,0.0)"),h.fillStyle=N,h.beginPath(),h.arc(32,32,32,0,Math.PI*2),h.fill();const q=new Ct(y);return q.premultiplyAlpha=!1,q.format=ca,q},Fe={uniforms:{tDiffuse:{value:null},warpAmount:{value:0},time:{value:0}},vertexShader:`
      varying vec2 vUv;
      void main() {
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
      }
    `,fragmentShader:`
      uniform sampler2D tDiffuse;
      uniform float warpAmount;
      uniform float time;
      varying vec2 vUv;
      
      void main() {
        vec2 center = vec2(0.5, 0.5);
        vec2 direction = vUv - center;
        float distance = length(direction);
        
        float stretchBase = 1.0 + warpAmount * distance * distance * 6.0;
        vec2 stretchedUv = center + direction * stretchBase;
        
        float aberrationAmount = warpAmount * distance * 1.0;
        vec2 redOffset = direction * aberrationAmount * 0.4;
        vec2 blueOffset = direction * aberrationAmount * -0.4;
        
        float red = texture2D(tDiffuse, stretchedUv + redOffset).r;
        float green = texture2D(tDiffuse, stretchedUv).g;
        float blue = texture2D(tDiffuse, stretchedUv + blueOffset).b;
        
        float lineFrequency = 8.0 + warpAmount * 12.0;
        float lines = sin(atan(direction.y, direction.x) * lineFrequency + time * (20.0 + warpAmount * 80.0)) * 0.5 + 0.5;
        float lineIntensity = warpAmount * warpAmount;
        float lineEffect = lines * lineIntensity * 0.2 * distance;
        
        vec3 color = vec3(red, green, blue);
        color += vec3(lineEffect * 0.3, lineEffect * 0.5, lineEffect * 0.8) * smoothstep(0.0, 1.0, warpAmount);
        
        gl_FragColor = vec4(color, 1.0);
      }
    `},Rt=()=>{if(s.current)try{const y=new Et;y.background=new yt(0),F.current=y;const h=new Tt(75,window.innerWidth/window.innerHeight,.01,1e3);h.position.set(0,0,0),L.current=h;const N=new Mt({antialias:!0,alpha:!0});N.setSize(window.innerWidth,window.innerHeight),N.setClearColor(0,1),s.current.appendChild(N.domElement),p.current=N;const q=new ma(N),Je=new ua(y,h);q.addPass(Je);const Ke=new pa(new oa(window.innerWidth,window.innerHeight),.3,.6,.3);q.addPass(Ke);const Le=new fa(Fe);q.addPass(Le),j.current=q;const ne=7500,be=new wt,Re=new Float32Array(ne*3),ke=new Float32Array(ne*3),Ie=new Float32Array(ne),De=new Float32Array(ne*3),xe=new Float32Array(ne);for(let n=0;n<ne;n++){const pe=Math.random()*Math.PI*2,Ne=Math.random()*50+5,je=-Math.random()*200-50;Re[n*3]=Math.cos(pe)*Ne,Re[n*3+1]=(Math.random()-.5)*100,Re[n*3+2]=je,xe[n]=je,De[n*3]=0,De[n*3+1]=0,De[n*3+2]=.5;const X=Math.random()*.6+.4;ke[n*3]=X*.8,ke[n*3+1]=X*.9,ke[n*3+2]=X,Ie[n]=Math.random()*1.6+.6}be.setAttribute("position",new _e(Re,3)),be.setAttribute("color",new _e(ke,3)),be.setAttribute("size",new _e(Ie,1));const $e=new ia({size:.2,vertexColors:!0,blending:bt,transparent:!0,depthWrite:!1,map:qe()}),lt=new la(be,$e);y.add(lt);const Ue=200,Pe=new wt,Se=new Float32Array(Ue*6),Be=new Float32Array(Ue*6);for(let n=0;n<Ue;n++){const pe=Math.random()*Math.PI*2,Ne=Math.random()*30+10;Se[n*6]=Math.cos(pe)*Ne,Se[n*6+1]=(Math.random()-.5)*60,Se[n*6+2]=10,Se[n*6+3]=Math.cos(pe)*Ne,Se[n*6+4]=Se[n*6+1],Se[n*6+5]=-20;const je=Math.random()*.5+.5;for(let X=0;X<2;X++)Be[n*6+X*3]=je*.7,Be[n*6+X*3+1]=je*.8,Be[n*6+X*3+2]=je}Pe.setAttribute("position",new _e(Se,3)),Pe.setAttribute("color",new _e(Be,3));const Qe=new kt({vertexColors:!0,blending:bt,transparent:!0,opacity:0,linewidth:2}),It=new At(Pe,Qe);y.add(It);let Ot=Date.now(),P=.3,he=20,ct=!1,dt=!1;const mt=4,Dt=7,ze=8,et=12,tt=9,ut=15,pt=j.current?.passes[2];pt&&(pt.uniforms.warpAmount.value=5e-4);const ft=()=>{const n=(Date.now()-Ot)/1e3;if(n>.8&&n<.9&&!B&&(I(!0),setTimeout(()=>{ve(!0),setTimeout(()=>{I(!1),ve(!1)},300)},2e3)),n<mt){const u=n/mt,S=Math.pow(u,2.2);P=.3+(he-.3)*S,P>he*.75&&!ct&&(ct=!0,ye(!0),setTimeout(()=>{we(!0),setTimeout(()=>{ye(!1),we(!1)},300)},2e3))}else if(n<Dt)P=he;else if(n<et){const u=n-ze,S=et-ze,g=u/S,w=Math.pow(1-g,2);P=.001+(he-.001)*w,!dt&&n>=ze&&(dt=!0,W(!0),ee(!0),setTimeout(()=>{te(!0),setTimeout(()=>{ee(!1),te(!1)},300)},1800),setTimeout(()=>{$(1),setTimeout(()=>{o(!0)},1500),setTimeout(()=>{(()=>{let re=0;const Oe=2500,Ge=50,rt=Oe/Ge,zt=1/rt,_t=100/rt,Ft=setInterval(()=>{re+=1;const xt=Math.max(0,1-zt*re),Lt=Math.min(100,_t*re);D(xt),me(xt),E(Lt),re>=rt&&(clearInterval(Ft),G(!0))},Ge)})()},2e3)},100))}else n<ut,P=.001;const pe=be.attributes.position.array;let Ne=1;if(n>=tt){const u=n-tt,S=et-tt;if(u<S){const g=u/S;Ne=Math.max(0,1-Math.pow(g,.5))}else Ne=0}n>=ze||n>ze-1?(y.background=null,N.setClearColor(0,0)):(y.background=new yt(0),N.setClearColor(0,1));const je=lt.material;je.opacity=Ne;for(let u=0;u<ne;u++)if(pe[u*3+2]+=P,pe[u*3+2]>10){pe[u*3+2]=xe[u];const S=Math.random()*Math.PI*2,g=Math.random()*50+5;pe[u*3]=Math.cos(S)*g,pe[u*3+1]=(Math.random()-.5)*100}if(be.attributes.position.needsUpdate=!0,P>2){const u=(P-2)/(he-2);let S=Math.pow(u,1.5);if(n>10){const w=n-10,ge=Math.min(1,w/1);S*=1-ge}Qe.opacity=S*.9;const g=Pe.attributes.position.array;for(let w=0;w<Ue;w++){const ge=P*(1+S*1);g[w*6+2]+=ge;const re=5+P*2;if(g[w*6+5]=g[w*6+2]-re,g[w*6+2]>20){const Oe=Math.random()*Math.PI*2,Ge=Math.random()*30+10;g[w*6]=Math.cos(Oe)*Ge,g[w*6+1]=(Math.random()-.5)*60,g[w*6+2]=-100,g[w*6+3]=g[w*6],g[w*6+4]=g[w*6+1],g[w*6+5]=-100-re}}Pe.attributes.position.needsUpdate=!0}else Qe.opacity=0;const X=q?.passes[1],at=q?.passes[2];if(X&&at){let u=P/he,S=P/he;if(n>10){const w=n-10,ge=1;if(w<ge){const re=w/ge,Oe=Math.max(0,1-re);u*=Oe,S*=Oe}else u=0,S=0}X.strength=.15+u*1.05,X.radius=.4+u*.5;const g=Math.pow(S,1.8)*.8;at.uniforms.warpAmount.value=Math.max(.001,g),at.uniforms.time.value=n}if(P>3){let u=Math.pow((P-3)/(he-3),2.5);if(n>10){const ge=n-10,re=Math.min(1,ge/1);u*=1-re}const S=u*1.2,g=(Math.random()-.5)*S,w=(Math.random()-.5)*S;h.position.x=g*(.2+u*.8),h.position.y=w*(.2+u*.8)}else h.position.x*=.98,h.position.y*=.98;let nt=P/he;if(n>10){const u=n-10,S=1;if(u<S){const g=u/S;nt*=Math.max(0,1-g)}else nt=0}const Pt=Math.pow(nt,.7);if(h.fov=75+Pt*25,h.updateProjectionMatrix(),n>14&&se&&($(0),setTimeout(()=>{W(!1)},1e3)),_?N.render(y,h):j.current?j.current.render():N.render(y,h),n>ut+.5){d(!0),setTimeout(()=>{f&&f()},300);return}J.current=requestAnimationFrame(ft)};ft()}catch(y){console.error("Error initializing scene:",y)}};return t.useEffect(()=>{p.current&&p.current.domElement&&(p.current.domElement.style.opacity=M.toString(),p.current.domElement.style.transition="opacity 2s ease-out")},[M]),t.useEffect(()=>(Rt(),()=>{J.current&&cancelAnimationFrame(J.current),p.current&&s.current&&p.current.domElement.parentNode&&(s.current.removeChild(p.current.domElement),p.current.dispose())}),[]),t.useEffect(()=>{if(!a)return;const y="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",h=(ne,be,Re,ke)=>{setTimeout(()=>{let Ie=0;const De=setInterval(()=>{be(ne.split("").map((xe,$e)=>$e<Ie?ne[$e]:xe===" "||xe===`
`||xe===">"||xe==="|"||xe==="-"?xe:y[Math.floor(Math.random()*y.length)]).join("")),Ie>=ne.length&&(clearInterval(De),ke&&ke()),Ie+=1},6)},Re)},N=()=>{c(!1)},q=`atlas@cube:~ $ > DEPLOY _
> Universe Primordial Seed: ${ue}`,Je=`atlas@cube:~ $ > CYPHER _
> Quantum Overlay: ${Ye}`,Ke=`atlas@cube:~ $ > CREATE _
> Universal Constant: ${Ze}`,Le=i?.cosmic_origin_time?`atlas@cube:~ $ > RUN _
> Genesis: ${i.cosmic_origin_time} Unix ${new Date(i.cosmic_origin_time*1e3).toLocaleString("es-ES")}`:"";T(!0),h(q,H,50,()=>{setTimeout(()=>{b(!0),h(Je,V,0,()=>{setTimeout(()=>{Q(!0),h(Ke,Z,0,()=>{Le?setTimeout(()=>{Me(!0),h(Le,K,0,()=>{N(),setTimeout(()=>{z(!0)},100)})},100):(N(),setTimeout(()=>{z(!0)},100))})},100)})},100)})},[a,ue,Ye,Ze,i]),t.useEffect(()=>{if(!v){m("ACTIVE");return}const y="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",h=setInterval(()=>{const N=Array.from({length:6},()=>y[Math.floor(Math.random()*y.length)]).join("");m(N)},15);return()=>clearInterval(h)},[v]),e.jsxs("div",{className:`fixed inset-0 z-[9999] overflow-hidden ${r?"animate-fadeOut":"animate-fadeIn"}`,style:{backgroundColor:de>0?`rgba(0, 0, 0, ${de})`:"transparent",backdropFilter:ae>0?`blur(${ae}px)`:"none",WebkitBackdropFilter:ae>0?`blur(${ae}px)`:"none",transition:"background-color 0.1s ease-out, backdrop-filter 0.1s ease-out"},children:[e.jsx("div",{ref:s,className:"absolute inset-0"}),se&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-[60] pointer-events-none p-4",style:{opacity:oe,transition:"opacity 1.5s ease-in-out"},children:e.jsx("div",{className:"w-full max-w-4xl mx-auto px-2 sm:px-4",children:e.jsxs("div",{className:"bg-black/95 border border-green-400/60 shadow-2xl overflow-hidden backdrop-blur-sm rounded-lg",style:{fontFamily:"Courier New, monospace",backdropFilter:"blur(12px)",minHeight:"320px"},children:[e.jsxs("div",{className:`px-3 sm:px-6 py-3 border-b border-green-400/50 flex items-center justify-between transition-all duration-500 ${v?"bg-green-900/30":"bg-green-500/20 border-green-300"}`,children:[e.jsxs("div",{className:`text-xs sm:text-sm font-mono uppercase tracking-wider transition-colors duration-500 break-words sm:break-normal overflow-hidden ${v?"text-green-400":"text-green-300"}`,children:[e.jsx("span",{className:"hidden lg:inline",children:"> ATLAS INITIALIZATION PROTOCOL v2.8.64 <"}),e.jsx("span",{className:"hidden sm:inline lg:hidden",children:"> ATLAS INIT PROTOCOL v2.8.64 <"}),e.jsx("span",{className:"sm:hidden",children:"> ATLAS INIT v2.8.64 <"})]}),e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("div",{className:`w-2 h-2 transition-colors duration-500 ${v?"bg-green-400 animate-pulse":"bg-green-300"}`}),e.jsx("div",{className:`text-xs sm:text-sm font-mono transition-colors duration-500 ${v?"text-green-400 animate-pulse":"text-green-300 font-bold"}`,children:l})]})]}),e.jsxs("div",{className:"p-3 sm:p-6 text-green-400 font-mono text-xs leading-relaxed bg-black/70 overflow-x-auto min-h-[420px] lg:min-h-[300px]",children:[ie&&e.jsx("div",{className:"animate-fadeIn text-green-300 mb-3 break-words overflow-wrap-anywhere",children:e.jsx("span",{className:"whitespace-pre-wrap",children:U})}),A&&e.jsx("div",{className:"animate-fadeIn text-green-300 mb-3 break-words overflow-wrap-anywhere",children:e.jsx("span",{className:"whitespace-pre-wrap",children:x})}),C&&e.jsx("div",{className:"animate-fadeIn text-green-300 mb-3 break-words overflow-wrap-anywhere",children:e.jsx("span",{className:"whitespace-pre-wrap",children:Y})}),k&&e.jsx("div",{className:"animate-fadeIn text-green-300 mb-4 break-words overflow-wrap-anywhere",children:e.jsx("span",{className:"whitespace-pre-wrap",children:R})}),Ee&&e.jsx("div",{className:"text-green-400 tracking-wider mt-8 break-words",style:{animation:"0.5s ease-out, blink 0.8s infinite"},children:"> ATLAS INITIALIZATION PROTOCOL COMPLETED"})]})]})})}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-[60]",children:[B&&e.jsx("div",{className:`bg-blue-500/20 text-blue-400 px-3 py-1 rounded-lg font-mono text-xs uppercase tracking-wider border border-blue-400/30 backdrop-blur-sm ${le?"animate-phaseSlideDownFadeOut":"animate-phaseSlideUpFadeIn"}`,children:"IMMERSION"}),fe&&e.jsx("div",{className:`bg-cyan-500/20 text-cyan-400 px-3 py-1 rounded-lg font-mono text-xs uppercase tracking-wider border border-cyan-400/30 backdrop-blur-sm ${Te?"animate-phaseSlideDownFadeOut":"animate-phaseSlideUpFadeIn"}`,children:"WARP JUMP"}),Ae&&e.jsx("div",{className:`bg-green-500/20 text-green-400 px-3 py-1 rounded-lg font-mono text-xs uppercase tracking-wider border border-green-400/30 backdrop-blur-sm ${ce?"animate-phaseSlideDownFadeOut":"animate-phaseSlideUpFadeIn"}`,children:"GNOSIS"})]})]})},Ea=({error:i,version:f})=>{const[s,F]=t.useState({x:1e6,y:1e6,z:1e6}),[p,L]=t.useState(null),[j,J]=t.useState(!1),[se,W]=t.useState(!1),[oe,$]=t.useState(!1),[U,H]=t.useState(!0),x=t.useRef(null),V=t.useRef(!1),Y=t.useRef(!1),[Z,R]=t.useState(null),[K,ie]=t.useState(!1),[T,A]=t.useState(null);t.useEffect(()=>{Gt.migrateFromOldStorage();const l=()=>{const c=ga.isRemoteUniverse();ie(c);const a=document.getElementById("data-universe-config");if(a)try{const o=JSON.parse(a.textContent||"{}");A(o)}catch(o){console.error("Error parsing universe config:",o)}};l();const m=setInterval(l,1e3);return localStorage.getItem("atlasIntroSeen")||(fetch("/api/universe/config").then(c=>c.json()).then(c=>{c.success&&(R({primordial_seed:c.seed_str,sha256_seed:c.seed_hash,decimal_seed:c.seed_decimal,cosmic_origin_time:c.cosmic_origin_time,cosmic_origin_datetime:c.cosmic_origin_datetime}),W(!0))}).catch(c=>{console.error("Error fetching universe config:",c)}),localStorage.setItem("atlasIntroSeen","true")),()=>clearInterval(m)},[]);const b=()=>{W(!1)},C=l=>{V.current=l,l?x.current&&(clearTimeout(x.current),x.current=null):(x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{Y.current||($(!1),H(!0)),x.current=null},4e3))},Q=(l,m=!1)=>{F(l),m&&(x.current&&clearTimeout(x.current),$(!0),H(!1),!V.current&&!Y.current&&(x.current=setTimeout(()=>{$(!1),H(!0),x.current=null},3e3)))};t.useEffect(()=>(window.setRandomLocationActive=l=>{Y.current=l,l&&(x.current&&(clearTimeout(x.current),x.current=null),$(!0),H(!1))},()=>{window.setRandomLocationActive&&delete window.setRandomLocationActive}),[]);const k=l=>{const m=Math.floor(Math.sqrt(Math.pow(l.x-1e6,2)+Math.pow(l.y-1e6,2)+Math.pow(l.z-1e6,2))/1e4),v=st.calculateTravelCost("galaxy",m),c=st.getUpgrade(),a={antimatter:Math.floor(v.antimatter/c.efficiency),element115:Math.floor(v.element115/c.efficiency),deuterium:Math.floor(v.deuterium/c.efficiency)},o={antimatter:Math.floor(a.antimatter/c.efficiency),element115:Math.floor(a.element115/c.efficiency),deuterium:Math.floor(a.deuterium/c.efficiency)};L(o);const r=st.getResources(),d=r.antimatter>=o.antimatter&&r.element115>=o.element115&&r.deuterium>=o.deuterium;J(d)};t.useEffect(()=>{k(s)},[s.x,s.y,s.z]),t.useEffect(()=>{const m=setInterval(()=>{k(s)},5e3);return()=>clearInterval(m)},[s.x,s.y,s.z]),t.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const Me=l=>l>=1e6?`${(l/1e6).toFixed(2)}M`:l>=1e3?`${(l/1e3).toFixed(1)}k`:l.toString(),Ee=l=>{if(!l)return"Unknown Origin";const m=new Date(l*1e3),v=m.getFullYear(),c=String(m.getMonth()+1).padStart(2,"0"),a=String(m.getDate()).padStart(2,"0"),o=String(m.getHours()).padStart(2,"0"),r=String(m.getMinutes()).padStart(2,"0"),d=String(m.getSeconds()).padStart(2,"0");return`${v}-${c}-${a} ${o}:${r}:${d}`},z=()=>{const l=Math.floor(Math.sqrt(Math.pow(s.x-1e6,2)+Math.pow(s.y-1e6,2)+Math.pow(s.z-1e6,2))/1e4);if(!We.canAffordTravel("galaxy",l)){We.executeTravel("galaxy",l);return}if(!We.executeTravel("galaxy",l))return;const m=document.createElement("form");m.method="POST",m.action="/navigate",Object.entries(s).forEach(([v,c])=>{const a=document.createElement("input");a.type="hidden",a.name=v,a.value=c.toString(),m.appendChild(a)}),document.body.appendChild(m),m.submit()};return e.jsxs(e.Fragment,{children:[se&&e.jsx(Ma,{seedData:Z,onComplete:b}),e.jsx(Wt,{}),e.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsx(Ht,{}),e.jsxs("div",{className:"relative z-10 pt-1 flex-1 flex flex-col",children:[e.jsx(Vt,{}),e.jsxs("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-8 relative flex-1",children:[e.jsxs("div",{className:"text-center mb-12 relative min-h-[200px] flex items-center justify-center",children:[e.jsxs("div",{className:`absolute inset-0 flex flex-col items-center justify-center transition-all duration-700 ease-in-out transform ${U?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-2"}`,style:{pointerEvents:U?"auto":"none"},children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-4",children:K?"Atlas Multiverse Protocol":"Atlas Navigation System"}),K&&T?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"w-full px-4",children:[e.jsxs("div",{className:"hidden sm:flex items-center justify-center gap-2",children:[e.jsx(ht,{className:"w-5 h-5 text-purple-400 flex-shrink-0"}),e.jsx("span",{className:"text-lg sm:text-xl text-purple-200",children:"Exploring"}),e.jsx("span",{className:"text-lg sm:text-xl text-purple-300 font-mono truncate",children:T.node_id})]}),e.jsxs("div",{className:"flex sm:hidden flex-col items-center justify-center gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-5 h-5 text-purple-400 flex-shrink-0"}),e.jsx("span",{className:"text-lg text-purple-200",children:"Exploring"})]}),e.jsx("div",{className:"text-sm text-purple-300 font-mono text-center w-full",style:{wordBreak:"break-all",overflowWrap:"anywhere"},children:T.node_id})]})]}),e.jsxs("div",{className:"text-sm text-gray-400 space-y-2 max-w-full px-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap text-xs sm:text-sm",children:[e.jsx(Xt,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),e.jsx("span",{className:"text-gray-400",children:"Seed:"}),e.jsx("span",{className:"text-blue-400 font-mono truncate max-w-xs",children:ha.sanitizeForDisplay(T.seed_str)})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap text-xs sm:text-sm",children:[e.jsx(Yt,{className:"w-4 h-4 text-cyan-400 flex-shrink-0"}),e.jsx("span",{className:"text-gray-400",children:"Remote Bit Bang:"}),e.jsx("span",{className:"text-cyan-400 font-mono",children:Ee(T.cosmic_origin_time)})]})]})]}):e.jsx("p",{className:"text-lg sm:text-xl text-gray-300 max-w-4xl mx-auto px-4",children:"Navigate through infinite galaxies, solar systems, and planets. Enter coordinates to begin your journey across the universe."})]}),e.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-all duration-700 ease-in-out transform ${oe?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2"}`,style:{pointerEvents:oe?"auto":"none"},children:e.jsx("div",{className:"w-96 h-96",children:e.jsx(ja,{coordinates:s,className:"w-full h-full",onUserInteraction:C,isVisible:oe})})})]}),i&&e.jsxs("div",{className:"mb-8 bg-red-500/20 border border-red-500 rounded-lg p-4 text-red-200 text-center",children:[e.jsx("span",{className:"font-semibold",children:"Navigation Error:"})," ",i]}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl overflow-hidden",children:e.jsx("form",{onSubmit:l=>{l.preventDefault(),z()},className:"w-full",children:e.jsx("div",{className:"p-3 sm:p-4 lg:p-6",children:e.jsx(Na,{onCoordinateChange:Q,travelCost:p,canAfford:j,formatResource:Me,efficiency:We.getTravelEfficiency()})})})})]}),e.jsx(da,{version:f})]}),e.jsx(Zt,{})]})]})},St=document.querySelector('meta[name="atlas-error"]'),Nt=document.querySelector('meta[name="atlas-version"]'),Ta={error:St?St.getAttribute("content"):null,version:Nt&&Nt.getAttribute("content")||"1.0.0"},jt=document.getElementById("atlas-react-root");jt&&it.createRoot(jt).render(t.createElement(Ea,Ta));
