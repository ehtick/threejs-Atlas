import{S as u,D as E,g as T}from"./atlas_DSDeNuR3l3HMz0UA3yLvy.js";import{C as i}from"./atlas_BjkcO1_mNssSqp05cLhjd.js";const e={CURRENT_INTENSITY:{min:.3,max:.8},CURRENT_SCALE:{min:1,max:3},CURRENT_SPEED:{min:.1,max:.4},OPACITY:{min:.15,max:.35},TIME_SPEED:{min:.05,max:.2}};class S{layerMesh;material;params;layerSystem;startTime;constructor(o,r={}){this.layerSystem=o;const n=r.seed||Math.floor(Math.random()*1e6),t=new u(n);this.startTime=r.startTime||n%1e4/1e3;const c=r.currentColor instanceof i?r.currentColor:r.currentColor?new i(r.currentColor):new i(4889486),s=r.deepCurrentColor instanceof i?r.deepCurrentColor:r.deepCurrentColor?new i(r.deepCurrentColor):new i(2973010);this.params={currentColor:c,deepCurrentColor:s,currentIntensity:r.currentIntensity||t.uniform(e.CURRENT_INTENSITY.min,e.CURRENT_INTENSITY.max),currentScale:r.currentScale||t.uniform(e.CURRENT_SCALE.min,e.CURRENT_SCALE.max),currentSpeed:r.currentSpeed||t.uniform(e.CURRENT_SPEED.min,e.CURRENT_SPEED.max),secondaryCurrentIntensity:r.secondaryCurrentIntensity||t.uniform(e.CURRENT_INTENSITY.min*.6,e.CURRENT_INTENSITY.max*.6),secondaryCurrentScale:r.secondaryCurrentScale||t.uniform(e.CURRENT_SCALE.min*1.5,e.CURRENT_SCALE.max*1.5),secondaryCurrentSpeed:r.secondaryCurrentSpeed||t.uniform(e.CURRENT_SPEED.min*.7,e.CURRENT_SPEED.max*.7),opacity:r.opacity||t.uniform(e.OPACITY.min,e.OPACITY.max),transparency:r.transparency||.8,seed:n,startTime:this.startTime,timeSpeed:r.timeSpeed||t.uniform(e.TIME_SPEED.min,e.TIME_SPEED.max)},this.material=this.layerSystem.createOceanCurrentsLayerMaterial(this.params),this.layerMesh=this.layerSystem.addEffectLayer("oceanCurrents",this.material,this.layerSystem.getNextScaleFactor(),this)}update(o){const r=this.params.cosmicOriginTime||E,n=T(r,this.params.timeSpeed,this.startTime);this.material.uniforms.time&&(this.material.uniforms.time.value=n)}dispose(){}}function R(a,o,r){o.planet_info;const n=o.surface_elements||{},t=12345,c=new u(t+6e3);let s=new i(4889486),m=new i(2973010);n.ocean_currents&&n.ocean_currents.current_color&&(s=new i().fromArray(n.ocean_currents.current_color)),n.ocean_currents&&n.ocean_currents.deep_current_color&&(m=new i().fromArray(n.ocean_currents.deep_current_color));const C={currentColor:s,deepCurrentColor:m,currentIntensity:n.ocean_currents?.intensity||c.uniform(e.CURRENT_INTENSITY.min,e.CURRENT_INTENSITY.max),currentScale:n.ocean_currents?.scale||c.uniform(e.CURRENT_SCALE.min,e.CURRENT_SCALE.max),currentSpeed:n.ocean_currents?.speed||c.uniform(e.CURRENT_SPEED.min,e.CURRENT_SPEED.max),opacity:n.ocean_currents?.opacity||c.uniform(e.OPACITY.min,e.OPACITY.max),transparency:.8,cosmicOriginTime:o.timing?.cosmic_origin_time,seed:t};return new S(a,C)}export{R as c};
