const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["atlas_2fY2CqG6SeRmehI0zafIE.js","atlas_BGo7KNTC_D9rNHeIOnwpB.js","atlas_5StMBQg7EZ_DcUhMgqODi.js","atlas_CvF2r7w63uLZ7dJvHaR2x.css"])))=>i.map(i=>d[i]);
import{r as j,j as e,c as U}from"./atlas_BGo7KNTC_D9rNHeIOnwpB.js";import{L as I,U as S,A,E as z,D as F,R as _,b as Y}from"./atlas_2fY2CqG6SeRmehI0zafIE.js";class T{static encodeUrl(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_")}static generateGalaxyUrl(t,r=1){const a=`coordinates=${t[0]},${t[1]},${t[2]}&page=${r}`,n=this.encodeUrl(a);return`${window.location.origin}/stargate/${n}`}static generateSystemUrl(t,r,a=1){const n=`coordinates=${t[0]},${t[1]},${t[2]}&system=${r}&page=${a}`,i=this.encodeUrl(n);return`${window.location.origin}/stargate/${i}`}static generatePlanetUrl(t,r,a,n=1){const i=`coordinates=${t[0]},${t[1]},${t[2]}&system=${r}&planet=${a.toLowerCase()}&page=${n}`,d=this.encodeUrl(i);return`${window.location.origin}/stargate/${d}`}static getCurrentPage(){try{const r=new URLSearchParams(window.location.search).get("page");if(r)return parseInt(r,10);const a=window.location.pathname.match(/\/galaxy\/(\d+)/);return a?parseInt(a[1],10):1}catch{return 1}}}const J=({type:c,name:t,coordinates:r,systemIndex:a,planetName:n,className:i=""})=>{const[d,p]=j.useState(!1),[x,s]=j.useState(!1),o=()=>{try{const m=r.split(",").map(Number),v=T.getCurrentPage();switch(c){case"galaxy":return T.generateGalaxyUrl(m,v);case"system":if(a!==void 0)return T.generateSystemUrl(m,a,v);break;case"planet":if(a!==void 0&&n)return T.generatePlanetUrl(m,a,n,v);break}return window.location.pathname}catch{return window.location.pathname}};j.useEffect(()=>{const m=I.getLocations(),v=o(),h=m.some(w=>w.stargateUrl===v);p(h)},[r,a,n,c]);const f=async()=>{try{const m=o();await I.saveLocation({name:t,type:c,stargateUrl:m})&&(s(!0),setTimeout(()=>{p(!0),s(!1)},300))}catch{s(!1)}},l=m=>m.replace(/_/g," ");return e.jsx(e.Fragment,{children:e.jsx("button",{onClick:f,disabled:d||x,className:`inline-flex items-center space-x-1 px-1.5 py-0.5 rounded transition-all duration-200 text-[10px] font-medium h-[21px] box-border ${d?"bg-green-500/20 border border-green-500/50 text-green-400 cursor-default":x?"bg-blue-500/20 border border-blue-500/50 text-blue-400 cursor-wait":"bg-white/10 hover:bg-white/20 border border-white/20 hover:border-white/40 text-white hover:text-blue-300"} ${i}`,title:d?"Location saved":`Save ${l(t)} to bookmarks`,children:x?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"text-[10px] uppercase",children:"Saving..."})]}):d?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),e.jsx("span",{className:"text-[10px] uppercase",children:"Saved"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"text-[10px] uppercase",children:"Save"})]})})})},Z="modulepreload",G=function(c){return"/atlas-ui/react/dist/"+c},H={},O=function(t,r,a){let n=Promise.resolve();if(r&&r.length>0){let x=function(s){return Promise.all(s.map(o=>Promise.resolve(o).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");n=x(r.map(s=>{if(s=G(s),s in H)return;H[s]=!0;const o=s.endsWith(".css"),f=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${f}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":Z,o||(l.as="script"),l.crossOrigin="",l.href=s,p&&l.setAttribute("nonce",p),document.head.appendChild(l),o)return new Promise((m,v)=>{l.addEventListener("load",m),l.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${s}`)))})}))}function i(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return n.then(d=>{for(const p of d||[])p.status==="rejected"&&i(p.reason);return t().catch(i)})},V={"Z-Divinium":{antimatter:100,element115:150,deuterium:80},Oganesson:{antimatter:80,element115:95,deuterium:40},Tennessine:{antimatter:50,element115:70,deuterium:40},Livermorium:{antimatter:50,element115:70,deuterium:40},Moscovium:{antimatter:50,element115:70,deuterium:40},Flerovium:{antimatter:50,element115:70,deuterium:40},Nihonium:{antimatter:50,element115:70,deuterium:40},Copernicium:{antimatter:50,element115:70,deuterium:40},Roentgenium:{antimatter:40,element115:55,deuterium:35},Darmstadtium:{antimatter:40,element115:55,deuterium:35},Meitnerium:{antimatter:40,element115:55,deuterium:35},Hassium:{antimatter:35,element115:45,deuterium:30},Bohrium:{antimatter:35,element115:45,deuterium:30},Seaborgium:{antimatter:35,element115:45,deuterium:30},Dubnium:{antimatter:35,element115:45,deuterium:30},Rutherfordium:{antimatter:35,element115:45,deuterium:30},Lawrencium:{antimatter:30,element115:40,deuterium:25},Nobelium:{antimatter:30,element115:40,deuterium:25},Mendelevium:{antimatter:30,element115:40,deuterium:25},Fermium:{antimatter:30,element115:40,deuterium:25},Einsteinium:{antimatter:30,element115:40,deuterium:25},Californium:{antimatter:30,element115:40,deuterium:25},Berkelium:{antimatter:30,element115:40,deuterium:25},Curium:{antimatter:25,element115:35,deuterium:20},Americium:{antimatter:25,element115:35,deuterium:20},Plutonium:{antimatter:25,element115:35,deuterium:20},Neptunium:{antimatter:25,element115:35,deuterium:20},Uranium:{antimatter:25,element115:35,deuterium:20},Protactinium:{antimatter:25,element115:35,deuterium:20},Thorium:{antimatter:25,element115:35,deuterium:20},Actinium:{antimatter:25,element115:35,deuterium:20},Radium:{antimatter:25,element115:35,deuterium:20},Francium:{antimatter:25,element115:35,deuterium:20},Radon:{antimatter:20,element115:28,deuterium:18},Astatine:{antimatter:20,element115:28,deuterium:18},Polonium:{antimatter:20,element115:28,deuterium:18},Bismuth:{antimatter:18,element115:25,deuterium:15},Lead:{antimatter:18,element115:25,deuterium:15},Thallium:{antimatter:18,element115:25,deuterium:15},Mercury:{antimatter:18,element115:25,deuterium:15},Gold:{antimatter:18,element115:25,deuterium:15},Platinum:{antimatter:16,element115:22,deuterium:14},Iridium:{antimatter:16,element115:22,deuterium:14},Osmium:{antimatter:16,element115:22,deuterium:14},Rhenium:{antimatter:15,element115:20,deuterium:12},Tungsten:{antimatter:15,element115:20,deuterium:12},Tantalum:{antimatter:15,element115:20,deuterium:12},Hafnium:{antimatter:15,element115:20,deuterium:12},Lutetium:{antimatter:12,element115:16,deuterium:10},Ytterbium:{antimatter:12,element115:16,deuterium:10},Thulium:{antimatter:12,element115:16,deuterium:10},Erbium:{antimatter:11,element115:15,deuterium:9},Holmium:{antimatter:11,element115:15,deuterium:9},Dysprosium:{antimatter:11,element115:15,deuterium:9},Terbium:{antimatter:10,element115:14,deuterium:8},Gadolinium:{antimatter:10,element115:14,deuterium:8},Europium:{antimatter:9,element115:12,deuterium:7},Samarium:{antimatter:9,element115:12,deuterium:7},Promethium:{antimatter:9,element115:12,deuterium:7},Neodymium:{antimatter:9,element115:12,deuterium:7},Praseodymium:{antimatter:9,element115:12,deuterium:7},Cerium:{antimatter:8,element115:11,deuterium:6},Lanthanum:{antimatter:8,element115:11,deuterium:6},Barium:{antimatter:7,element115:9,deuterium:5},Cesium:{antimatter:7,element115:9,deuterium:5},Xenon:{antimatter:7,element115:9,deuterium:5},Iodine:{antimatter:7,element115:9,deuterium:5},Tellurium:{antimatter:7,element115:9,deuterium:5},Antimony:{antimatter:6,element115:8,deuterium:4},Tin:{antimatter:6,element115:8,deuterium:4},Indium:{antimatter:6,element115:8,deuterium:4},Cadmium:{antimatter:5,element115:7,deuterium:4},Silver:{antimatter:5,element115:7,deuterium:4},Palladium:{antimatter:5,element115:7,deuterium:4},Rhodium:{antimatter:5,element115:7,deuterium:4},Ruthenium:{antimatter:4,element115:6,deuterium:3},Technetium:{antimatter:4,element115:6,deuterium:3},Molybdenum:{antimatter:4,element115:6,deuterium:3},Niobium:{antimatter:4,element115:6,deuterium:3},Tritium:{antimatter:8,element115:10,deuterium:15},Zirconium:{antimatter:3,element115:4,deuterium:2},Yttrium:{antimatter:3,element115:4,deuterium:2},Strontium:{antimatter:3,element115:4,deuterium:2},Rubidium:{antimatter:3,element115:4,deuterium:2},Krypton:{antimatter:3,element115:4,deuterium:2},Bromine:{antimatter:3,element115:4,deuterium:2},Selenium:{antimatter:3,element115:4,deuterium:2},Arsenic:{antimatter:3,element115:4,deuterium:2},Beryllium:{antimatter:3,element115:4,deuterium:2},Scandium:{antimatter:3,element115:4,deuterium:2},Germanium:{antimatter:2,element115:3,deuterium:2},Gallium:{antimatter:2,element115:3,deuterium:2},Zinc:{antimatter:2,element115:3,deuterium:2},Copper:{antimatter:2,element115:3,deuterium:2},Lithium:{antimatter:2,element115:3,deuterium:2},Fluorine:{antimatter:2,element115:3,deuterium:2},Titanium:{antimatter:2,element115:3,deuterium:2},Vanadium:{antimatter:2,element115:3,deuterium:2},Chromium:{antimatter:2,element115:3,deuterium:2},Cobalt:{antimatter:1,element115:2,deuterium:1},Manganese:{antimatter:1,element115:2,deuterium:1},Nickel:{antimatter:1,element115:2,deuterium:1},Calcium:{antimatter:1,element115:2,deuterium:1},Argon:{antimatter:1,element115:1,deuterium:1},Chlorine:{antimatter:1,element115:1,deuterium:1},Phosphorus:{antimatter:1,element115:1,deuterium:1},Boron:{antimatter:1,element115:1,deuterium:1},Potassium:{antimatter:1,element115:1,deuterium:1},Sodium:{antimatter:1,element115:1,deuterium:1},Aluminum:{antimatter:1,element115:1,deuterium:1},Sulfur:{antimatter:0,element115:1,deuterium:1},Magnesium:{antimatter:0,element115:1,deuterium:1},Silicon:{antimatter:0,element115:1,deuterium:1},Iron:{antimatter:0,element115:1,deuterium:1},Neon:{antimatter:0,element115:1,deuterium:0},Nitrogen:{antimatter:0,element115:0,deuterium:1},Carbon:{antimatter:0,element115:0,deuterium:1},Oxygen:{antimatter:0,element115:1,deuterium:1},Helium:{antimatter:1,element115:0,deuterium:0},Hydrogen:{antimatter:0,element115:1,deuterium:0}};function q(c){let t={antimatter:0,element115:0,deuterium:0};return c.forEach(r=>{const a=r.trim(),n=V[a];n&&(t.antimatter+=n.antimatter,t.element115+=n.element115,t.deuterium+=n.deuterium)}),t.antimatter===0&&t.element115===0&&t.deuterium===0&&(t={antimatter:1,element115:1,deuterium:2}),t}function Q(c){const t=V[c];if(!t)return"Unknown";if(c==="Z-Divinium")return"Exception";const r=t.antimatter+t.element115+t.deuterium;return r>=200?"Ultra Rare":r>=100?"Extremely Rare":r>=75?"Very Rare":r>=50?"Rare":r>=30?"Uncommon":r>=15?"Common":r>=5?"Very Common":r>=2?"Abundant":"Basic"}class R{static generateLocationId(t,r,a,n){switch(t){case"galaxy":return`galaxy_${r}`;case"system":return`system_${r}_${a}`;case"planet":return`planet_${r}_${a}_${n?.toLowerCase()}`;default:return`unknown_${r}`}}static canCollectFromLocation(t){return S.canCollectFromLocation(t)}static getTimeUntilNextCollection(t){return S.getTimeUntilNextCollection(t)}static calculateReward(t,r,a=0,n,i=!1){if(t==="planet"&&n?.elements&&n.elements.length>0){const l=q(n.elements),m=a>3?Math.max(.4,1-(a-3)*.15):1,v=.9+Math.random()*.2,h=Math.floor(l.antimatter*m*v),w=Math.floor(l.element115*m*v),M=Math.floor(l.deuterium*m*v);let N={antimatter:l.antimatter>0&&h===0?l.antimatter:h,element115:l.element115>0&&w===0?l.element115:w,deuterium:l.deuterium>0&&M===0?l.deuterium:M};if(i){const u=S.getUpgrade().multiplier;N={antimatter:Math.floor(N.antimatter*u),element115:Math.floor(N.element115*u),deuterium:Math.floor(N.deuterium*u)}}return N}const p={galaxy:{antimatter:80,element115:60,deuterium:50},system:{antimatter:50,element115:60,deuterium:50},planet:{antimatter:18,element115:22,deuterium:27}}[t];let x=1;t==="planet"&&!n?.elements&&r&&(x=.5+this.hashCoordinates(r)*1.5);const s=a>3?Math.max(.4,1-(a-3)*.15):1,o=.9+Math.random()*.2;let f={antimatter:Math.floor(p.antimatter*x*s*o),element115:Math.floor(p.element115*x*s*o),deuterium:Math.floor(p.deuterium*x*s*o)};if(i){const m=S.getUpgrade().multiplier;f={antimatter:Math.floor(f.antimatter*m),element115:Math.floor(f.element115*m),deuterium:Math.floor(f.deuterium*m)}}return f}static hashCoordinates(t){if(!t||typeof t!="string")return Math.random();let r=0;for(let a=0;a<t.length;a++){const n=t.charCodeAt(a);r=(r<<5)-r+n,r=r&r}return Math.abs(r)/2147483647}static getDiscoveryBonus(t){return t<=3?5:t<=5?3:t<=7?2:t<=10?1.5:1}static collectResources(t,r,a,n){if(!this.canCollectFromLocation(t))return null;const i=S.getCollectionCount(t);let d=this.calculateReward(r,a,i,n);const x=S.getUpgrade().multiplier;S.markLocationCollected(t);const s=S.getCollectionStreakInfo();let o=s.streakMultiplier;const f=this.getDiscoveryBonus(s.dailyCollections);return o*=f,o*=x,o>1&&(d={antimatter:Math.floor(d.antimatter*o),element115:Math.floor(d.element115*o),deuterium:Math.floor(d.deuterium*o)}),S.addResources(d),d}static getLocationCollection(t){const r=S.getCollectionCount(t);return r>0?{totalCollections:r}:null}static showCollectionSuccess(t,r,a,n){const i=document.createElement("div");i.className="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-gradient-to-r from-green-900/90 to-blue-900/90 text-white px-4 py-3 rounded-lg shadow-lg border border-green-500/50 w-[90vw] max-w-lg",i.style.animation="slideInDown 0.3s ease-out";const p={galaxy:"ðŸŒŒ",system:"â­",planet:"ðŸª"}[r]||"ðŸ“¦",x=document.createElement("div");x.className="flex items-center space-x-3";const s=document.createElement("span");s.className="text-2xl",s.textContent=p;const o=document.createElement("div"),f=document.createElement("div");f.className="text-sm font-bold text-green-300",n?f.textContent="ðŸŽ‰ First Time Mining - Bonus Applied!":f.textContent="Resources Collected!";const l=document.createElement("div");l.className="text-xs text-green-200 mt-1 flex gap-3";const m=document.createElement("span");m.className="text-purple-300 flex items-center gap-1",U.createRoot(m).render(e.jsxs(e.Fragment,{children:[e.jsx(A,{size:12,color:"currentColor"}),"+",t.antimatter," AM"]}));const h=document.createElement("span");h.className="text-cyan-300 flex items-center gap-1",U.createRoot(h).render(e.jsxs(e.Fragment,{children:[e.jsx(z,{size:12,color:"currentColor"}),"+",t.element115," E115"]}));const M=document.createElement("span");if(M.className="text-orange-300 flex items-center gap-1",U.createRoot(M).render(e.jsxs(e.Fragment,{children:[e.jsx(F,{size:12,color:"currentColor"}),"+",t.deuterium," D"]})),l.appendChild(m),l.appendChild(h),l.appendChild(M),o.appendChild(f),o.appendChild(l),a?.discoveryBonus>1){const u=document.createElement("div");u.className="text-xs text-yellow-300 mt-1",a.discoveryBonus>=5?u.textContent="ðŸŽ‰ Daily Bonus: 5x (First 3 discoveries today)":a.discoveryBonus>=3?u.textContent="âœ¨ Daily Bonus: 3x (Discoveries 4-5 today)":a.discoveryBonus>=2?u.textContent="ðŸŒŸ Daily Bonus: 2x (Discoveries 6-7 today)":a.discoveryBonus>=1.5&&(u.textContent="â­ Daily Bonus: 1.5x (Discoveries 8-10 today)"),o.appendChild(u)}if(a?.streakBonus){const u=document.createElement("div");u.className="text-xs text-purple-300 mt-1",u.textContent="ðŸ”¥ Streak Bonus: +25%",o.appendChild(u)}if(a?.shipMultiplier&&a.shipMultiplier>1){const u=document.createElement("div");u.className="text-xs text-blue-300 mt-1";const L=a.shipMultiplier===Math.floor(a.shipMultiplier)?a.shipMultiplier.toFixed(0):a.shipMultiplier.toFixed(1);u.textContent=`ðŸš€ Ship Bonus: ${L}x`,o.appendChild(u)}if(!(a?.discoveryBonus>1||a?.streakBonus||a?.shipMultiplier&&a.shipMultiplier>1)){const u=document.createElement("div");u.className="text-xs text-gray-400 mt-1",u.textContent="No bonus active, improve your ship",o.appendChild(u)}if(x.appendChild(s),x.appendChild(o),i.appendChild(x),!document.getElementById("collection-toast-styles")){const u=document.createElement("style");u.id="collection-toast-styles",u.textContent=`
        @keyframes slideInDown {
          from {
            transform: translate(-50%, -100%);
            opacity: 0;
          }
          to {
            transform: translate(-50%, 0);
            opacity: 1;
          }
        }
        @keyframes slideOutUp {
          from {
            transform: translate(-50%, 0);
            opacity: 1;
          }
          to {
            transform: translate(-50%, -100%);
            opacity: 0;
          }
        }
      `,document.head.appendChild(u)}document.body.appendChild(i),setTimeout(()=>{i.style.animation="slideOutUp 0.3s ease-in forwards",setTimeout(()=>{i.remove()},300)},3e3)}static getCollectionStats(){const t=S.getStats();return{totalCollections:t.totalCollections,uniqueLocations:t.totalCollections,totalResourcesGathered:{antimatter:t.totalResourcesCollected.antimatter,element115:t.totalResourcesCollected.element115,deuterium:t.totalResourcesCollected.deuterium}}}}const ee=({locationType:c,locationId:t,coordinates:r,systemIndex:a,planetName:n,planetElements:i,className:d=""})=>{const[p,x]=j.useState(!1),[s,o]=j.useState(0),[f,l]=j.useState(!1),[m,v]=j.useState(0),[h,w]=j.useState(null);j.useEffect(()=>{O(async()=>{const{UnifiedSpaceshipStorage:b}=await import("./atlas_2fY2CqG6SeRmehI0zafIE.js").then(E=>E.f);return{UnifiedSpaceshipStorage:b}},__vite__mapDeps([0,1,2,3])).then(({UnifiedSpaceshipStorage:b})=>{b.cleanCorruptedTimestamps()});const g=R.generateLocationId(c,r,a,n),y=()=>{const b=R.canCollectFromLocation(g),E=R.getTimeUntilNextCollection(g);x(b),o(E);const k=R.getLocationCollection(g);v(k?.totalCollections||0);const D=S.getDailyCollectionInfo();w(D)};y();const C=setInterval(y,1e3);return()=>clearInterval(C)},[c,r,a,n]);const M=async()=>{l(!0);const g=R.generateLocationId(c,r,a,n),y=m===0,C=i?{elements:i}:void 0,b=R.collectResources(g,c,r,C);if(b){const{UnifiedSpaceshipStorage:E}=await O(async()=>{const{UnifiedSpaceshipStorage:P}=await import("./atlas_2fY2CqG6SeRmehI0zafIE.js").then(W=>W.f);return{UnifiedSpaceshipStorage:P}},__vite__mapDeps([0,1,2,3])),k=E.getCollectionStreakInfo(),D=k.dailyCollections<=3?5:k.dailyCollections<=5?3:k.dailyCollections<=7?2:k.dailyCollections<=10?1.5:1;R.showCollectionSuccess(b,c,{streakBonus:k.streakMultiplier>1,discoveryBonus:D,shipMultiplier:E.getUpgrade().multiplier},y),x(!1),o(R.getTimeUntilNextCollection(g)),v(P=>P+1),_.emit("resources_updated"),_.emit("mining_completed",b)}setTimeout(()=>l(!1),1e3)},N=()=>{if(f)return"Mining...";if(!p&&s>0){const g=Math.ceil(s*3600),y=Math.floor(g/60),C=g%60;if(y>=60){const b=Math.floor(y/60),E=y%60;return`${b}h ${E}m`}else return y>0?`${y}m ${C}s`:`${C}s`}return B()?"Max":"Mine"},$=()=>f?e.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):!p&&s>0?e.jsxs("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}),e.jsx("path",{d:"M13 7h-2v5.414l3.293 3.293 1.414-1.414L13 11.586z"})]}):e.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4"})]}),u=()=>{const g=i?{elements:i}:void 0,y=R.calculateReward(c,r,m,g,!0);return e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(A,{size:8,color:"#c084fc"}),y.antimatter,"AM |",e.jsx(z,{size:8,color:"#67e8f9"}),y.element115,"E115 |",e.jsx(F,{size:8,color:"#fb923c"}),y.deuterium,"D"]})},L=()=>{if(!h)return p?`Mine: ${u()}`:`Cooldown: ${N()} remaining`;const g=c==="planet"?h.planets:c==="system"?h.systems:h.galaxies,y=g.unlimited?"":` | Daily: ${g.used}/${g.limit}`;if(p){const C=R.calculateReward(c,r,m,i?{elements:i}:void 0,!0);return`Mine: ${C.antimatter}AM | ${C.element115}E115 | ${C.deuterium}D${y}`}else{if(!g.unlimited&&g.used>=g.limit)return`Daily limit reached: ${g.used}/${g.limit} ${c}s today`;{const C=R.calculateReward(c,r,m,i?{elements:i}:void 0,!0);return`Cooldown: ${N()} remaining | Next: ${C.antimatter}AM | ${C.element115}E115 | ${C.deuterium}D${y}`}}},B=()=>{if(!h)return!1;const g=c==="planet"?h.planets:c==="system"?h.systems:h.galaxies;return!g.unlimited&&g.used>=g.limit};return e.jsxs("button",{onClick:M,disabled:!p||f,className:`relative inline-flex items-center space-x-1 px-1.5 py-0.5 rounded transition-all duration-200 text-[10px] font-medium h-[21px] box-border ${f?"bg-blue-500/20 border border-blue-500/50 text-blue-400":p?"bg-white/10 hover:bg-white/20 border border-white/20 hover:border-white/40 text-white hover:text-blue-300":B()?"bg-red-500/20 border border-red-500/50 text-red-400":"bg-gray-500/20 border border-gray-500/50 text-gray-400"} ${d}`,title:L(),children:[$(),e.jsx("span",{className:"text-[10px] uppercase",children:N()}),B()&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[8px] px-1 py-0.5 rounded-full font-bold leading-none min-w-[16px] text-center z-10",children:"MAX"})]})},te=({isOnCooldown:c,isSaved:t,isCollecting:r,className:a=""})=>r?e.jsxs("div",{className:`flex items-center justify-center w-8 h-8 relative ${a}`,children:[e.jsxs("svg",{className:"w-6 h-6 text-blue-400 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 0 1 8-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 0 1 4 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("div",{className:"absolute w-8 h-8 rounded-full border-2 border-blue-400 animate-ping opacity-50"})]}):c?e.jsxs("div",{className:`flex items-center justify-center w-8 h-8 relative ${a}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"w-6 h-6 text-orange-400",style:{animation:"drill-hammer 1.5s ease-in-out infinite"},children:e.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.3,children:[e.jsx("path",{d:"m14 13l-8.381 8.38a1 1 0 0 1-3.001-3L11 9.999m4.973-5.972A13 13 0 0 0 5.902 2.373c-1.398.342-1.092 2.158.277 2.601a19.9 19.9 0 0 1 5.822 3.024m4 4.001a19.9 19.9 0 0 1 3.024 5.824c.444 1.369 2.26 1.676 2.603.278A13 13 0 0 0 20 8.069"}),e.jsx("path",{d:"M18.352 3.352a1.205 1.205 0 0 0-1.704 0l-5.296 5.296a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l5.296-5.296a1.205 1.205 0 0 0 0-1.704z"})]})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse",children:e.jsx("div",{className:"w-full h-full bg-red-400 rounded-full animate-ping"})})]}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
            @keyframes drill-hammer {
              0%, 100% { transform: translateY(0px) rotate(-5deg); }
              25% { transform: translateY(-3px) rotate(5deg); }
              50% { transform: translateY(-1px) rotate(-3deg); }
              75% { transform: translateY(-2px) rotate(3deg); }
            }
          `}})]}):t?e.jsxs("div",{className:`flex items-center justify-center w-8 h-8 relative ${a}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"w-6 h-6 text-green-400",style:{animation:"auto-mining 2s ease-in-out infinite"},children:e.jsx("path",{fill:"currentColor",d:"M6.75 3A2.75 2.75 0 0 0 4 5.75V20.5h-.25a.75.75 0 0 0 0 1.5h13.5a.75.75 0 0 0 0-1.5H17v-1.803a2.745 2.745 0 0 0 4-2.442v-5.838a2.75 2.75 0 0 0-.55-1.65L19.35 7.3a.75.75 0 0 0-1.2.9l1.1 1.467c.162.216.25.48.25.75v5.838a1.245 1.245 0 1 1-2.49 0V14.5a1 1 0 0 0-.01-.121V5.75A2.75 2.75 0 0 0 14.25 3zM7 6.75A.75.75 0 0 1 7.75 6h5.5a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-.75.75h-5.5a.75.75 0 0 1-.75-.75z"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full",children:e.jsx("div",{className:"w-full h-full bg-green-400 rounded-full animate-pulse"})})]}),e.jsx("div",{className:"absolute top-1 left-1",style:{animation:"processing-dots 1.5s ease-in-out infinite"},children:e.jsxs("div",{className:"flex gap-0.5",children:[e.jsx("div",{className:"w-1 h-1 bg-emerald-300 rounded-full",style:{animationDelay:"0s"}}),e.jsx("div",{className:"w-1 h-1 bg-emerald-300 rounded-full",style:{animationDelay:"0.2s"}}),e.jsx("div",{className:"w-1 h-1 bg-emerald-300 rounded-full",style:{animationDelay:"0.4s"}})]})}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
            @keyframes auto-mining {
              0%, 100% { transform: scale(1); opacity: 1; }
              50% { transform: scale(1.05); opacity: 0.9; }
            }
            @keyframes processing-dots {
              0%, 100% { opacity: 0.3; }
              50% { opacity: 1; }
            }
          `}})]}):e.jsx("div",{className:`flex items-center justify-center w-8 h-8 ${a}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 256 256",className:"w-6 h-6 text-gray-400 opacity-60",children:e.jsxs("g",{fill:"currentColor",strokeWidth:6.5,stroke:"currentColor",children:[e.jsx("path",{d:"M216 96v120H96l-56-56V40h120Z",opacity:.2}),e.jsx("path",{d:"m221.66 90.34l-56-56A8 8 0 0 0 160 32H40a8 8 0 0 0-8 8v120a8 8 0 0 0 2.3 5.61l56 56A8 8 0 0 0 96 224h120a8 8 0 0 0 8-8V96a8 8 0 0 0-2.34-5.66M168 59.31L196.69 88H168ZM88 196.69L59.31 168H88ZM88 152H48V59.31l40 40ZM59.31 48H152v40H99.31ZM152 104v48h-48v-48Zm-48 104v-40h52.69l40 40Zm104-11.31l-40-40V104h40Z"})]})})});typeof window<"u"&&(window.CHEST_SHOW=!1,window.CHEST_PROBABILITY=1e-6);const re=()=>{const[c,t]=j.useState(!1),[r,a]=j.useState(!1),[n,i]=j.useState(!1),[d,p]=j.useState(!1),[x,s]=j.useState(null);j.useEffect(()=>{const h=window.CHEST_PROBABILITY||1e-6,w=window.CHEST_SHOW||Math.random()<h;t(w)},[]);const o=h=>{if(h.antimatter+h.element115+h.deuterium===0)return;const w=document.createElement("div");w.className="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-gradient-to-r from-yellow-900/90 to-amber-900/90 text-white px-4 py-3 rounded-lg shadow-lg border border-yellow-500/50 w-[90vw] max-w-lg",w.style.animation="slideInDown 0.3s ease-out";const M=document.createElement("div");M.className="flex items-center space-x-3";const N=document.createElement("span");N.className="text-2xl",N.textContent="ðŸ’°";const $=document.createElement("div"),u=document.createElement("div");u.className="text-sm font-bold text-yellow-300",u.textContent="Treasure Chest Collected!";const L=document.createElement("div");L.className="text-xs text-yellow-200 mt-1 flex gap-3";const B=document.createElement("span");B.className="text-purple-300 flex items-center gap-1",U.createRoot(B).render(e.jsxs(e.Fragment,{children:[e.jsx(A,{size:12,color:"currentColor"}),"+",h.antimatter," AM"]}));const y=document.createElement("span");y.className="text-cyan-300 flex items-center gap-1",U.createRoot(y).render(e.jsxs(e.Fragment,{children:[e.jsx(z,{size:12,color:"currentColor"}),"+",h.element115," E115"]}));const b=document.createElement("span");b.className="text-orange-300 flex items-center gap-1",U.createRoot(b).render(e.jsxs(e.Fragment,{children:[e.jsx(F,{size:12,color:"currentColor"}),"+",h.deuterium," D"]})),L.appendChild(B),L.appendChild(y),L.appendChild(b);const k=document.createElement("div");if(k.className="text-xs text-yellow-300 mt-1",k.textContent="ðŸŽ‰ Lucky find! Extremely rare treasure!",$.appendChild(u),$.appendChild(L),$.appendChild(k),M.appendChild(N),M.appendChild($),w.appendChild(M),!document.getElementById("treasure-toast-styles")){const D=document.createElement("style");D.id="treasure-toast-styles",D.textContent=`
        @keyframes slideInDown {
          from {
            transform: translate(-50%, -100%);
            opacity: 0;
          }
          to {
            transform: translate(-50%, 0);
            opacity: 1;
          }
        }
        @keyframes slideOutUp {
          from {
            transform: translate(-50%, 0);
            opacity: 1;
          }
          to {
            transform: translate(-50%, -100%);
            opacity: 0;
          }
        }
      `,document.head.appendChild(D)}document.body.appendChild(w),setTimeout(()=>{w.style.animation="slideOutUp 0.3s ease-in forwards",setTimeout(()=>{w.remove()},300)},3e3)},f=()=>{const h={antimatter:Math.floor(Math.random()*1001),element115:Math.floor(Math.random()*1001),deuterium:Math.floor(Math.random()*1001)};s(h),a(!0)},l=()=>{x&&(Y.addResources(x),o(x),_.emit("resources_updated")),i(!0),setTimeout(()=>{a(!1),s(null),i(!1),m()},300)},m=()=>{p(!0),setTimeout(()=>{t(!1),p(!1)},800)},v=()=>{i(!0),setTimeout(()=>{a(!1),s(null),i(!1),m()},300)};return c?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:d?void 0:f,disabled:d,className:`fixed bottom-20 sm:bottom-24 right-4 sm:right-6 z-50 w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-yellow-600 via-amber-600 to-yellow-800 text-white rounded-full shadow-2xl border-2 border-yellow-400/30 backdrop-blur-sm ${d?"animate-popAndFadeOut cursor-not-allowed":"hover:from-yellow-500 hover:via-amber-500 hover:to-yellow-700 transition-all duration-300 transform hover:scale-105 cursor-pointer"}`,title:d?"Treasure chest is disappearing...":"Treasure Chest - Click for random resources!",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M2 20h20V7c0-.8-.32-1.56-.88-2.12S19.8 4 19 4H5c-.8 0-1.56.32-2.12.88S2 6.2 2 7zm18-9h-5V9H9v2H4V7c0-.26.11-.5.29-.71C4.5 6.11 4.74 6 5 6h14c.27 0 .5.11.71.29c.19.21.29.45.29.71zm-5 2h5v5H4v-5h5l2 2h2zm-4-2h2v2h-2z"})})}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-yellow-400/20 animate-ping"})]}),r&&x&&e.jsx("div",{className:`fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 ${n?"animate-fadeOut":"animate-fadeIn"}`,style:{zIndex:1e4},onClick:n?void 0:v,children:e.jsxs("div",{className:`bg-gradient-to-br from-yellow-900/90 via-amber-900/90 to-yellow-800/90 backdrop-blur-xl rounded-2xl border-2 border-yellow-400/50 shadow-2xl w-full max-w-md ${n?"animate-slideDown":"animate-slideUp"}`,style:{zIndex:10001},onClick:h=>h.stopPropagation(),children:[e.jsx("div",{className:"bg-gradient-to-r from-yellow-600/30 to-amber-600/30 p-4 border-b border-yellow-400/30 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-yellow-100 font-bold text-xl flex items-center gap-2",children:"ðŸŽ‰ Treasure Found! ðŸŽ‰"}),e.jsx("button",{onClick:n?void 0:v,disabled:n,className:`transition-colors duration-200 ${n?"text-yellow-600 cursor-not-allowed":"text-yellow-400 hover:text-yellow-200 cursor-pointer"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"text-lg text-yellow-200 mb-4",children:"You discovered a rare treasure chest!"}),e.jsxs("div",{className:"bg-black/30 rounded-lg p-4 mb-4",children:[e.jsx("div",{className:"text-sm text-yellow-300 mb-2",children:"Resources to collect:"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-purple-300 font-bold flex items-center justify-center gap-1",children:[e.jsx(A,{size:16,color:"currentColor"}),"+",x.antimatter]}),e.jsx("div",{className:"text-xs text-purple-400",children:"Antimatter"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-cyan-300 font-bold flex items-center justify-center gap-1",children:[e.jsx(z,{size:16,color:"currentColor"}),"+",x.element115]}),e.jsx("div",{className:"text-xs text-cyan-400",children:"Element 115"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-orange-300 font-bold flex items-center justify-center gap-1",children:[e.jsx(F,{size:16,color:"currentColor"}),"+",x.deuterium]}),e.jsx("div",{className:"text-xs text-orange-400",children:"Deuterium"})]})]})]}),e.jsx("div",{className:"text-sm text-yellow-400 mb-4",children:"âœ¨ Lucky find! These chests are extremely rare! âœ¨"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:n?void 0:v,disabled:n,className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium border transition-all duration-200 ${n?"bg-gray-700/30 text-gray-500 border-gray-600/30 cursor-not-allowed":"bg-gray-700/50 text-gray-300 hover:bg-gray-700/70 border-gray-600/50 hover:border-gray-500 cursor-pointer"}`,children:"Close"}),e.jsx("button",{onClick:n?void 0:l,disabled:n,className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium border transition-all duration-200 ${n?"bg-yellow-600/20 text-yellow-500 border-yellow-500/30 cursor-not-allowed":"bg-gradient-to-r from-yellow-600/30 to-amber-600/30 hover:from-yellow-600/40 hover:to-amber-600/40 text-yellow-300 border-yellow-500/50 hover:border-yellow-400/70 cursor-pointer"}`,children:"ðŸŽ‰ Collect"})]})]})]})}),e.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes fadeOut {
          from { opacity: 1; }
          to { opacity: 0; }
        }
        
        @keyframes slideUp {
          from { 
            opacity: 0; 
            transform: translateY(20px); 
          }
          to { 
            opacity: 1; 
            transform: translateY(0); 
          }
        }
        
        @keyframes slideDown {
          from { 
            opacity: 1; 
            transform: translateY(0); 
          }
          to { 
            opacity: 0; 
            transform: translateY(20px); 
          }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out forwards;
        }
        
        .animate-fadeOut {
          animation: fadeOut 0.3s ease-in forwards;
        }
        
        .animate-slideUp {
          animation: slideUp 0.3s ease-out forwards;
        }
        
        .animate-slideDown {
          animation: slideDown 0.3s ease-in forwards;
        }
        
        @keyframes popAndFadeOut {
          0% { 
            opacity: 1; 
            transform: scale(1); 
          }
          20% { 
            opacity: 1; 
            transform: scale(1.2) rotate(10deg); 
          }
          40% { 
            opacity: 1; 
            transform: scale(1.1) rotate(-5deg); 
          }
          60% { 
            opacity: 1; 
            transform: scale(1.05) rotate(2deg); 
          }
          80% { 
            opacity: 0.7; 
            transform: scale(1) rotate(0deg); 
          }
          100% { 
            opacity: 0; 
            transform: scale(0.8); 
          }
        }
        
        .animate-popAndFadeOut {
          animation: popAndFadeOut 0.8s ease-out forwards;
        }
      `})]}):null};export{V as E,te as M,ee as R,J as S,re as T,R as a,T as b,Q as g};
