import{r as o,j as e,V as oe,c as ie}from"./atlas_bDOTfl6YifhEgi64OZoGp.js";import{S as le,C as ce,P as de,W as ue,B as me,E as he,L as xe,a as pe,e as O,r as b,a2 as X,v as Y,t as Z,h as ge,a3 as be}from"./atlas_DOhFbrf-xvtrG71hPc-xH.js";const fe=({animationType:f,onAnimationComplete:n})=>{const u=o.useRef(null),l=o.useRef(null),c=o.useRef(null),S=o.useRef(null),h=o.useRef(null),[v,T]=o.useState(!1),E=()=>{const t=document.createElement("canvas");t.width=64,t.height=64;const a=t.getContext("2d");a.clearRect(0,0,64,64);const i=a.createRadialGradient(32,32,0,32,32,32);i.addColorStop(0,"rgba(255,255,255,1.0)"),i.addColorStop(.3,"rgba(255,255,255,0.8)"),i.addColorStop(.7,"rgba(255,255,255,0.2)"),i.addColorStop(1,"rgba(255,255,255,0.0)"),a.fillStyle=i,a.beginPath(),a.arc(32,32,32,0,Math.PI*2),a.fill();const y=new ge(t);return y.premultiplyAlpha=!1,y.format=be,y},k=()=>{if(!u.current){console.error("mountRef.current is null");return}try{const t=new le;t.background=new ce(17),l.current=t;const a=new de(75,window.innerWidth/window.innerHeight,.1,1e3);a.position.z=5,S.current=a;const i=new ue({antialias:!0,alpha:!1});i.setSize(window.innerWidth,window.innerHeight),u.current.appendChild(i.domElement),c.current=i;const y=new me(10,10,10),K=new he(y),ee=new xe({color:6710886,transparent:!0,opacity:.5,linewidth:3}),w=new pe(K,ee);t.add(w);const te=new Float32Array([0,0,0]),ae=new Float32Array([1,1,1]),ne=new Float32Array([10]),z=new O;z.setAttribute("position",new b(te,3)),z.setAttribute("color",new b(ae,3)),z.setAttribute("size",new b(ne,1));const D=new X({size:7,vertexColors:!0,blending:Y,transparent:!0,alphaTest:.01,map:E()}),se=new Z(z,D);t.add(se);const x=7500,R=new Float32Array(x*3),B=new Float32Array(x*3),L=new Float32Array(x),V=new Float32Array(x);for(let s=0;s<x;s++){let r,d,p;const I=3+Math.floor(Math.random()*3);let F=1/0,g=0,G=0,P=0;for(let N=0;N<I;N++){const C=(Math.random()-.5)*10,A=(Math.random()-.5)*10,m=(Math.random()-.5)*10,M=Math.sqrt(C*C+A*A+m*m),W=Math.pow(Math.random(),1.8)+M*.1;W<F&&(F=W,g=C,G=A,P=m)}r=g,d=G,p=P,R[s*3]=r,R[s*3+1]=d,R[s*3+2]=p;const q=Math.sqrt(r*r+d*d+p*p);V[s]=q,B[s*3]=.2,B[s*3+1]=.5,B[s*3+2]=1,L[s]=Math.random()*.4+.1}const j=new O;j.setAttribute("position",new b(R,3)),j.setAttribute("color",new b(B,3)),j.setAttribute("size",new b(L,1));const $=new X({size:.1,vertexColors:!0,blending:Y,transparent:!0,alphaTest:.01,depthWrite:!1,map:E()}),H=new Z(j,$);t.add(H);let re=Date.now();const U=()=>{const s=(Date.now()-re)/1e3,r=s*.5,d=Math.min(s/7,1),p=Math.pow(r*.8,3),I=Math.pow(d,2)*20,F=1+p+I,g=r*.05*F;w.rotation.x=Math.sin(g*.7)*.2,w.rotation.y=g*.5,w.rotation.z=Math.cos(g*.3)*.15,H.rotation.copy(w.rotation);const G=3+Math.sin(r*8)*2;D.size=G,D.opacity=.8+Math.sin(r*10)*.2;const P=Math.sqrt(75),q=d*P;let N=0;for(let M=0;M<x;M++)V[M]<=q&&N++;j.setDrawRange(0,N),$.opacity=1;const C=15+Math.sin(r*.5)*3,A=1-d*.8,m=C*A;if(a.position.x=Math.cos(r*.2)*m,a.position.y=Math.sin(r*.15)*m*.5,a.position.z=Math.sin(r*.2)*m,a.lookAt(0,0,0),i.render(t,a),s>7.5&&n){n();return}h.current=requestAnimationFrame(U)};U()}catch(t){console.error("Error initializing Three.js scene:",t)}};return o.useEffect(()=>{f&&!v&&(T(!0),setTimeout(()=>{k()},100))},[f,v]),o.useEffect(()=>()=>{h.current&&cancelAnimationFrame(h.current),c.current&&u.current&&c.current.domElement.parentNode&&(u.current.removeChild(c.current.domElement),c.current.dispose())},[]),v?e.jsx("div",{ref:u,className:"fixed inset-0 z-50 bg-black",style:{width:"100vw",height:"100vh"}}):null},ve=({version:f})=>{const[n,u]=o.useState(""),[l,c]=o.useState("selection"),[S,h]=o.useState(null),v=[{value:"default",title:"The Core Continuum",description:"Venture into the primordial universe where time and space converge for you, exploring the vast cosmos we all traverse as a single entity."},{value:"custom",title:"Design the Multiverse",description:"Generate a personal universe with its own seed and cosmic origin time, a completely unique creation entirely shaped by your decision."}],T=t=>{u(t)},E=t=>{t.preventDefault(),!(!n||l!=="selection")&&(c("animating"),h(n==="default"?"core":"multiverse"))},k=()=>{c("redirecting"),h(null),setTimeout(()=>{const t=document.createElement("form");t.method="POST",t.action="/onboarding";const a=document.createElement("input");a.type="hidden",a.name="universe_type",a.value=n,t.appendChild(a),document.body.appendChild(t),t.submit()},1e3)};return e.jsxs(e.Fragment,{children:[S&&e.jsx("div",{className:"fixed inset-0 bg-black z-50 opacity-0 animate-fade-in",children:e.jsx(fe,{animationType:S,onAnimationComplete:k})}),e.jsxs("div",{className:`w-full h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-auto transition-opacity duration-500 ${l!=="selection"?"opacity-0 pointer-events-none":"opacity-100"}`,children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("header",{className:"bg-black/20 backdrop-blur-md border-b border-white/10 px-4 sm:px-6 py-6",children:e.jsxs("div",{className:"w-full flex flex-col items-center space-y-4",children:[e.jsx("img",{src:"/static/atlas-logo.jpg",alt:"Atlas Logo",className:"h-16 w-16 sm:h-20 sm:w-20 rounded-full border-2 border-cyan-400 shadow-lg animate-pulse"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Atlas Initialization Protocol"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-300 mt-2",children:"Quantum Navigation System Startup Sequence"})]})]})}),e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("form",{onSubmit:E,className:"space-y-8",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Will you journey through a shared universe or forge a new one of your own?"})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 mb-12",children:v.map(t=>e.jsx("div",{onClick:()=>T(t.value),className:`
                        relative group cursor-pointer transition-all duration-500 transform hover:scale-105
                        ${n===t.value?"shadow-2xl shadow-cyan-400/25 scale-105":"hover:shadow-xl hover:shadow-blue-500/20"}
                      `,children:e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/80 via-slate-700/80 to-slate-800/80 backdrop-blur-lg rounded-2xl border border-white/10 p-6 sm:p-8 h-full",children:[e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:`
                            w-6 h-6 rounded-full border-2 transition-all duration-300
                            ${n===t.value?"bg-cyan-400 border-cyan-400 shadow-lg shadow-cyan-400/50":"border-gray-400 group-hover:border-cyan-400"}
                          `,children:n===t.value&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-ping"})})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent",children:t.title}),e.jsx("p",{className:"text-gray-300 leading-relaxed text-sm sm:text-base",children:t.description})]}),e.jsx("div",{className:`
                          absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300
                          bg-gradient-to-br from-cyan-500/10 via-blue-500/10 to-purple-500/10
                          ${n===t.value?"opacity-20":""}
                        `})]})},t.value))}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{type:"submit",disabled:!n||l!=="selection",className:`
                      relative overflow-hidden group px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-500 transform
                      ${n&&l==="selection"?"bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 text-white shadow-2xl shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-110 active:scale-95":"bg-gray-600 text-gray-400 cursor-not-allowed"}
                    `,children:[n&&l==="selection"&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 opacity-20 group-hover:opacity-40 transition-opacity duration-300"}),e.jsx("span",{className:"relative z-10",children:e.jsx("span",{children:n?"Initialize Protocol":"Select Universe Type"})})]})})]})})}),e.jsx(oe,{version:f})]})]}),l==="redirecting"&&e.jsx("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-cyan-400 border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-cyan-400 text-xl font-semibold",children:"Atlas Initialization Protocol Finished"})]})})]})},Q=document.querySelector('meta[name="atlas-version"]'),_=document.querySelector('meta[name="atlas-version-hash"]'),ye={version:Q&&Q.getAttribute("content")||"1.0.0",versionHash:_&&_.getAttribute("content")||""},J=document.getElementById("atlas-react-root");J?ie.createRoot(J).render(o.createElement(ve,ye)):console.error("Container atlas-react-root not found!");
