import{S}from"./atlas_DkjWl6DBdcRHoaQOD3LxM.js";import{C as s}from"./atlas_Dr7FhitegIaVfnn-NnCom.js";const e={METALNESS:{min:.5,max:5},ROUGHNESS:{min:.1,max:.6},FRAGMENTATION_INTENSITY:{min:.3,max:.8},OPACITY:{min:.2,max:.9},CRYSTAL_SCALE:{min:17,max:230}};class l{material;params;layerSystem;constructor(a,n={}){this.layerSystem=a;const o=n.seed||Math.floor(Math.random()*1e6),t=new S(o),r=n.color instanceof s?n.color:n.color?new s(n.color):new s(8421504);this.params={color:r,metalness:n.metalness||t.uniform(e.METALNESS.min,e.METALNESS.max),roughness:n.roughness||t.uniform(e.ROUGHNESS.min,e.ROUGHNESS.max),fragmentationIntensity:n.fragmentationIntensity||t.uniform(e.FRAGMENTATION_INTENSITY.min,e.FRAGMENTATION_INTENSITY.max),opacity:n.opacity||t.uniform(e.OPACITY.min,e.OPACITY.max),seed:o,noiseScale:n.noiseScale||8,noiseIntensity:n.noiseIntensity||.3,crystalScale:n.crystalScale||t.uniform(e.CRYSTAL_SCALE.min,e.CRYSTAL_SCALE.max)},this.material=this.layerSystem.createMetallicSurfaceLayerMaterial(this.params),this.layerSystem.addEffectLayer("metallicSurface",this.material,this.layerSystem.getNextScaleFactor(),this)}update(a){this.material.uniforms.time&&(this.material.uniforms.time.value+=a)}dispose(){}}function E(m,a,n){const o=a.surface||{},t=a.planet_info?.base_color||o.base_color,r=n||Math.floor(Math.random()*1e6),i=new S(r+7e3),c=i.uniform(.8,1.2);return new l(m,{color:t?new s(t):new s(8421504),metalness:o.metalness||i.uniform(e.METALNESS.min,e.METALNESS.max),roughness:o.roughness||i.uniform(e.ROUGHNESS.min,e.ROUGHNESS.max),fragmentationIntensity:o.fragmentation||i.uniform(e.FRAGMENTATION_INTENSITY.min,e.FRAGMENTATION_INTENSITY.max),opacity:i.uniform(e.OPACITY.min,e.OPACITY.max),seed:r,noiseScale:4*c,noiseIntensity:.3,crystalScale:i.uniform(e.CRYSTAL_SCALE.min,e.CRYSTAL_SCALE.max)})}export{E as c};
