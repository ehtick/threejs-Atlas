import{j as e,r as d,H as I,V as A,c as R,R as z}from"./atlas__blAIce6S4mdKmJbGh_OZ.js";const P=({galaxy:t})=>e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-blue-500/30 hover:border-blue-500/50 transition-colors duration-300",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Type"}),e.jsx("div",{className:"text-xl font-bold text-blue-400",children:t.galaxy_type})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-purple-500/30 hover:border-purple-500/50 transition-colors duration-300",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Solar Systems"}),e.jsx("div",{className:"text-xl font-bold text-purple-400",children:t.num_systems.toLocaleString()})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-pink-500/30 hover:border-pink-500/50 transition-colors duration-300",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Black Holes"}),e.jsx("div",{className:"text-xl font-bold text-pink-400",children:t.black_holes.toLocaleString()})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-cyan-500/30 hover:border-cyan-500/50 transition-colors duration-300",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Pulsars"}),e.jsx("div",{className:"text-xl font-bold text-cyan-400",children:t.pulsars.toLocaleString()})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-indigo-500/30 hover:border-indigo-500/50 transition-colors duration-300",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Quasars"}),e.jsx("div",{className:"text-xl font-bold text-indigo-400",children:t.quasars.toLocaleString()})]}),e.jsx("div",{className:"bg-white/10 rounded-lg p-4 border border-gray-500/30 hover:border-gray-500/50 transition-colors duration-300",children:e.jsx("div",{className:"text-xs text-gray-400",children:"*Black holes are grouped depending on their position"})})]})}),H=({galaxyUrl:t})=>{const i=d.useRef(null),m=d.useRef(null),[o,s]=d.useState("Aligning Stargate..."),[v,r]=d.useState(!1),[l,x]=d.useState(!1),[c,p]=d.useState(!1);return d.useEffect(()=>{const a=i.current;if(!a)return;const h=a.getContext("2d");if(!h)return;let y=[];const w=800;let b,j;const g=800;let u,f=.5;function N(){const n=a?.parentElement;if(!n||!a)return;const S=n.clientWidth,k=n.clientHeight;a.width=Math.min(S,g),a.height=Math.min(k,g),b=a.width/2,j=a.height/2}function C(){N(),y=[];for(let n=0;n<w;n++)y.push({x:Math.random()*(a?.width||800),y:Math.random()*(a?.height||800),z:Math.random()*(a?.width||800),o:Math.random()});E()}function E(){!a||!h||(h.clearRect(0,0,a.width,a.height),y.forEach(n=>{n.z-=f,n.z<=0&&(n.z=a.width,n.x=Math.random()*a.width,n.y=Math.random()*a.height,n.o=Math.random());const S=a.width/n.z,k=(n.x-b)*S+b,L=(n.y-j)*S+j,M=2*S;h.beginPath(),h.fillStyle=`rgba(255, 255, 255, ${n.o})`,h.arc(k,L,M,0,2*Math.PI),h.fill()}),f<60&&(f+=1),u=requestAnimationFrame(E))}C();const $=()=>N();return window.addEventListener("resize",$),()=>{window.removeEventListener("resize",$),u&&cancelAnimationFrame(u)}},[]),d.useEffect(()=>{if(sessionStorage.getItem("stargateAnimationShown")){s("Stargate system aligned");return}sessionStorage.setItem("stargateAnimationShown","true"),r(!0);const h=(g,u)=>Array.from({length:u},()=>g[Math.floor(Math.random()*g.length)]).join(""),y=[{chars:"01",duration:40,iterations:20},{chars:"0123456789",duration:25,iterations:30},{chars:"0123456789ABCDEF",duration:20,iterations:40},{chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()-_=+[]{}|;:'\",.<>?/`~",duration:10,iterations:100}];let w=0,b=0;const j=()=>{if(w>=y.length){const u="Stargate system aligned";let f=0;s("");const N=()=>{f<u.length?(s(u.substring(0,f+1)),f++,setTimeout(N,30)):r(!1)};N();return}const g=y[w];s(h(g.chars,32)),b++,b>=g.iterations&&(w++,b=0),setTimeout(j,g.duration)};j()},[]),e.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"relative w-full h-96 sm:h-[500px] lg:h-[600px] bg-black/50 flex justify-center items-center rounded-2xl overflow-hidden border-2 border-blue-400/30",children:[e.jsx("canvas",{ref:i,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-[2500ms] ${c?"opacity-0":"opacity-100"}`,style:{filter:c?"blur(50px)":"none"}}),e.jsx("img",{ref:m,className:`absolute inset-0 w-full h-full object-cover transition-all duration-500 ${l?"opacity-100 blur-0":"opacity-0 blur-[25px]"}`,src:"/static/images/placeholder-min.jpg",alt:"Galaxy visualization",onLoad:()=>{setTimeout(()=>{x(!0),p(!0)},1500)}})]}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsxs("a",{href:t,className:`inline-block px-8 py-4 bg-gradient-to-r from-cyan-500 via-blue-500 to-cyan-500 text-white font-bold text-lg rounded-full border-2 border-cyan-400 shadow-lg hover:shadow-cyan-400/50 transition-all duration-300 transform hover:scale-105 relative overflow-hidden ${v?"animate-pulse":""}`,style:{boxShadow:"0 0 15px rgba(34, 211, 238, 0.5)"},children:[e.jsx("span",{className:"relative z-10 font-mono",children:o}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-cyan-400 to-transparent opacity-50 animate-pulse",style:{animation:"borderAnimation 2s linear infinite"}})]}),e.jsx("div",{className:"mt-4 text-xs text-gray-400 max-w-md mx-auto",children:"Right-click and select 'Copy Link' to save this Stargate location"})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes borderAnimation {
          0% {
            transform: translateX(-100%);
          }
          100% {
            transform: translateX(100%);
          }
        }
      `})]})},G=({systems:t,coordinates:i})=>{const[m,o]=d.useState(new Set);return d.useEffect(()=>{(()=>{try{const l=JSON.parse(localStorage.getItem("atlasHistoricalData")||"{}")[i]||{},x=new Set;Object.keys(l).forEach(c=>{x.add(parseInt(c))}),o(x)}catch(r){console.error("Error loading historical data:",r)}})(),(()=>{try{let r=JSON.parse(localStorage.getItem("atlasHistoricalData")||"{}");r[i]||(r[i]={}),localStorage.setItem("atlasHistoricalData",JSON.stringify(r))}catch(r){console.error("Error saving historical data:",r)}})()},[i]),e.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 shadow-2xl p-4 sm:p-6",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:t.map(s=>e.jsxs("div",{className:"relative bg-white/10 rounded-lg border border-white/20 hover:bg-white/20 hover:border-white/40 transition-all duration-300 group",children:[m.has(s.index)&&e.jsx("div",{className:"absolute left-0 top-0 w-1 h-full bg-cyan-400 rounded-l-lg opacity-100 transition-opacity duration-300",style:{background:"linear-gradient(180deg, #00d4ff 0%, #00a0ff 100%)"}}),e.jsxs("a",{href:`/system/${s.index}`,className:"block p-4 text-gray-200 hover:text-white transition-colors duration-300 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"text-sm text-gray-400 mb-1",children:["System #",s.number]}),e.jsx("div",{className:"text-lg font-semibold text-white truncate group-hover:text-blue-300 transition-colors duration-300",children:s.name})]}),e.jsx("div",{className:"ml-3 text-gray-400 group-hover:text-blue-400 transition-colors duration-300 transform group-hover:translate-x-1",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]},s.index))}),t.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-lg mb-2",children:"No systems found"}),e.jsx("div",{className:"text-gray-500 text-sm",children:"This galaxy appears to be empty"})]})]})},D=({page:t,prevPage:i,nextPage:m,finish:o})=>{const s="px-4 py-2 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105",v="bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg",r="bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white border border-white/20";return e.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 shadow-2xl p-4 sm:p-6 mb-8",children:[e.jsxs("div",{className:"flex justify-center items-center gap-2 sm:gap-4 flex-wrap",children:[t!==1&&e.jsxs("a",{href:"/galaxy?page=1",className:`${s} ${r}`,title:"First page",children:[e.jsx("span",{className:"hidden sm:inline",children:"First"}),e.jsx("span",{className:"sm:hidden",children:"«"})]}),i&&e.jsxs("a",{href:`/galaxy?page=${i}`,className:`${s} ${r}`,title:"Previous page",children:[e.jsx("span",{className:"hidden sm:inline",children:"Previous"}),e.jsx("span",{className:"sm:hidden",children:"‹"})]}),(()=>{const l=[],c=Math.max(1,t-2),p=Math.min(o,t+2);c>1&&(l.push(e.jsx("a",{href:"/galaxy?page=1",className:`${s} ${r}`,children:"1"},1)),c>2&&l.push(e.jsx("span",{className:"px-2 text-gray-400",children:"..."},"start-ellipsis")));for(let a=c;a<=p;a++)l.push(e.jsx("a",{href:a===t?void 0:`/galaxy?page=${a}`,className:`${s} ${a===t?v:r} ${a===t?"cursor-default":"cursor-pointer"}`,children:a},a));return p<o&&(p<o-1&&l.push(e.jsx("span",{className:"px-2 text-gray-400",children:"..."},"end-ellipsis")),l.push(e.jsx("a",{href:`/galaxy?page=${o}`,className:`${s} ${r}`,children:o},o))),l})(),m&&e.jsxs("a",{href:`/galaxy?page=${m}`,className:`${s} ${r}`,title:"Next page",children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"}),e.jsx("span",{className:"sm:hidden",children:"›"})]}),t!==o&&e.jsxs("a",{href:`/galaxy?page=${o}`,className:`${s} ${r}`,title:"Last page",children:[e.jsx("span",{className:"hidden sm:inline",children:"Last"}),e.jsx("span",{className:"sm:hidden",children:"»"})]})]}),e.jsxs("div",{className:"text-center mt-4 text-sm text-gray-400",children:["Page ",t," of ",o]})]})},_=({galaxy:t,systems:i,galaxy_url:m,version:o,page:s,prev_page:v,next_page:r,finish:l})=>{const[x]=d.useState(t.coordinates.join(","));d.useEffect(()=>{document.body.setAttribute("data-coordinates",x)},[x]);const c=p=>p.replace(/_/g," ");return e.jsxs("div",{className:"w-full h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-auto",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(I,{}),e.jsxs("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:["Galaxy '",c(t.name),"'"]}),e.jsxs("p",{className:"text-lg sm:text-xl text-gray-300",children:["at Coordinates ",t.coordinates.join(", ")]})]}),e.jsx(P,{galaxy:t}),e.jsx(H,{galaxyUrl:m}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:["Systems in '",c(t.name),"'"]}),e.jsx(G,{systems:i,coordinates:x})]}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6 text-center",children:e.jsx("a",{href:"/",children:e.jsx("button",{className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-gray-600 via-gray-700 to-gray-600 hover:from-gray-700 hover:via-gray-800 hover:to-gray-700 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg backdrop-blur-sm",children:e.jsx("span",{className:"text-base sm:text-lg",children:"← Go Back to Planetary Index"})})})}),e.jsx(D,{page:s,prevPage:v,nextPage:r,finish:l})]}),e.jsx(A,{version:o})]})]})};console.log("Atlas Galaxy React script loading...");document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, mounting Galaxy React component...");const t=document.getElementById("atlas-react-root");if(!t){console.error("Could not find atlas-react-root element");return}const i=window.galaxyProps||{galaxy:{name:"Unknown Galaxy",coordinates:[0,0,0],galaxy_type:"Unknown",num_systems:0,black_holes:0,pulsars:0,quasars:0},systems:[],galaxy_url:"#",version:"1.0.0",page:1,finish:1};R.createRoot(t).render(z.createElement(_,i)),console.log("Galaxy React component mounted successfully!")});
