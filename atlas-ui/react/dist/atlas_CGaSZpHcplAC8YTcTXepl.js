import{G as h,C as c,m as u,n as a,o as l,k as m,D as g,M as f,l as y}from"./atlas_Xs9BLEnnn6iCcADsGARg5.js";class R{group;shapes=[];rotationSpeeds=[];planetRadius;planetColor;constructor(s,e={}){this.group=new h,this.planetRadius=s,this.planetColor=e.planetColor||new c(8388736),e.shapes&&e.shapes.length>0&&this.createShapes(e.shapes)}createShapes(s){s&&s.forEach(e=>{let i;e.sides===3?i=new u(e.size*this.planetRadius,e.size*this.planetRadius*.8,3):e.sides===4?i=new a(e.size*this.planetRadius,e.size*this.planetRadius,e.size*this.planetRadius*.3):e.sides===6?i=new l(e.size*this.planetRadius,e.size*this.planetRadius,e.size*this.planetRadius*.3,6):i=new l(e.size*this.planetRadius,e.size*this.planetRadius,e.size*this.planetRadius*.3,e.sides);const p=.7,n=this.planetColor.clone();n.multiplyScalar(p);const d=new m({color:n,transparent:!0,opacity:.8,emissive:n.clone().multiplyScalar(.3),emissiveIntensity:.3,shininess:60,side:g}),t=new f(i,d),r=this.planetRadius*1.001;t.position.set(e.position_3d[0]*r,e.position_3d[1]*r,e.position_3d[2]*r),t.lookAt(t.position.x*2,t.position.y*2,t.position.z*2),t.rotateY(e.angle),this.shapes.push(t),this.rotationSpeeds.push(e.rotation_speed),this.group.add(t)})}update(s){this.shapes.forEach((e,i)=>{e.rotateY(this.rotationSpeeds[i]*s)})}addToScene(s,e){this.group.position.copy(e),s.add(this.group)}removeFromScene(s){s.remove(this.group)}getObject3D(){return this.group}dispose(){this.shapes.forEach(s=>{s.geometry.dispose(),s.material instanceof y&&s.material.dispose()}),this.shapes=[]}}function S(o,s,e,i){return!s.small_geometric_shapes||s.small_geometric_shapes.length===0?null:new R(o,{shapes:s.small_geometric_shapes,planetRadius:o,planetColor:i})}export{R as E,S as c};
