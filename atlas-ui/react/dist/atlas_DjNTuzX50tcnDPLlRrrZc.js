import{r as i,j as e,a as te,c as ae,R as re}from"./atlas_C3xj8MG9oH9uC54MklkAb.js";import{A as se,E as oe,D as ie,R as ne,L as le,S as w,d as z,e as W,F as ce,H as me,a as de}from"./atlas_Dd1oIz2vPimnyjaTh6Eli.js";import{g as ue,E as be,R as xe,S as ge,M as he,a as U,D as ye,T as fe}from"./atlas_BJpzWMzCSjQD1vPE6gEgw.js";import{S as q,M as J,E as pe}from"./atlas_uJRM88EpPhyLqmS8e1wo1.js";import{e as Ne}from"./atlas_BMOTvxb1A3Tqk3tQ4b7kw.js";import{V as ve}from"./atlas_DwvSdObFEIQcgn4zq5yYd.js";import"./atlas_C0q7_QgoBkw_1ECio0nFC.js";import"./atlas_jwQDkDgkbYrDf9CRKibQy.js";import"./atlas_pGQiCQeTD5l6dMUXRRcYJ.js";import"./atlas_D0eA6tgysic-V8oq2dTta.js";import"./atlas_BUJnV0krBUhxxLpEWQCvw.js";import"./atlas_DHEyh2PRya1CVc9B_tQzq.js";import"./atlas_Cs0We1NVUxzA8UwJU4DMq.js";import"./atlas_4Br5bcXbvuWUmKa_tm5wr.js";import"./atlas_CtOhIAiNHzSpXytHIyKwk.js";import"./atlas_C6pdp7ZaYdLNQa3nKe66N.js";import"./atlas_CCCB6wayl60uvstX_VV1b.js";import"./atlas_DJ7i7UfL_c0UysIQfk_Wq.js";import"./atlas_CwYcokoa2i6NGa8CMcVH-.js";import"./atlas_CDmCjAbKL2BudWSRsmj9N.js";import"./atlas_MjNYrLc1c4EY8hYLeoBxW.js";import"./atlas_BJ_QDdZoUPjYT-9n_I4Gp.js";import"./atlas_HiFslN68N6WR8NcVQRQp7.js";import"./atlas_ChinNMIx15I-x-zfb2cxc.js";import"./atlas_BK5KpVHHDMchlABYedhdJ.js";import"./atlas_D1CR0bARAX433mi1gofoX.js";import"./atlas_k2E4Oa2ZTr-ShzFQV4yGe.js";import"./atlas_CuSf8Ux199dN5TQGANNsL.js";import"./atlas_B-7ciEeDInNr7ubvXaM1p.js";import"./atlas_QIlGLcqC1yx-yIj5WPE_2.js";import"./atlas_BrtSY9WI0jnpWr8b8l2p0.js";import"./atlas_DozMyZz-MgtutptlVtnXw.js";import"./atlas_DSMMIt__RfTLlDwy5o46G.js";import"./atlas_FvuaiM6ukQxncYDnO-LRN.js";import"./atlas_AcePMkcyOwGOfjKIaBXr7.js";import"./atlas_qLVe_rIPJrOk-heQF9xYK.js";import"./atlas_CVSIdj3IKNuZh1Tc9MWju.js";import"./atlas_DEVVBRTll3E69js2-hd6f.js";import"./atlas_DJS6mCG7iAKygTFzFyy0q.js";import"./atlas_CXqOkCPqDZlFOooak3r6p.js";import"./atlas_CXGNRo_qmRRLtYwZjj9MN.js";import"./atlas_B-8_xMAZUXFU3ijFjimI-.js";import"./atlas_ZZwvv2NOfM75V8EKAgXHJ.js";import"./atlas_CNSvMCCms-TRWdl5PfLso.js";import"./atlas_DNAC-xK9EjNtVKbqCBrWr.js";import"./atlas_DleynCheRNz9nOtzxamBI.js";import"./atlas_DRk1PRoP8HUsgl6w7XFKV.js";import"./atlas_DuNAKdzbUSGhCUnfjh5BO.js";import"./atlas_D7m96u8GNCAETXWneOccD.js";import"./atlas_DDAIyn7FrSglShWFzRYs6.js";import"./atlas_CUZqEERRQBivhH-lGjb0z.js";import"./atlas_B3jNgK3wg_91IYqexUq2H.js";import"./atlas_M0UXn4YDKB4xcqAMdAR2c.js";import"./atlas_cDvRyMmiFrWDA_rD6LEQ8.js";import"./atlas_CsENJmsgVSKbIkIORp0De.js";import"./atlas_3xd9BqPYYnkrfh-Kzp59J.js";import"./atlas_B55frdK5FY4jYv3eL7WSF.js";import"./atlas_GBC17wBCdVuY879Mt3pV2.js";import"./atlas_EMT4MQkZxhiCjMEXcl8lu.js";import"./atlas_CNSwdXAEZgA__qIDxXEVA.js";import"./atlas_C3o773RrkB_QrrdANyLLX.js";import"./atlas_fEdukK2Ek4bJoqmXZLuoQ.js";import"./atlas_Cle6kZu3ADge2F2XZyyYF.js";import"./atlas_BBGO3sthS_o2yDU3NQGQW.js";import"./atlas_DsAFxLjqd-fdDTXvXH8ER.js";const je=({effects:t,onToggleEffect:a})=>{const[s,n]=i.useState(t),[c,d]=i.useState(!1);i.useEffect(()=>{n(t)},[t]);const g=(r,x)=>{n(y=>y.map(p=>p.id===r?{...p,enabled:x}:p)),a(r,x)},b=r=>({crystalline_surface:"Crystalline Surface",fire_eruption:"Fire Eruption",carbon_trails:"Carbon Trails",radiation_rings:"Radiation Rings",molten_lava:"Molten Lava",lava_flows:"Lava Flows",lava_rivers:"Lava Rivers",aquifer_water:"Aquifer Water",ocean_currents:"Ocean Currents",atmosphere_clouds:"Atmosphere Clouds",crystal_formations:"Crystal Formations",cloud_layers:"Cloud Layers",storm_systems:"Storm Systems",volcanic_activity:"Volcanic Activity",aurora:"Aurora",magnetic_field:"Magnetic Field",city_lights:"City Lights",bioluminescence:"Bioluminescence",thermal_emissions:"Thermal Emissions"})[r]||r.replace(/_/g," ").replace(/\b\w/g,y=>y.toUpperCase()).replace("Layer","").replace("Effect","").trim();return s.length===0?null:e.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"3D Effects Control"}),e.jsxs("button",{onClick:()=>d(!c),className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:[c?"Hide":"Show"," (",s.filter(r=>r.enabled).length,"/",s.length,")"]})]}),c&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:s.map(r=>e.jsxs("div",{className:"bg-white/5 rounded p-2 flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx("input",{type:"checkbox",checked:r.enabled,onChange:x=>g(r.id,x.target.checked),className:"rounded border-gray-400 text-blue-500 focus:ring-blue-500 focus:ring-offset-0 bg-white/10"}),e.jsx("span",{className:`${r.enabled?"text-white":"text-gray-500"} transition-colors`,children:b(r.type)})]}),e.jsx("span",{className:`text-[10px] ${r.enabled?"text-green-400":"text-gray-600"}`,children:r.enabled?"ON":"OFF"})]},r.id))}),c&&s.length>3&&e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{onClick:()=>{s.forEach(r=>g(r.id,!0))},className:"text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded hover:bg-green-500/30 transition-colors",children:"Enable All"}),e.jsx("button",{onClick:()=>{s.forEach(r=>g(r.id,!1))},className:"text-xs px-2 py-1 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors",children:"Disable All"})]})]})},we={Hydrogen:{symbol:"H",atomicNumber:1,category:"nonmetal"},Helium:{symbol:"He",atomicNumber:2,category:"noble-gas"},Lithium:{symbol:"Li",atomicNumber:3,category:"alkali-metal"},Beryllium:{symbol:"Be",atomicNumber:4,category:"alkaline-earth"},Boron:{symbol:"B",atomicNumber:5,category:"metalloid"},Carbon:{symbol:"C",atomicNumber:6,category:"nonmetal"},Nitrogen:{symbol:"N",atomicNumber:7,category:"nonmetal"},Oxygen:{symbol:"O",atomicNumber:8,category:"nonmetal"},Fluorine:{symbol:"F",atomicNumber:9,category:"halogen"},Neon:{symbol:"Ne",atomicNumber:10,category:"noble-gas"},Sodium:{symbol:"Na",atomicNumber:11,category:"alkali-metal"},Magnesium:{symbol:"Mg",atomicNumber:12,category:"alkaline-earth"},Aluminum:{symbol:"Al",atomicNumber:13,category:"post-transition"},Silicon:{symbol:"Si",atomicNumber:14,category:"metalloid"},Phosphorus:{symbol:"P",atomicNumber:15,category:"nonmetal"},Sulfur:{symbol:"S",atomicNumber:16,category:"nonmetal"},Chlorine:{symbol:"Cl",atomicNumber:17,category:"halogen"},Argon:{symbol:"Ar",atomicNumber:18,category:"noble-gas"},Potassium:{symbol:"K",atomicNumber:19,category:"alkali-metal"},Calcium:{symbol:"Ca",atomicNumber:20,category:"alkaline-earth"},Scandium:{symbol:"Sc",atomicNumber:21,category:"transition-metal"},Titanium:{symbol:"Ti",atomicNumber:22,category:"transition-metal"},Vanadium:{symbol:"V",atomicNumber:23,category:"transition-metal"},Chromium:{symbol:"Cr",atomicNumber:24,category:"transition-metal"},Manganese:{symbol:"Mn",atomicNumber:25,category:"transition-metal"},Iron:{symbol:"Fe",atomicNumber:26,category:"transition-metal"},Cobalt:{symbol:"Co",atomicNumber:27,category:"transition-metal"},Nickel:{symbol:"Ni",atomicNumber:28,category:"transition-metal"},Copper:{symbol:"Cu",atomicNumber:29,category:"transition-metal"},Zinc:{symbol:"Zn",atomicNumber:30,category:"post-transition"},Gallium:{symbol:"Ga",atomicNumber:31,category:"post-transition"},Germanium:{symbol:"Ge",atomicNumber:32,category:"metalloid"},Arsenic:{symbol:"As",atomicNumber:33,category:"metalloid"},Selenium:{symbol:"Se",atomicNumber:34,category:"nonmetal"},Bromine:{symbol:"Br",atomicNumber:35,category:"halogen"},Krypton:{symbol:"Kr",atomicNumber:36,category:"noble-gas"},Rubidium:{symbol:"Rb",atomicNumber:37,category:"alkali-metal"},Strontium:{symbol:"Sr",atomicNumber:38,category:"alkaline-earth"},Yttrium:{symbol:"Y",atomicNumber:39,category:"transition-metal"},Zirconium:{symbol:"Zr",atomicNumber:40,category:"transition-metal"},Niobium:{symbol:"Nb",atomicNumber:41,category:"transition-metal"},Molybdenum:{symbol:"Mo",atomicNumber:42,category:"transition-metal"},Technetium:{symbol:"Tc",atomicNumber:43,category:"transition-metal"},Ruthenium:{symbol:"Ru",atomicNumber:44,category:"transition-metal"},Rhodium:{symbol:"Rh",atomicNumber:45,category:"transition-metal"},Palladium:{symbol:"Pd",atomicNumber:46,category:"transition-metal"},Silver:{symbol:"Ag",atomicNumber:47,category:"transition-metal"},Cadmium:{symbol:"Cd",atomicNumber:48,category:"post-transition"},Indium:{symbol:"In",atomicNumber:49,category:"post-transition"},Tin:{symbol:"Sn",atomicNumber:50,category:"post-transition"},Antimony:{symbol:"Sb",atomicNumber:51,category:"metalloid"},Tellurium:{symbol:"Te",atomicNumber:52,category:"metalloid"},Iodine:{symbol:"I",atomicNumber:53,category:"halogen"},Xenon:{symbol:"Xe",atomicNumber:54,category:"noble-gas"},Cesium:{symbol:"Cs",atomicNumber:55,category:"alkali-metal"},Barium:{symbol:"Ba",atomicNumber:56,category:"alkaline-earth"},Lanthanum:{symbol:"La",atomicNumber:57,category:"lanthanide"},Cerium:{symbol:"Ce",atomicNumber:58,category:"lanthanide"},Praseodymium:{symbol:"Pr",atomicNumber:59,category:"lanthanide"},Neodymium:{symbol:"Nd",atomicNumber:60,category:"lanthanide"},Promethium:{symbol:"Pm",atomicNumber:61,category:"lanthanide"},Samarium:{symbol:"Sm",atomicNumber:62,category:"lanthanide"},Europium:{symbol:"Eu",atomicNumber:63,category:"lanthanide"},Gadolinium:{symbol:"Gd",atomicNumber:64,category:"lanthanide"},Terbium:{symbol:"Tb",atomicNumber:65,category:"lanthanide"},Dysprosium:{symbol:"Dy",atomicNumber:66,category:"lanthanide"},Holmium:{symbol:"Ho",atomicNumber:67,category:"lanthanide"},Erbium:{symbol:"Er",atomicNumber:68,category:"lanthanide"},Thulium:{symbol:"Tm",atomicNumber:69,category:"lanthanide"},Ytterbium:{symbol:"Yb",atomicNumber:70,category:"lanthanide"},Lutetium:{symbol:"Lu",atomicNumber:71,category:"lanthanide"},Hafnium:{symbol:"Hf",atomicNumber:72,category:"transition-metal"},Tantalum:{symbol:"Ta",atomicNumber:73,category:"transition-metal"},Tungsten:{symbol:"W",atomicNumber:74,category:"transition-metal"},Rhenium:{symbol:"Re",atomicNumber:75,category:"transition-metal"},Osmium:{symbol:"Os",atomicNumber:76,category:"transition-metal"},Iridium:{symbol:"Ir",atomicNumber:77,category:"transition-metal"},Platinum:{symbol:"Pt",atomicNumber:78,category:"transition-metal"},Gold:{symbol:"Au",atomicNumber:79,category:"transition-metal"},Mercury:{symbol:"Hg",atomicNumber:80,category:"post-transition"},Thallium:{symbol:"Tl",atomicNumber:81,category:"post-transition"},Lead:{symbol:"Pb",atomicNumber:82,category:"post-transition"},Bismuth:{symbol:"Bi",atomicNumber:83,category:"post-transition"},Polonium:{symbol:"Po",atomicNumber:84,category:"post-transition"},Astatine:{symbol:"At",atomicNumber:85,category:"halogen"},Radon:{symbol:"Rn",atomicNumber:86,category:"noble-gas"},Francium:{symbol:"Fr",atomicNumber:87,category:"alkali-metal"},Radium:{symbol:"Ra",atomicNumber:88,category:"alkaline-earth"},Actinium:{symbol:"Ac",atomicNumber:89,category:"actinide"},Thorium:{symbol:"Th",atomicNumber:90,category:"actinide"},Protactinium:{symbol:"Pa",atomicNumber:91,category:"actinide"},Uranium:{symbol:"U",atomicNumber:92,category:"actinide"},Neptunium:{symbol:"Np",atomicNumber:93,category:"actinide"},Plutonium:{symbol:"Pu",atomicNumber:94,category:"actinide"},Americium:{symbol:"Am",atomicNumber:95,category:"actinide"},Curium:{symbol:"Cm",atomicNumber:96,category:"actinide"},Berkelium:{symbol:"Bk",atomicNumber:97,category:"actinide"},Californium:{symbol:"Cf",atomicNumber:98,category:"actinide"},Einsteinium:{symbol:"Es",atomicNumber:99,category:"actinide"},Fermium:{symbol:"Fm",atomicNumber:100,category:"actinide"},Mendelevium:{symbol:"Md",atomicNumber:101,category:"actinide"},Nobelium:{symbol:"No",atomicNumber:102,category:"actinide"},Lawrencium:{symbol:"Lr",atomicNumber:103,category:"actinide"},Rutherfordium:{symbol:"Rf",atomicNumber:104,category:"transition-metal"},Dubnium:{symbol:"Db",atomicNumber:105,category:"transition-metal"},Seaborgium:{symbol:"Sg",atomicNumber:106,category:"transition-metal"},Bohrium:{symbol:"Bh",atomicNumber:107,category:"transition-metal"},Hassium:{symbol:"Hs",atomicNumber:108,category:"transition-metal"},Meitnerium:{symbol:"Mt",atomicNumber:109,category:"transition-metal"},Darmstadtium:{symbol:"Ds",atomicNumber:110,category:"transition-metal"},Roentgenium:{symbol:"Rg",atomicNumber:111,category:"transition-metal"},Copernicium:{symbol:"Cn",atomicNumber:112,category:"post-transition"},Nihonium:{symbol:"Nh",atomicNumber:113,category:"post-transition"},Flerovium:{symbol:"Fl",atomicNumber:114,category:"post-transition"},Moscovium:{symbol:"Mc",atomicNumber:115,category:"post-transition"},Livermorium:{symbol:"Lv",atomicNumber:116,category:"post-transition"},Tennessine:{symbol:"Ts",atomicNumber:117,category:"halogen"},Oganesson:{symbol:"Og",atomicNumber:118,category:"noble-gas"},Tritium:{symbol:"T",atomicNumber:1,category:"isotope"},"Z-Divinium":{symbol:"Zd",atomicNumber:119,category:"synthetic"}},Ee=t=>{switch(t){case"Exception":return"bg-gradient-to-br from-cyan-500/40 to-purple-600/40 border-2 border-cyan-400/90 text-cyan-100 shadow-lg shadow-cyan-400/30 animate-pulse";case"Ultra Rare":return"bg-violet-600/30 border-violet-400/80 text-violet-200 shadow-violet-400/20";case"Extremely Rare":return"bg-purple-600/30 border-purple-400/80 text-purple-200 shadow-purple-400/20";case"Very Rare":return"bg-pink-600/30 border-pink-400/80 text-pink-200 shadow-pink-400/20";case"Rare":return"bg-red-600/30 border-red-400/80 text-red-200 shadow-red-400/20";case"Uncommon":return"bg-orange-500/30 border-orange-400/80 text-orange-200 shadow-orange-400/20";case"Common":return"bg-yellow-500/30 border-yellow-400/80 text-yellow-200 shadow-yellow-400/20";case"Very Common":return"bg-green-500/30 border-green-400/80 text-green-200 shadow-green-400/20";case"Abundant":return"bg-blue-500/30 border-blue-400/80 text-blue-200 shadow-blue-400/20";case"Basic":return"bg-gray-500/30 border-gray-400/80 text-gray-200 shadow-gray-400/20";default:return"bg-gray-500/30 border-gray-400/80 text-gray-200 shadow-gray-400/20"}},Y=({elementName:t,expanded:a=!1,showResources:s=!1,className:n=""})=>{const c=we[t],d=be[t],g=ue(t);if(!c)return e.jsx("span",{className:`inline-flex items-center text-xs bg-gray-500/20 text-gray-300 px-1.5 py-0.5 rounded border border-gray-500/30 ${n}`,children:t});const b=Ee(g),r=g==="Exception";return a?e.jsxs("div",{className:`flex flex-col p-2 rounded-lg border ${b} ${r?"relative overflow-hidden":""} shadow-lg transition-all duration-200 hover:scale-105 ${n}`,children:[r&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/10 via-purple-500/10 to-cyan-400/10 animate-pulse pointer-events-none rounded-lg"}),e.jsxs("div",{className:`flex flex-col items-center justify-center h-12 w-12 mx-auto mb-2 ${r?"bg-black/30 border-cyan-400/30":"bg-black/20"} rounded border border-white/10 relative z-10`,children:[e.jsx("div",{className:`text-xs font-bold leading-none ${r?"text-cyan-100":""}`,children:c.symbol}),e.jsx("div",{className:`text-[8px] opacity-70 leading-none mt-0.5 ${r?"text-cyan-200":""}`,children:c.atomicNumber})]}),e.jsx("div",{className:`text-xs font-medium text-center leading-tight mb-1 relative z-10 ${r?"text-cyan-100 font-bold":""}`,children:t}),e.jsx("div",{className:`text-[10px] text-center mb-2 relative z-10 ${r?"text-cyan-200 font-semibold animate-pulse":"opacity-80"}`,children:g}),s&&d&&e.jsxs("div",{className:"space-y-1",children:[d.antimatter>0&&e.jsxs("div",{className:"flex justify-between text-[10px] opacity-90",children:[e.jsxs("span",{className:"text-purple-300 flex items-center gap-1",children:[e.jsx(se,{size:10,color:"currentColor"}),"Antimatter:"]}),e.jsx("span",{className:"font-mono",children:d.antimatter})]}),d.element115>0&&e.jsxs("div",{className:"flex justify-between text-[10px] opacity-90",children:[e.jsxs("span",{className:"text-cyan-300 flex items-center gap-1",children:[e.jsx(oe,{size:10,color:"currentColor"}),"Element115:"]}),e.jsx("span",{className:"font-mono",children:d.element115})]}),d.deuterium>0&&e.jsxs("div",{className:"flex justify-between text-[10px] opacity-90",children:[e.jsxs("span",{className:"text-orange-300 flex items-center gap-1",children:[e.jsx(ie,{size:10,color:"currentColor"}),"Deuterium:"]}),e.jsx("span",{className:"font-mono",children:d.deuterium})]})]})]}):e.jsxs("div",{className:`inline-flex flex-col items-center justify-center h-10 w-10 rounded border ${b} ${r?"relative overflow-hidden":""} transition-all duration-200 hover:scale-110 cursor-pointer ${n}`,children:[r&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/20 to-purple-500/20 animate-pulse pointer-events-none rounded"}),e.jsx("div",{className:`text-xs font-bold leading-none relative z-10 ${r?"text-cyan-100":""}`,children:c.symbol}),e.jsx("div",{className:`text-[8px] opacity-70 leading-none mt-0.5 relative z-10 ${r?"text-cyan-200":""}`,children:c.atomicNumber})]})},Ce=({planet:t,system:a,galaxy:s,cosmicOriginTime:n,initialAngleRotation:c,effects:d,onToggleEffect:g})=>{const[b,r]=i.useState(!1),[x,y]=i.useState({isOnCooldown:!1,isSaved:!1,isCollecting:!1,timeUntilNext:0});i.useEffect(()=>{let o;const u=()=>{const h=U.generateLocationId("planet",s.coordinates.join(","),a.index,t.name),G=U.canCollectFromLocation(h),v=U.getTimeUntilNextCollection(h),H=s.coordinates,$=q.generatePlanetUrl(H,a.index,t.name,q.getCurrentPage()),j=le.getLocations().some(C=>C.stargateUrl===$);y(C=>({isOnCooldown:!G&&v>0,isSaved:j,isCollecting:C.isCollecting,timeUntilNext:v}))},m=()=>{y(h=>({...h,isCollecting:!0})),o=setTimeout(()=>{y(h=>({...h,isCollecting:!1}))},1e3)};u();const f=setInterval(u,1e3),T=ne.subscribe("mining_completed",m);return()=>{clearInterval(f),o&&clearTimeout(o),T()}},[t.name,a.index,s.coordinates]);const p=o=>o.replace(/_/g," "),_=o=>{const u=o/86400;return u<30?`${u.toFixed(2)} days`:u<365?`${(u/30).toFixed(2)} months`:`${(u/365).toFixed(2)} years`},L=o=>{const u=o*9/5+32;return`${o.toFixed(1)}°C (${u.toFixed(1)}°F)`},k=o=>`${o.toExponential(2)} kg`,E=o=>`${o.toFixed(2)} km`;return e.jsxs("div",{className:"h-full flex flex-col relative",children:[e.jsxs("div",{className:"absolute top-0 right-0 flex gap-2 z-10",children:[e.jsx(xe,{locationType:"planet",locationId:t.name,coordinates:s.coordinates.join(","),systemIndex:a.index,planetName:t.name,planetElements:t.elements,className:"text-xs"}),e.jsx(ge,{type:"planet",name:t.name,coordinates:s.coordinates.join(","),systemIndex:a.index,planetName:t.name,className:"text-xs"}),e.jsx("div",{className:"inline-flex items-center bg-green-500/20 border border-green-500/50 text-green-400 text-[10px] font-medium px-1.5 py-0.5 rounded h-[21px] box-border",children:"VISITED"})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(he,{isOnCooldown:x.isOnCooldown,isSaved:x.isSaved,isCollecting:x.isCollecting}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Details"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-blue-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200",children:"Type"}),e.jsx("div",{className:"text-sm font-bold text-blue-300 capitalize",children:t.planet_type})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-purple-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200",children:"Atmosphere"}),e.jsx("div",{className:"text-sm font-bold text-purple-300 capitalize",children:t.atmosphere})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-green-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200",children:"Life Forms"}),e.jsx("div",{className:"text-sm font-bold text-green-300 capitalize",children:t.life_forms})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-orange-500/30 mb-3",children:[e.jsx("div",{className:"text-xs text-gray-200 mb-2",children:"Physical Properties"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-1",children:[e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Mass"}),e.jsx("div",{className:"text-xs font-bold text-orange-300",children:k(t.mass)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Diameter"}),e.jsx("div",{className:"text-xs font-bold text-orange-300",children:E(t.diameter)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Density"}),e.jsxs("div",{className:"text-xs font-bold text-orange-300",children:[t.density.toFixed(2)," kg/m³"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Gravity"}),e.jsxs("div",{className:"text-xs font-bold text-orange-300",children:[t.gravity.toFixed(2)," m/s²"]})]})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-cyan-500/30 mb-3",children:[e.jsx("div",{className:"text-xs text-gray-200 mb-2",children:"Orbital Properties"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-1",children:[e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Radius"}),e.jsxs("div",{className:"text-xs font-bold text-cyan-300",children:[t.orbital_radius.toFixed(2)," AU"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Period"}),e.jsx("div",{className:"text-xs font-bold text-cyan-300",children:_(t.orbital_period_seconds)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Speed"}),e.jsxs("div",{className:"text-xs font-bold text-cyan-300",children:[t.orbital_speed.toFixed(2)," m/s"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Tilt"}),e.jsxs("div",{className:"text-xs font-bold text-cyan-300",children:[t.axial_tilt.toFixed(2),"°"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-red-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200 mb-2",children:"Surface Conditions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-red-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Temperature"}),e.jsx("div",{className:"text-xs font-bold text-red-300",children:L(t.surface_temperature)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-red-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Rotation"}),e.jsx("div",{className:"text-xs font-bold text-red-300",children:_(t.rotation_period_seconds)})]})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-yellow-500/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"text-xs text-gray-200",children:["Elements (",t.elements.length,")"]}),e.jsx("button",{onClick:()=>r(!b),className:"text-xs text-yellow-400 hover:text-yellow-300 transition-colors duration-300",children:b?"▲ Collapse":"▼ Expand"})]}),b?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2",children:t.elements.map((o,u)=>e.jsx(Y,{elementName:o,expanded:!0,showResources:!0,className:"min-w-0"},u))}):e.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[t.elements.slice(0,6).map((o,u)=>e.jsx(Y,{elementName:o,expanded:!1,className:""},u)),t.elements.length>6&&e.jsxs("div",{className:"inline-flex items-center justify-center h-10 w-10 rounded border border-dashed border-yellow-500/50 text-yellow-400 text-xs",children:["+",t.elements.length-6]})]})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Technical Data"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Status:"}),e.jsx("div",{className:"text-green-400 font-medium",children:"Visited"})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Planet:"}),e.jsx("div",{className:"text-white truncate font-medium",children:p(t.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"System:"}),e.jsx("div",{className:"text-white truncate font-medium",children:p(a.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"System ID:"}),e.jsxs("div",{className:"text-white font-medium",children:["#",a.index+1]})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Galaxy:"}),e.jsx("div",{className:"text-white truncate font-medium",children:p(s.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Coordinates:"}),e.jsx("div",{className:"text-white font-medium",children:s.coordinates.join(", ")})]})]})]}),d&&g&&e.jsx(je,{effects:d,onToggleEffect:g})]})},_e=({planet:t,cosmicOriginTime:a,initialAngleRotation:s,onEffectsCreated:n})=>{const c=d=>{d.key==="Escape"&&document.dispatchEvent(new CustomEvent("planet-close-fullscreen"))};return i.useEffect(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[]),e.jsx("div",{className:"w-full h-full",children:e.jsx(J,{planetName:t.name,containerClassName:"w-full h-full",autoRotate:!1,enableControls:!0,showDebugInfo:!1,...n&&{onEffectsCreated:n},planetData:{name:t.name,diameter:t.diameter,density:t.density,gravity:t.gravity,mass:t.mass,orbital_radius:t.orbital_radius,orbital_period_seconds:t.orbital_period_seconds,rotation_period_seconds:t.rotation_period_seconds,surface_temperature:t.surface_temperature,axial_tilt:t.axial_tilt,planet_type:t.planet_type,atmosphere:t.atmosphere,elements:t.elements,initial_orbital_angle:t.initial_orbital_angle||0},cosmicOriginTime:a,initialAngleRotation:s})})},Se=({planetUrl:t,planet:a,cosmicOriginTime:s,initialAngleRotation:n,onEffectsCreated:c,effects:d,onToggleEffect:g})=>{const b=i.useRef(null),r=i.useRef(null),[x,y]=i.useState("Aligning Stargate..."),[p,_]=i.useState(!1),[L,k]=i.useState(!1),[E,o]=i.useState(!1),[u,m]=i.useState(!1),[f,T]=i.useState(!1),[h,G]=i.useState(!1),[v,H]=i.useState(!1),$=()=>{T(!0),setTimeout(()=>{m(!1),T(!1)},300)};return i.useEffect(()=>{d&&g&&d.forEach(l=>{Ne.toggleEffect(l.id,l.enabled)})},[d]),i.useEffect(()=>{const l=b.current;if(!l)return;const j=l.getContext("2d");if(!j)return;let C=[];const B=800;let I,P;const S=800;let A,M=.5;function D(){const N=l?.parentElement;if(!N||!l)return;const O=N.clientWidth,V=N.clientHeight;l.width=Math.min(O,S),l.height=Math.min(V,S),I=l.width/2,P=l.height/2}function X(){D(),C=[];for(let N=0;N<B;N++)C.push({x:Math.random()*(l?.width||800),y:Math.random()*(l?.height||800),z:Math.random()*(l?.width||800),o:Math.random()});Z()}function Z(){!l||!j||(j.clearRect(0,0,l.width,l.height),C.forEach(N=>{N.z-=M,N.z<=0&&(N.z=l.width,N.x=Math.random()*l.width,N.y=Math.random()*l.height,N.o=Math.random());const O=l.width/N.z,V=(N.x-I)*O+I,Q=(N.y-P)*O+P,ee=2*O;j.beginPath(),j.fillStyle=`rgba(255, 255, 255, ${N.o})`,j.arc(V,Q,ee,0,2*Math.PI),j.fill()}),M<60&&(M+=1),A=requestAnimationFrame(Z))}X();const K=()=>D();return window.addEventListener("resize",K),()=>{window.removeEventListener("resize",K),A&&cancelAnimationFrame(A)}},[]),i.useEffect(()=>{k(!0),setTimeout(()=>{o(!0)},800)},[]),i.useEffect(()=>{if(sessionStorage.getItem("stargateAnimationShown")){y("Stargate system aligned");return}sessionStorage.setItem("stargateAnimationShown","true"),_(!0);const j=(S,A)=>Array.from({length:A},()=>S[Math.floor(Math.random()*S.length)]).join(""),C=[{chars:"01",duration:40,iterations:20},{chars:"0123456789",duration:25,iterations:30},{chars:"0123456789ABCDEF",duration:20,iterations:40},{chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()-_=+[]{}|;:\\'\",.<>?/`~",duration:10,iterations:100}];let B=0,I=0;const P=()=>{if(B>=C.length){const A="Stargate system aligned";let M=0;y("");const D=()=>{M<A.length?(y(A.substring(0,M+1)),M++,setTimeout(D,30)):_(!1)};D();return}const S=C[B];y(j(S.chars,32)),I++,I>=S.iterations&&(B++,I=0),setTimeout(P,S.duration)};P()},[]),i.useEffect(()=>(document.addEventListener("planet-close-fullscreen",$),()=>{document.removeEventListener("planet-close-fullscreen",$)}),[]),i.useEffect(()=>{if(h){const l=setTimeout(()=>G(!1),50);return()=>clearTimeout(l)}},[h]),i.useEffect(()=>{const l=setInterval(()=>{r.current&&v&&!r.current.isGeneratingImage&&v&&H(!1)},50);return()=>clearInterval(l)},[v]),e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("h3",{className:"text-sm font-medium text-white",children:a?.name||"Planet"})}),e.jsxs("div",{className:"relative w-full max-w-80 sm:max-w-96 aspect-square mx-auto bg-black flex justify-center items-center rounded-xl overflow-hidden border-2 border-blue-400/30 mb-4",children:[e.jsx("canvas",{ref:b,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-[2500ms] ${E?"opacity-0":"opacity-100"}`,style:{filter:E?"blur(50px)":"none"}}),L&&a&&e.jsxs("div",{className:`planet-renderer-container absolute inset-0 w-full h-full transition-all duration-500 ${L&&E?"opacity-100 blur-0":"opacity-0 blur-[25px]"}`,children:[e.jsx(J,{ref:r,planetName:a.name,containerClassName:"w-full h-full",autoRotate:!1,enableControls:!0,showDebugInfo:!1,onEffectsCreated:c,planetData:{name:a.name,diameter:a.diameter,density:a.density,gravity:a.gravity,mass:a.mass,orbital_radius:a.orbital_radius,orbital_period_seconds:a.orbital_period_seconds,rotation_period_seconds:a.rotation_period_seconds,surface_temperature:a.surface_temperature,axial_tilt:a.axial_tilt,planet_type:a.planet_type,atmosphere:a.atmosphere,elements:a.elements,initial_orbital_angle:a.initial_orbital_angle||0},cosmicOriginTime:s,initialAngleRotation:n,planetUrl:t}),e.jsx(pe,{isVisible:v}),E&&e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 z-10",children:[e.jsx("button",{onClick:()=>{r.current&&!v&&(H(!0),r.current.captureScreenshot())},disabled:v,className:`p-2 border border-white/30 rounded-lg transition-all duration-200 backdrop-blur-sm shadow-lg ${v?"bg-black/40 cursor-not-allowed opacity-50":"bg-black/60 hover:bg-black/80"}`,title:v?"Generating image...":"Download 4K screenshot",children:v?e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(ye,{className:"w-4 h-4 text-white"})}),e.jsx("button",{onClick:()=>{v||(m(!0),G(!0))},disabled:v,className:`p-2 border border-white/30 rounded-lg transition-all duration-200 backdrop-blur-sm shadow-lg ${v?"bg-black/40 cursor-not-allowed opacity-50":"bg-black/60 hover:bg-black/80"}`,title:v?"Please wait...":"Expand to fullscreen",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]})]})]}),e.jsxs("div",{className:"text-center mt-auto",children:[e.jsxs("a",{href:t,className:`inline-block px-4 py-2 bg-gradient-to-r from-slate-800 via-slate-700 to-slate-800 text-gray-200 font-medium text-sm rounded-lg border border-slate-600 hover:border-slate-500 shadow-md hover:shadow-lg transition-all duration-300 relative overflow-hidden group ${p?"animate-pulse":""}`,style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:[e.jsxs("span",{className:"relative z-10 font-mono flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.736 6.979C9.208 6.193 9.696 6 10 6s.792.193 1.264.979a1 1 0 001.715-1.029C12.279 4.784 11.232 4 10 4s-2.279.784-2.979 1.95a1 1 0 001.715 1.029zM8.5 10a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM10 14c-.304 0-.792-.193-1.264-.979a1 1 0 00-1.715 1.029C7.721 15.216 8.768 16 10 16s2.279-.784 2.979-1.95a1 1 0 00-1.715-1.029C10.792 13.807 10.304 14 10 14z",clipRule:"evenodd"})}),x]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-slate-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"Gateway to the stars"})]}),u&&a&&te.createPortal(e.jsx("div",{className:`fixed inset-0 z-50 bg-black/95 backdrop-blur-xl transition-all duration-300 ${f||h?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:e.jsxs("div",{className:`w-full h-full flex flex-col p-1 sm:p-2 transition-all duration-300 delay-75 ${f||h?"opacity-0 translate-y-4":"opacity-100 translate-y-0"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[e.jsx("div",{className:"block sm:hidden",children:e.jsx("h2",{className:"text-xs font-medium text-white",children:"Planet View"})}),e.jsx("div",{className:"hidden sm:block",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Planet Visualization"}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Name: ",a.name," • Type: ",a.planet_type]})]})}),e.jsx("button",{onClick:$,className:"p-0.5 sm:p-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 rounded transition-colors duration-200 text-red-400 hover:text-red-300",title:"Close",children:e.jsx("svg",{className:"w-3 h-3 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex-1 border border-white/20 rounded-lg bg-black/20 overflow-hidden min-h-0",children:e.jsx(_e,{planet:a,cosmicOriginTime:s,initialAngleRotation:n})}),e.jsxs("div",{className:"mt-2 sm:mt-4 text-center text-xs sm:text-sm text-gray-400",children:[e.jsx("div",{className:"hidden sm:block",children:"Mouse: Rotate • Scroll: Zoom • ESC: Close"}),e.jsx("div",{className:"sm:hidden",children:"Pinch: Zoom • Drag: Rotate • ESC: Close"})]})]})}),document.body)]})},Le=({currentPlanet:t,system:a,galaxy:s,systemPlanets:n})=>{const[c,d]=i.useState(null),[g,b]=i.useState(null),[r,x]=i.useState(!1),[y,p]=i.useState(!1),[_,L]=i.useState(!0);i.useEffect(()=>{if(n&&n.length>0){const o=n.findIndex(u=>u.name.toLowerCase()===t.toLowerCase());o!==-1?(o>0?(d(n[o-1].name.toLowerCase()),x(!0)):a.index>0?(d("__prev_system__"),x(!0)):x(!1),o<n.length-1?(b(n[o+1].name.toLowerCase()),p(!0)):(b("__next_system__"),p(!0))):(x(!1),p(!1))}else x(!1),p(!1);L(!1)},[t,a.index,n]);const k=async()=>{const o=s.coordinates.join(",");if(c==="__prev_system__"){if(!w.canAffordTravel("system",1)){w.executeTravel("system",1);return}if(!w.executeTravel("system",1))return;try{const m=await fetch(`/system/${a.index-1}`,{headers:{Accept:"application/json"}});if(m.ok){const f=await m.json();if(f.system&&f.system.planets&&f.system.planets.length>0){const h=f.system.planets[f.system.planets.length-1].name.toLowerCase();z(o,a.index-1,h,f.system.planets),W(o,a.index-1),window.location.href=`/planet/${h}`;return}}window.location.href=`/system/${a.index-1}`}catch{window.location.href=`/system/${a.index-1}`}}else if(c){if(!w.canAffordTravel("planet",1)){w.executeTravel("planet",1);return}if(!w.executeTravel("planet",1))return;z(o,a.index,c,n),window.location.href=`/planet/${c}`}},E=async()=>{const o=s.coordinates.join(",");if(g==="__next_system__"){if(!w.canAffordTravel("system",1)){w.executeTravel("system",1);return}if(!w.executeTravel("system",1))return;try{const m=await fetch(`/system/${a.index+1}`,{headers:{Accept:"application/json"}});if(m.ok){const f=await m.json();if(f.system&&f.system.planets&&f.system.planets.length>0){const h=f.system.planets[0].name.toLowerCase();z(o,a.index+1,h,f.system.planets),W(o,a.index+1),window.location.href=`/planet/${h}`;return}}window.location.href=`/system/${a.index+1}`}catch{window.location.href=`/system/${a.index+1}`}}else if(g){if(!w.canAffordTravel("planet",1)){w.executeTravel("planet",1);return}if(!w.executeTravel("planet",1))return;z(o,a.index,g,n),window.location.href=`/planet/${g}`}};return _?null:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:k,disabled:!r,className:`flex items-center justify-center px-3 py-1.5 rounded-lg transition-all duration-200 ${r?"bg-white/10 hover:bg-white/20 border border-white/20 text-white hover:text-blue-300":"bg-white/5 border border-white/10 text-gray-600 cursor-not-allowed"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:E,disabled:!y,className:`flex items-center justify-center px-3 py-1.5 rounded-lg transition-all duration-200 ${y?"bg-white/10 hover:bg-white/20 border border-white/20 text-white hover:text-blue-300":"bg-white/5 border border-white/10 text-gray-600 cursor-not-allowed"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})})};class F{static instance;_effectsControlEnabled=!1;_effectsLoggingEnabled=!0;_debugLogsEnabled=!0;listeners=[];static getInstance(){return F.instance||(F.instance=new F),F.instance}get ENABLE_EFFECTS_CONTROL(){return this._effectsControlEnabled}get ENABLE_EFFECTS_LOGGING(){return this._effectsLoggingEnabled}get ENABLE_DEBUG_LOGS(){return this._debugLogsEnabled}toggleEffectsControl(){this._effectsControlEnabled=!this._effectsControlEnabled,this.notifyListeners()}enableEffectsControl(){this._effectsControlEnabled=!0,this.notifyListeners()}disableEffectsControl(){this._effectsControlEnabled=!1,this.notifyListeners()}addListener(a){this.listeners.push(a)}removeListener(a){this.listeners=this.listeners.filter(s=>s!==a)}notifyListeners(){this.listeners.forEach(a=>a())}}const R=F.getInstance();R.ENABLE_EFFECTS_CONTROL;R.ENABLE_EFFECTS_LOGGING;R.ENABLE_DEBUG_LOGS;const ke=()=>{i.useEffect(()=>{let t="",a;const s=n=>{n.key.match(/^[a-zA-Z]$/)&&(t+=n.key.toUpperCase(),a&&clearTimeout(a),a=setTimeout(()=>{t=""},2e3),t.includes("ATLAS")&&(R.enableEffectsControl(),t="",a&&clearTimeout(a)),t.length>10&&(t=t.slice(-10)))};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s),a&&clearTimeout(a)}},[])},Te=({planet:t,system:a,galaxy:s,planet_url:n,version:c,image_url:d,cosmic_origin_time:g,initial_angle_rotation:b})=>{const[r]=i.useState(s.coordinates.join(",")),[x,y]=i.useState([]),[p,_]=i.useState(R.ENABLE_EFFECTS_CONTROL);ke();const L=m=>{y(m)},k=(m,f)=>{y(T=>T.map(h=>h.id===m?{...h,enabled:f}:h))};i.useEffect(()=>{document.body.setAttribute("data-coordinates",r),document.body.setAttribute("data-system-index",a.index.toString()),document.body.setAttribute("data-planet-name",t.name.toLowerCase()),z(r,a.index,t.name,a.planets||[]),W(r,a.index)},[r,a.index,t.name]),i.useEffect(()=>{const m=()=>{_(R.ENABLE_EFFECTS_CONTROL)};return R.addListener(m),()=>{R.removeListener(m)}},[]);const E=m=>m.replace(/_/g," "),o=m=>m.replace(/_/g," "),u=m=>m.replace(/_/g," ");return e.jsxs("div",{className:"w-full h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-auto",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsx(ce,{}),e.jsxs("div",{className:"relative z-10 pt-1",children:[e.jsx(me,{}),e.jsxs("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex items-center justify-center gap-4 mb-4",children:e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:["Planet '",E(t.name),"'"]})}),e.jsxs("p",{className:"text-lg sm:text-xl text-gray-300",children:["in System '",o(a.name),"' - Galaxy '",u(s.name),"'"]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-400",children:["Coordinates ",s.coordinates.join(", ")]})]}),e.jsx(Le,{currentPlanet:t.name,system:a,galaxy:s,systemPlanets:a.planets||[]}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[400px_1fr] gap-6 lg:gap-8 relative",children:[e.jsx("div",{className:"order-1 lg:order-1",children:e.jsx(Se,{planetUrl:n,planet:{...t,name:E(t.name)},cosmicOriginTime:g,initialAngleRotation:b,onEffectsCreated:L,effects:x,onToggleEffect:k})}),e.jsx("div",{className:"hidden lg:block absolute left-[416px] top-0 bottom-0 w-1 rounded-full bg-white/10 -translate-x-1.5"}),e.jsx("div",{className:"order-2 lg:order-2",children:e.jsx(Ce,{planet:t,system:a,galaxy:s,cosmicOriginTime:g,initialAngleRotation:b,effects:p?x:void 0,onToggleEffect:p?k:void 0})})]})}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6 text-center",children:e.jsx("button",{onClick:()=>window.location.href=`/system/${a.index}`,className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-gray-600 via-gray-700 to-gray-600 hover:from-gray-700 hover:via-gray-800 hover:to-gray-700 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg backdrop-blur-sm",children:e.jsxs("span",{className:"text-base sm:text-lg",children:["← Back to System '",o(a.name),"'"]})})})]}),e.jsx(ve,{version:c})]}),e.jsx(fe,{}),e.jsx(de,{currentLocation:{type:"planet",name:t.name,coordinates:s.coordinates.join(","),systemIndex:a.index,planetName:t.name}})]})};document.addEventListener("DOMContentLoaded",async()=>{try{const t=document.getElementById("planet-data"),a=document.getElementById("system-data"),s=document.getElementById("galaxy-data"),n=document.getElementById("meta-data");if(!t||!a||!s||!n)return;const c=JSON.parse(t.textContent||"{}"),d=JSON.parse(a.textContent||"{}"),g=JSON.parse(s.textContent||"{}"),b=JSON.parse(n.textContent||"{}"),r={planet:c,system:d,galaxy:g,planet_url:b.planet_url,version:b.version,image_url:b.image_url,cosmic_origin_time:b.cosmic_origin_time,initial_angle_rotation:b.initial_angle_rotation},x=document.getElementById("atlas-react-root");x&&ae.createRoot(x).render(re.createElement(Te,r))}catch{}});
