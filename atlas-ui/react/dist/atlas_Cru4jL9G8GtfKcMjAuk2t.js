import{S as s}from"./atlas_CGrAwTYnSDNTtni2msvpu.js";import{C as o}from"./atlas_BptVXGp7hwWSDe7IbaYgj.js";const i={REFRACTION_INDEX:{min:2,max:2.8},DISPERSION:{min:.3,max:.8},CLARITY:{min:.6,max:.95},FACET_SIZE:{min:12,max:32},BRILLIANCE:{min:1.5,max:3},OPACITY:{min:.4,max:.85},PRISMATIC_INTENSITY:{min:.4,max:.9},IRIDESCENCE_INTENSITY:{min:.3,max:.8},IRIDESCENCE_RANGE:{min:.5,max:1.5},IRIDESCENCE_SPEED:{min:.2,max:.6},IRIDESCENCE_SCALE:{min:.8,max:2.5}};class l{_layerMesh;material;params;layerSystem;constructor(I,e={}){this.layerSystem=I;const r=e.seed||Math.floor(Math.random()*1e6),E=new s(r),a=e.color instanceof o?e.color:e.color?new o(e.color):new o(16777215);this.params={color:a,refractionIndex:e.refractionIndex||E.uniform(i.REFRACTION_INDEX.min,i.REFRACTION_INDEX.max),dispersion:e.dispersion||E.uniform(i.DISPERSION.min,i.DISPERSION.max),clarity:e.clarity||E.uniform(i.CLARITY.min,i.CLARITY.max),facetSize:e.facetSize!==void 0?e.facetSize:E.uniform(i.FACET_SIZE.min,i.FACET_SIZE.max),brilliance:e.brilliance||E.uniform(i.BRILLIANCE.min,i.BRILLIANCE.max),opacity:e.opacity||E.uniform(i.OPACITY.min,i.OPACITY.max),seed:r,prismaticIntensity:e.prismaticIntensity||E.uniform(i.PRISMATIC_INTENSITY.min,i.PRISMATIC_INTENSITY.max),iridescenceIntensity:e.iridescenceIntensity||E.uniform(i.IRIDESCENCE_INTENSITY.min,i.IRIDESCENCE_INTENSITY.max),iridescenceRange:e.iridescenceRange||E.uniform(i.IRIDESCENCE_RANGE.min,i.IRIDESCENCE_RANGE.max),iridescenceSpeed:e.iridescenceSpeed||E.uniform(i.IRIDESCENCE_SPEED.min,i.IRIDESCENCE_SPEED.max),iridescenceScale:e.iridescenceScale||E.uniform(i.IRIDESCENCE_SCALE.min,i.IRIDESCENCE_SCALE.max)},this.material=this.layerSystem.createDiamondSurfaceLayerMaterial(this.params),this._layerMesh=this.layerSystem.addEffectLayer("diamondSurface",this.material,this.layerSystem.getNextScaleFactor(),this)}update(I){this.material.uniforms.time&&(this.material.uniforms.time.value+=I)}dispose(){}}function _(t,I,e){const r=I.surface||{},E=I.surface_elements||{},a=I.base_color||I.planet_info?.base_color||r.base_color,S=e||Math.floor(Math.random()*1e6),n=new s(S+8e3),C=n.uniform(.9,1.1),m=E.surface||r,N=n.uniform(.8,1.3),R=(m.brilliance||n.uniform(i.BRILLIANCE.min,i.BRILLIANCE.max))*N,c=n.uniform(.7,1),f=n.uniform(i.FACET_SIZE.min,i.FACET_SIZE.max)*C;return new l(t,{color:a?new o(a):new o(8421504),refractionIndex:m.refraction||n.uniform(i.REFRACTION_INDEX.min,i.REFRACTION_INDEX.max),dispersion:m.dispersion||n.uniform(i.DISPERSION.min,i.DISPERSION.max),clarity:(m.clarity||n.uniform(i.CLARITY.min,i.CLARITY.max))*c,facetSize:f,brilliance:R,opacity:n.uniform(i.OPACITY.min,i.OPACITY.max)*c,seed:S,prismaticIntensity:(m.prismatic||n.uniform(i.PRISMATIC_INTENSITY.min,i.PRISMATIC_INTENSITY.max))*c,iridescenceIntensity:n.uniform(i.IRIDESCENCE_INTENSITY.min,i.IRIDESCENCE_INTENSITY.max)*c,iridescenceRange:n.uniform(i.IRIDESCENCE_RANGE.min,i.IRIDESCENCE_RANGE.max),iridescenceSpeed:n.uniform(i.IRIDESCENCE_SPEED.min,i.IRIDESCENCE_SPEED.max),iridescenceScale:n.uniform(i.IRIDESCENCE_SCALE.min,i.IRIDESCENCE_SCALE.max)})}export{_ as c};
