import{S as T}from"./atlas_DkjWl6DBdcRHoaQOD3LxM.js";import{C as a}from"./atlas_Dr7FhitegIaVfnn-NnCom.js";const t={ICE_REFLECTIVITY:{min:.7,max:.95},FROST_DENSITY:{min:.3,max:.8},CRACK_INTENSITY:{min:.2,max:.7},OPACITY:{min:.6,max:.9},CRYSTAL_SCALE:{min:15,max:35},CRYSTAL_DENSITY:{min:.4,max:.8},CRYSTAL_SHARPNESS:{min:100,max:250},FROST_PATTERN:{min:8,max:16}};class m{layerMesh;material;params;layerSystem;constructor(o,e={}){this.layerSystem=o;const i=e.seed||Math.floor(Math.random()*1e6),r=new T(i),s=e.color instanceof a?e.color:e.color?Array.isArray(e.color)?new a(e.color[0],e.color[1],e.color[2]):new a(e.color):new a(11591910);this.params={color:s,iceReflectivity:e.iceReflectivity||r.uniform(t.ICE_REFLECTIVITY.min,t.ICE_REFLECTIVITY.max),frostDensity:e.frostDensity||r.uniform(t.FROST_DENSITY.min,t.FROST_DENSITY.max),crackIntensity:e.crackIntensity||r.uniform(t.CRACK_INTENSITY.min,t.CRACK_INTENSITY.max),opacity:e.opacity||r.uniform(t.OPACITY.min,t.OPACITY.max),crystalScale:e.crystalScale||r.uniform(t.CRYSTAL_SCALE.min,t.CRYSTAL_SCALE.max),crystalDensity:e.crystalDensity||r.uniform(t.CRYSTAL_DENSITY.min,t.CRYSTAL_DENSITY.max),crystalSharpness:e.crystalSharpness||r.uniform(t.CRYSTAL_SHARPNESS.min,t.CRYSTAL_SHARPNESS.max),frostPattern:e.frostPattern||r.uniform(t.FROST_PATTERN.min,t.FROST_PATTERN.max),seed:i},this.material=this.layerSystem.createIcyTerrainLayerMaterial(this.params),this.layerMesh=this.layerSystem.addEffectLayer("icyTerrain",this.material,this.layerSystem.getNextScaleFactor(),this)}update(o){this.material.uniforms.time&&(this.material.uniforms.time.value+=o)}dispose(){}}function y(S,o,e){const i=o.surface||{},r=o.planet_info?.base_color||i.base_color,s=e||Math.floor(Math.random()*1e6),n=new T(s+6e3);return new m(S,{color:r?new a(r):new a(11591910),iceReflectivity:i.ice_reflectivity||n.uniform(t.ICE_REFLECTIVITY.min,t.ICE_REFLECTIVITY.max),frostDensity:i.frost_density||n.uniform(t.FROST_DENSITY.min,t.FROST_DENSITY.max),crackIntensity:i.crack_intensity||n.uniform(t.CRACK_INTENSITY.min,t.CRACK_INTENSITY.max),opacity:n.uniform(t.OPACITY.min,t.OPACITY.max),crystalScale:i.crystal_scale||n.uniform(t.CRYSTAL_SCALE.min,t.CRYSTAL_SCALE.max),crystalDensity:i.crystal_density||n.uniform(t.CRYSTAL_DENSITY.min,t.CRYSTAL_DENSITY.max),crystalSharpness:i.crystal_sharpness||n.uniform(t.CRYSTAL_SHARPNESS.min,t.CRYSTAL_SHARPNESS.max),frostPattern:i.frost_pattern||n.uniform(t.FROST_PATTERN.min,t.FROST_PATTERN.max),seed:s})}export{y as c};
