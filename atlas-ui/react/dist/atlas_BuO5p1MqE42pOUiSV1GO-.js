import{r as h,j as e,H as He,V as Pe,c as ye,R as je}from"./atlas_DVrnBBsgS-kH5xseABxRO.js";import{S as Ee,C as Se,P as Le,W as ke,G as Me,B as Ce,E as ze,L as De,a as Re,b as de,c as V,M as q,d as U,V as te,e as Ge,f as Be,g as _e,A as Ie,D as $e,h as Ae,i as Ye,j as Te}from"./atlas_JzQmrLPlfVl9nkKnI5Ba8.js";import{U as Fe}from"./atlas_QBkh70FCifb1U4lxZZBFq.js";const We=({coordinates:a,galaxyName:r})=>{const i=h.useRef(null),c=h.useRef(null),l=h.useRef(null),N=h.useRef(null);return h.useEffect(()=>{if(!i.current)return;const o=i.current,w=o.clientWidth,C=o.clientHeight,u=new Ee;u.background=new Se(657930),c.current=u;const g=new Le(45,w/C,.1,1e3);g.position.set(20,15,20),g.lookAt(0,0,0);const m=new ke({antialias:!0,alpha:!0});m.setSize(w,C),m.setClearColor(0,.2),l.current=m,o.appendChild(m.domElement);const n=0,d=1e7,k=5e6,[G,M,E]=a,b=((G-n)/(d-n)-.5)*16,S=((M-n)/(d-n)-.5)*16,z=((E-n)/(d-n)-.5)*16,x=new Me;u.add(x);const Z=new Ce(16,16,16),H=new ze(Z),P=new De({color:16777215,opacity:.4,transparent:!0,linewidth:2}),y=new Re(H,P);x.add(y);const B=new de(16,16,16777215,16777215);B.material.opacity=.1,B.material.transparent=!0,B.position.y=-8,x.add(B);const _=new de(16,16,16777215,16777215);_.material.opacity=.05,_.material.transparent=!0,_.rotation.z=Math.PI/2,_.position.x=-8,x.add(_);const v=new de(16,16,16777215,16777215);v.material.opacity=.05,v.material.transparent=!0,v.rotation.x=Math.PI/2,v.position.z=-8,x.add(v);const J=new V(.5,32,32),me=new q({color:16777215,transparent:!0,opacity:.9}),K=new U(J,me);K.position.set(0,0,0),x.add(K);const we=new U(new V(.8,32,32),new q({color:16777215,transparent:!0,opacity:.2}));K.add(we);const Q=new V(.4,32,32),F=new q({color:6605055,transparent:!0,opacity:1}),I=new U(Q,F);I.position.set(b,S,z),x.add(I);const ge=new U(new V(.7,32,32),new q({color:6605055,transparent:!0,opacity:.3}));if(I.add(ge),Math.sqrt(Math.pow(G-k,2)+Math.pow(M-k,2)+Math.pow(E-k,2))<2e6){const t=[new te(0,0,0),new te(b,S,z)],j=new Ge().setFromPoints(t),s=new Be({color:16762980,dashSize:.6,gapSize:.6,opacity:.4,transparent:!0,linewidth:2}),f=new _e(j,s);f.computeLineDistances(),x.add(f)}const se=new Ie(4210752,.6);u.add(se);const fe=new $e(16777215,.8);fe.position.set(10,10,10),u.add(fe);const ae=(t,j)=>{const s=document.createElement("canvas"),f=s.getContext("2d");if(!f)return null;s.width=64,s.height=64,f.fillStyle=`#${j.toString(16).padStart(6,"0")}`,f.font="bold 48px Arial",f.textAlign="center",f.textBaseline="middle",f.fillText(t,32,32);const D=new Ae(s),R=new Ye({map:D,transparent:!0,opacity:.8}),ee=new Te(R);return ee.scale.set(1.6,1.6,1),ee},ne=ae("X",16739179);ne&&(ne.position.set(8.4,-7.6,-7.6),x.add(ne));const W=ae("Y",7077739);W&&(W.position.set(-7.6,8.4,-7.6),x.add(W));const ue=ae("Z",7039999);ue&&(ue.position.set(-7.6,-7.6,8.4),x.add(ue));let $=!1,O=0,A=0,Y=!0,T=0;const oe=t=>{$=!0,Y=!1,O=t.clientX,A=t.clientY},re=t=>{if(!$)return;const j=t.clientX-O,s=t.clientY-A;x.rotation.y+=j*.01,x.rotation.x+=s*.01,O=t.clientX,A=t.clientY},X=()=>{$=!1,setTimeout(()=>{$||(Y=!0)},3e3)},ie=t=>{t.preventDefault();const j=.1,s=g.position.distanceTo(new te(0,0,0));t.deltaY>0&&s<50?g.position.multiplyScalar(1+j):t.deltaY<0&&s>10&&g.position.multiplyScalar(1-j)},le=t=>{t.key==="Escape"&&document.dispatchEvent(new CustomEvent("universe-close-fullscreen"))},ce=t=>{if(t.preventDefault(),t.touches.length===1)$=!0,Y=!1,O=t.touches[0].clientX,A=t.touches[0].clientY;else if(t.touches.length===2){const j=t.touches[0].clientX-t.touches[1].clientX,s=t.touches[0].clientY-t.touches[1].clientY;T=Math.sqrt(j*j+s*s)}},xe=t=>{if(t.preventDefault(),t.touches.length===1&&$){const j=t.touches[0].clientX-O,s=t.touches[0].clientY-A;x.rotation.y+=j*.01,x.rotation.x+=s*.01,O=t.touches[0].clientX,A=t.touches[0].clientY}else if(t.touches.length===2){const j=t.touches[0].clientX-t.touches[1].clientX,s=t.touches[0].clientY-t.touches[1].clientY,f=Math.sqrt(j*j+s*s);if(T>0){const R=f/T,ee=g.position.distanceTo(new te(0,0,0));R>1&&ee>10?g.position.multiplyScalar(1-.01):R<1&&ee<50&&g.position.multiplyScalar(1+.01)}T=f}},he=t=>{t.preventDefault(),$=!1,T=0,setTimeout(()=>{$||(Y=!0)},3e3)},p=m.domElement;p.style.cursor="grab",p.addEventListener("mousedown",t=>{p.style.cursor="grabbing",oe(t)}),p.addEventListener("mousemove",re),p.addEventListener("mouseup",()=>{p.style.cursor="grab",X()}),p.addEventListener("mouseleave",()=>{p.style.cursor="grab",X()}),p.addEventListener("wheel",ie),p.addEventListener("touchstart",ce,{passive:!1}),p.addEventListener("touchmove",xe,{passive:!1}),p.addEventListener("touchend",he,{passive:!1}),document.addEventListener("keydown",le);const pe=()=>{N.current=requestAnimationFrame(pe),Y&&(x.rotation.y+=.002,x.rotation.x+=.001);const t=Date.now()*.005;K.scale.setScalar(1+Math.sin(t)*.1),I.rotation.y+=.01,m.render(u,g)};pe();const L=()=>{const t=o.clientWidth,j=o.clientHeight;g.aspect=t/j,g.updateProjectionMatrix(),m.setSize(t,j)};return window.addEventListener("resize",L),()=>{window.removeEventListener("resize",L),document.removeEventListener("keydown",le),p.removeEventListener("mousedown",oe),p.removeEventListener("mousemove",re),p.removeEventListener("mouseup",X),p.removeEventListener("mouseleave",X),p.removeEventListener("wheel",ie),p.removeEventListener("touchstart",ce),p.removeEventListener("touchmove",xe),p.removeEventListener("touchend",he),N.current&&cancelAnimationFrame(N.current),o&&m.domElement&&o.removeChild(m.domElement),m.dispose(),Z.dispose(),H.dispose(),P.dispose(),J.dispose(),me.dispose(),Q.dispose(),F.dispose()}},[a,r]),e.jsx("div",{ref:i,className:"w-full h-full"})},Oe=({coordinates:a,galaxyName:r})=>{const i=h.useRef(null),c=h.useRef(null),l=h.useRef(null),N=h.useRef(null),[o,w]=h.useState(!1);h.useEffect(()=>{const d=()=>{w(!1)},k=G=>{G.key==="Escape"&&o&&w(!1)};return document.addEventListener("universe-close-fullscreen",d),document.addEventListener("keydown",k),()=>{document.removeEventListener("universe-close-fullscreen",d),document.removeEventListener("keydown",k)}},[o]),h.useEffect(()=>{if(!i.current)return;const d=i.current,k=d.clientWidth,G=k<640,M=new Ee;M.background=new Se(657930),c.current=M;const E=new Le(30,k/120,.1,1e3);E.position.set(12,8,12),E.lookAt(0,0,0);const b=new ke({antialias:!0,alpha:!0});b.setSize(k,120),b.setClearColor(0,.2),l.current=b,d.appendChild(b.domElement);const S=0,z=1e7,x=5e6,[Z,H,P]=a,y=((Z-S)/(z-S)-.5)*8,B=((H-S)/(z-S)-.5)*8,_=((P-S)/(z-S)-.5)*8,v=new Me;M.add(v);const J=new Ce(8,8,8),me=new ze(J),K=new De({color:16777215,opacity:.4,transparent:!0}),we=new Re(me,K);v.add(we);const Q=new de(8,8,16777215,16777215);Q.material.opacity=.1,Q.material.transparent=!0,Q.position.y=-4,v.add(Q);const F=new de(8,8,16777215,16777215);F.material.opacity=.05,F.material.transparent=!0,F.rotation.z=Math.PI/2,F.position.x=-4,v.add(F);const I=new de(8,8,16777215,16777215);I.material.opacity=.05,I.material.transparent=!0,I.rotation.x=Math.PI/2,I.position.z=-4,v.add(I);const ge=new V(.25,16,16),be=new q({color:16777215,transparent:!0,opacity:.9}),se=new U(ge,be);se.position.set(0,0,0),v.add(se);const fe=new U(new V(.45,16,16),new q({color:16777215,transparent:!0,opacity:.2}));se.add(fe);const ae=new V(.2,16,16),ne=new q({color:6605055,transparent:!0,opacity:1}),W=new U(ae,ne);W.position.set(y,B,_),v.add(W);const ue=new U(new V(.35,16,16),new q({color:6605055,transparent:!0,opacity:.3}));if(W.add(ue),Math.sqrt(Math.pow(Z-x,2)+Math.pow(H-x,2)+Math.pow(P-x,2))<2e6){const s=[new te(0,0,0),new te(y,B,_)],f=new Ge().setFromPoints(s),D=new Be({color:16762980,dashSize:.3,gapSize:.3,opacity:.4,transparent:!0}),R=new _e(f,D);R.computeLineDistances(),v.add(R)}const O=new Ie(4210752,.6);M.add(O);const A=new $e(16777215,.8);A.position.set(5,5,5),M.add(A);const Y=(s,f)=>{const D=document.createElement("canvas"),R=D.getContext("2d");if(!R)return null;D.width=32,D.height=32,R.fillStyle=`#${f.toString(16).padStart(6,"0")}`,R.font="bold 24px Arial",R.textAlign="center",R.textBaseline="middle",R.fillText(s,16,16);const ee=new Ae(D),Xe=new Ye({map:ee,transparent:!0,opacity:.8}),ve=new Te(Xe);return ve.scale.set(.8,.8,1),ve},T=Y("X",16739179);T&&(T.position.set(4.2,-3.8,-3.8),v.add(T));const oe=Y("Y",7077739);oe&&(oe.position.set(-3.8,4.2,-3.8),v.add(oe));const re=Y("Z",7039999);re&&(re.position.set(-3.8,-3.8,4.2),v.add(re));let X=!1,ie=0,le=0,ce=!0;const xe=s=>{X=!0,ce=!1,ie=s.clientX,le=s.clientY},he=s=>{if(!X)return;const f=s.clientX-ie,D=s.clientY-le;v.rotation.y+=f*.01,v.rotation.x+=D*.01,ie=s.clientX,le=s.clientY},p=()=>{X=!1,setTimeout(()=>{X||(ce=!0)},3e3)},pe=s=>{s.preventDefault();const f=.1,D=E.position.distanceTo(new te(0,0,0));s.deltaY>0&&D<25?E.position.multiplyScalar(1+f):s.deltaY<0&&D>5&&E.position.multiplyScalar(1-f)},L=b.domElement;L.style.cursor="grab",L.style.borderRadius="8px",L.addEventListener("mousedown",s=>{L.style.cursor="grabbing",xe(s)}),L.addEventListener("mousemove",he),L.addEventListener("mouseup",()=>{L.style.cursor="grab",p()}),L.addEventListener("mouseleave",()=>{L.style.cursor="grab",p()}),L.addEventListener("wheel",pe);const t=()=>{N.current=requestAnimationFrame(t),ce&&(v.rotation.y+=.002,v.rotation.x+=.001);const s=Date.now()*.005;se.scale.setScalar(1+Math.sin(s)*.1),W.rotation.y+=.01,b.render(M,E)};t();const j=()=>{const s=d.clientWidth,f=s<640?150:160;E.aspect=s/f,E.updateProjectionMatrix(),b.setSize(s,f)};return window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j),L.removeEventListener("mousedown",xe),L.removeEventListener("mousemove",he),L.removeEventListener("mouseup",p),L.removeEventListener("mouseleave",p),L.removeEventListener("wheel",pe),N.current&&cancelAnimationFrame(N.current),d&&b.domElement&&d.removeChild(b.domElement),b.dispose(),J.dispose(),me.dispose(),K.dispose(),ge.dispose(),be.dispose(),ae.dispose(),ne.dispose()}},[a,r]);const C=d=>d.replace(/_/g," "),u=d=>d>=1e6?`${(d/1e6).toFixed(1)}M`:d>=1e3?`${(d/1e3).toFixed(1)}K`:d.toString(),[g,m,n]=a;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center w-full",children:[e.jsx("div",{className:"text-xs text-gray-300 mb-2",children:"Galaxy Location"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{ref:i,className:"w-full border border-white/20 rounded bg-black/20",style:{height:"auto"}}),e.jsxs("button",{onClick:()=>w(!0),className:"absolute top-2 right-2 p-2 bg-black/60 hover:bg-black/80 border border-white/30 rounded-lg transition-all duration-200 flex items-center gap-1 backdrop-blur-sm shadow-lg z-10",title:"Expand to fullscreen",children:[e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),e.jsx("span",{className:"text-xs text-white hidden sm:inline",children:"Expand"})]})]}),e.jsxs("div",{className:"text-xs text-gray-400 mt-2 w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-90"}),e.jsx("span",{className:"text-[10px]",children:"Bit Bang"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),e.jsx("span",{className:"text-[10px]",children:C(r)})]})]}),e.jsxs("div",{className:"text-[10px] text-gray-500",children:[u(g),", ",u(m),", ",u(n)]})]}),e.jsx("div",{className:"text-center text-[10px] text-gray-500",children:"Scroll: Zoom • Drag: Rotate View"})]})]}),o&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-xl flex items-center justify-center",children:e.jsxs("div",{className:"w-full h-full flex flex-col p-2 sm:p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-white truncate",children:[C(r)," - Galaxy Location"]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-white rounded-full opacity-90"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Bit Bang"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Galaxy"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[u(g),", ",u(m),", ",u(n)]})]}),e.jsx("div",{className:"sm:hidden text-xs text-gray-400",children:"Universe Cube"})]}),e.jsx("button",{onClick:()=>w(!1),className:"p-1.5 sm:p-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 rounded-lg transition-colors duration-200 text-red-400 hover:text-red-300 flex-shrink-0",title:"Close fullscreen (ESC)",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex-1 border border-white/20 rounded-lg bg-black/20 overflow-hidden min-h-0",children:e.jsx(We,{coordinates:a,galaxyName:r})}),e.jsxs("div",{className:"mt-2 sm:mt-4 text-center text-xs sm:text-sm text-gray-400",children:[e.jsx("div",{className:"hidden sm:block",children:"Scroll: Zoom • Drag: Rotate View • ESC: Close"}),e.jsx("div",{className:"sm:hidden",children:"Pinch: Zoom • Drag: Rotate • ESC: Close"})]})]})})]})},Ve=({galaxy:a})=>{const r=i=>i.replace(/_/g," ");return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3",children:"Galaxy Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-blue-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200",children:"Type"}),e.jsx("div",{className:"text-sm font-bold text-blue-300",children:a.galaxy_type})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-purple-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200",children:"Solar Systems"}),e.jsx("div",{className:"text-sm font-bold text-purple-300",children:a.num_systems.toLocaleString()})]})]}),e.jsx("div",{className:"bg-white/10 rounded-lg p-3 border border-gray-500/30 mb-3 col-span-2",children:e.jsx(Oe,{coordinates:a.coordinates,galaxyName:a.name})}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-gray-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200 mb-2",children:"Cosmic Objects"}),e.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-pink-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Black Holes"}),e.jsx("div",{className:"text-xs font-bold text-pink-300",children:a.black_holes.toLocaleString()})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Pulsars"}),e.jsx("div",{className:"text-xs font-bold text-cyan-300",children:a.pulsars.toLocaleString()})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-indigo-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Quasars"}),e.jsx("div",{className:"text-xs font-bold text-indigo-300",children:a.quasars.toLocaleString()})]})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Technical Data"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-white/5 rounded p-2",children:[e.jsx("span",{className:"text-gray-400",children:"Galaxy:"}),e.jsx("div",{className:"text-white truncate font-medium",children:r(a.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-2",children:[e.jsx("span",{className:"text-gray-400",children:"Coordinates:"}),e.jsx("div",{className:"text-white font-medium",children:a.coordinates.join(", ")})]})]})]})]})},qe=({galaxyUrl:a,imageUrl:r})=>{const i=h.useRef(null),c=h.useRef(null),[l,N]=h.useState("Aligning Stargate..."),[o,w]=h.useState(!1),[C,u]=h.useState(!1),[g,m]=h.useState(!1);return h.useEffect(()=>{const n=i.current;if(!n)return;const d=n.getContext("2d");if(!d)return;let k=[];const G=800;let M,E;const b=800;let S,z=.5;function x(){const y=n?.parentElement;if(!y||!n)return;const B=y.clientWidth,_=y.clientHeight;n.width=Math.min(B,b),n.height=Math.min(_,b),M=n.width/2,E=n.height/2}function Z(){x(),k=[];for(let y=0;y<G;y++)k.push({x:Math.random()*(n?.width||800),y:Math.random()*(n?.height||800),z:Math.random()*(n?.width||800),o:Math.random()});H()}function H(){!n||!d||(d.clearRect(0,0,n.width,n.height),k.forEach(y=>{y.z-=z,y.z<=0&&(y.z=n.width,y.x=Math.random()*n.width,y.y=Math.random()*n.height,y.o=Math.random());const B=n.width/y.z,_=(y.x-M)*B+M,v=(y.y-E)*B+E,J=2*B;d.beginPath(),d.fillStyle=`rgba(255, 255, 255, ${y.o})`,d.arc(_,v,J,0,2*Math.PI),d.fill()}),z<60&&(z+=1),S=requestAnimationFrame(H))}Z();const P=()=>x();return window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P),S&&cancelAnimationFrame(S)}},[]),h.useEffect(()=>{if(r){console.log("Loading galaxy image:",r);const n=new Image;n.onload=()=>{console.log("Galaxy image loaded successfully"),c.current&&(c.current.src=r,u(!0),m(!0))},n.onerror=()=>{console.error("Failed to load galaxy image:",r),setTimeout(()=>{u(!0),m(!0)},1500)},n.src=r}else console.log("No imageUrl provided, using placeholder"),setTimeout(()=>{u(!0),m(!0)},1500)},[r]),h.useEffect(()=>{if(sessionStorage.getItem("stargateAnimationShown")){N("Stargate system aligned");return}sessionStorage.setItem("stargateAnimationShown","true"),w(!0);const d=(b,S)=>Array.from({length:S},()=>b[Math.floor(Math.random()*b.length)]).join(""),k=[{chars:"01",duration:40,iterations:20},{chars:"0123456789",duration:25,iterations:30},{chars:"0123456789ABCDEF",duration:20,iterations:40},{chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()-_=+[]{}|;:'\",.<>?/`~",duration:10,iterations:100}];let G=0,M=0;const E=()=>{if(G>=k.length){const S="Stargate system aligned";let z=0;N("");const x=()=>{z<S.length?(N(S.substring(0,z+1)),z++,setTimeout(x,30)):w(!1)};x();return}const b=k[G];N(d(b.chars,32)),M++,M>=b.iterations&&(G++,M=0),setTimeout(E,b.duration)};E()},[]),h.useEffect(()=>{const n=document.createElement("style");return n.textContent=`
      [data-rmiz-modal-overlay="visible"] {
        background-color: rgba(0, 0, 0, 0.8) !important;
        backdrop-filter: blur(20px) !important;
        -webkit-backdrop-filter: blur(20px) !important;
        transition: backdrop-filter 0.3s ease-in-out !important;
      }
      
      [data-rmiz-modal-img] {
        border-radius: 1rem !important;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8) !important;
      }
      
      [data-rmiz-modal-overlay="hidden"] {
        backdrop-filter: blur(0px) !important;
        -webkit-backdrop-filter: blur(0px) !important;
        transition: backdrop-filter 0.3s ease-in-out !important;
      }
    `,document.head.appendChild(n),()=>{document.head.removeChild(n)}},[]),e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-3",children:"Galaxy Visualization"}),e.jsxs("div",{className:"relative w-full max-w-80 sm:max-w-96 aspect-square mx-auto bg-black/50 flex justify-center items-center rounded-xl overflow-hidden border-2 border-blue-400/30 mb-4",children:[e.jsx("canvas",{ref:i,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-[2500ms] ${g?"opacity-0":"opacity-100"}`,style:{filter:g?"blur(50px)":"none"}}),e.jsx("div",{className:`absolute inset-0 w-full h-full transition-all duration-500 ${C?"opacity-100 blur-0":"opacity-0 blur-[25px]"}`,children:C&&r?e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Fe,{zoomMargin:20,classDialog:"backdrop-blur-3xl",children:e.jsx("img",{ref:c,className:"max-w-full max-h-full object-contain rounded-xl shadow-2xl shadow-blue-500/20",src:r,alt:"Galaxy visualization",style:{width:"100%",height:"100%",objectFit:"contain",backgroundColor:"transparent"}})})}):e.jsx("img",{ref:c,className:"w-full h-full object-cover",src:"/static/images/placeholder-min.jpg",alt:"Galaxy visualization"})})]}),e.jsxs("div",{className:"text-center mt-auto",children:[e.jsxs("a",{href:a,className:`inline-block px-4 py-2 bg-gradient-to-r from-slate-800 via-slate-700 to-slate-800 text-gray-200 font-medium text-sm rounded-lg border border-slate-600 hover:border-slate-500 shadow-md hover:shadow-lg transition-all duration-300 relative overflow-hidden group ${o?"animate-pulse":""}`,style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:[e.jsxs("span",{className:"relative z-10 font-mono flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.736 6.979C9.208 6.193 9.696 6 10 6s.792.193 1.264.979a1 1 0 001.715-1.029C12.279 4.784 11.232 4 10 4s-2.279.784-2.979 1.95a1 1 0 001.715 1.029zM8.5 10a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM10 14c-.304 0-.792-.193-1.264-.979a1 1 0 00-1.715 1.029C7.721 15.216 8.768 16 10 16s2.279-.784 2.979-1.95a1 1 0 00-1.715-1.029C10.792 13.807 10.304 14 10 14z",clipRule:"evenodd"})}),l]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-slate-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"Gateway to the stars"})]})]})},Ue=({systems:a,coordinates:r})=>{const[i,c]=h.useState(new Set);return h.useEffect(()=>{(()=>{try{const w=JSON.parse(localStorage.getItem("atlasHistoricalData")||"{}")[r]||{},C=new Set;Object.keys(w).forEach(u=>{C.add(parseInt(u))}),c(C)}catch(o){console.error("Error loading historical data:",o)}})(),(()=>{try{let o=JSON.parse(localStorage.getItem("atlasHistoricalData")||"{}");o[r]||(o[r]={}),localStorage.setItem("atlasHistoricalData",JSON.stringify(o))}catch(o){console.error("Error saving historical data:",o)}})()},[r]),e.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 shadow-2xl p-4 sm:p-6",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-2 sm:gap-3",children:a.map(l=>e.jsxs("div",{className:"relative bg-white/10 rounded-lg border border-white/20 hover:bg-white/20 hover:border-white/40 transition-all duration-300 group",children:[i.has(l.index)&&e.jsx("div",{className:"absolute left-0 top-0 w-1 h-full bg-cyan-400 rounded-l-lg opacity-100 transition-opacity duration-300",style:{background:"linear-gradient(180deg, #00d4ff 0%, #00a0ff 100%)"}}),e.jsxs("button",{onClick:()=>window.location.href=`/system/${l.index}`,className:"w-full text-left block p-2 sm:p-3 text-gray-200 hover:text-white transition-colors duration-300 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["#",l.number]}),e.jsx("div",{className:"text-sm font-semibold text-white truncate group-hover:text-blue-300 transition-colors duration-300",children:l.name})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]},l.index))}),a.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-lg mb-2",children:"No systems found"}),e.jsx("div",{className:"text-gray-500 text-sm",children:"This galaxy appears to be empty"})]})]})},Ze=({page:a,prevPage:r,nextPage:i,finish:c})=>{const l="px-4 py-2 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105",N="bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg",o="bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white border border-white/20";return e.jsxs("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 shadow-2xl p-4 sm:p-6 mb-8",children:[e.jsxs("div",{className:"flex justify-center items-center gap-2 sm:gap-4 flex-wrap",children:[a!==1&&e.jsxs("button",{onClick:()=>window.location.href="/galaxy/1",className:`${l} ${o}`,title:"First page",children:[e.jsx("span",{className:"hidden sm:inline",children:"First"}),e.jsx("span",{className:"sm:hidden",children:"«"})]}),r&&e.jsxs("button",{onClick:()=>window.location.href=`/galaxy/${r}`,className:`${l} ${o}`,title:"Previous page",children:[e.jsx("span",{className:"hidden sm:inline",children:"Previous"}),e.jsx("span",{className:"sm:hidden",children:"‹"})]}),(()=>{const w=[],u=Math.max(1,a-2),g=Math.min(c,a+2);u>1&&(w.push(e.jsx("button",{onClick:()=>window.location.href="/galaxy/1",className:`${l} ${o}`,children:"1"},1)),u>2&&w.push(e.jsx("span",{className:"px-2 text-gray-400",children:"..."},"start-ellipsis")));for(let m=u;m<=g;m++)m===a?w.push(e.jsx("span",{className:`${l} ${N} cursor-default`,children:m},m)):w.push(e.jsx("button",{onClick:()=>window.location.href=`/galaxy/${m}`,className:`${l} ${o} cursor-pointer`,children:m},m));return g<c&&(g<c-1&&w.push(e.jsx("span",{className:"px-2 text-gray-400",children:"..."},"end-ellipsis")),w.push(e.jsx("button",{onClick:()=>window.location.href=`/galaxy/${c}`,className:`${l} ${o}`,children:c},c))),w})(),i&&e.jsxs("button",{onClick:()=>window.location.href=`/galaxy/${i}`,className:`${l} ${o}`,title:"Next page",children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"}),e.jsx("span",{className:"sm:hidden",children:"›"})]}),a!==c&&e.jsxs("button",{onClick:()=>window.location.href=`/galaxy/${c}`,className:`${l} ${o}`,title:"Last page",children:[e.jsx("span",{className:"hidden sm:inline",children:"Last"}),e.jsx("span",{className:"sm:hidden",children:"»"})]})]}),e.jsxs("div",{className:"text-center mt-4 text-sm text-gray-400",children:["Page ",a," of ",c]})]})},Ne=({galaxy:a,systems:r,galaxy_url:i,version:c,page:l,prev_page:N,next_page:o,finish:w,image_url:C})=>{const[u]=h.useState(a.coordinates.join(","));h.useEffect(()=>{document.body.setAttribute("data-coordinates",u)},[u]);const g=m=>m.replace(/_/g," ");return e.jsxs("div",{className:"w-full h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-auto",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(He,{}),e.jsxs("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:["Galaxy '",g(a.name),"'"]}),e.jsxs("p",{className:"text-lg sm:text-xl text-gray-300",children:["at Coordinates ",a.coordinates.join(", ")]})]}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[400px_1fr] gap-6 lg:gap-8 relative",children:[e.jsx("div",{className:"order-1 lg:order-1",children:e.jsx(qe,{galaxyUrl:i,imageUrl:C})}),e.jsx("div",{className:"hidden lg:block absolute left-[416px] top-0 bottom-0 w-1 rounded-full bg-white/10 -translate-x-1.5"}),e.jsx("div",{className:"order-2 lg:order-2",children:e.jsx(Ve,{galaxy:a})})]})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:["Systems in '",g(a.name),"'"]}),e.jsx(Ue,{systems:r,coordinates:u})]}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6 text-center",children:e.jsx("button",{onClick:()=>window.location.href="/",className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-gray-600 via-gray-700 to-gray-600 hover:from-gray-700 hover:via-gray-800 hover:to-gray-700 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg backdrop-blur-sm",children:e.jsx("span",{className:"text-base sm:text-lg",children:"← Go Back to Planetary Index"})})}),e.jsx(Ze,{page:l,prevPage:N,nextPage:o,finish:w})]}),e.jsx(Pe,{version:c})]})]})};console.log("Atlas Galaxy React script loading...");document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, mounting Galaxy React component...");const a=document.getElementById("atlas-react-root");if(!a){console.error("Could not find atlas-react-root element");return}const r=i=>{const c=document.getElementById(i);if(!c||!c.textContent)return null;try{return JSON.parse(c.textContent.trim())}catch(l){return console.error(`Error parsing data from script ${i}:`,l),null}};try{const i=r("data-galaxy")||{},c=r("data-systems")||[],l=r("data-navigation")||{},N=r("data-common")||{},o={galaxy:{name:i.name||"Unknown Galaxy",coordinates:i.coordinates||[0,0,0],galaxy_type:i.galaxy_type||"Unknown",num_systems:i.num_systems||0,black_holes:i.black_holes||0,pulsars:i.pulsars||0,quasars:i.quasars||0},systems:c,galaxy_url:l.galaxy_url||"#",version:N.version||"1.0.0",page:l.page||1,prev_page:l.prev_page,next_page:l.next_page,finish:l.finish||1,image_url:N.image_url||""};console.log("Galaxy props loaded from JSON scripts:",o),ye.createRoot(a).render(je.createElement(Ne,o)),console.log("Galaxy React component mounted successfully!")}catch(i){console.error("Error parsing galaxy data:",i);const c={galaxy:{name:"Unknown Galaxy",coordinates:[0,0,0],galaxy_type:"Unknown",num_systems:0,black_holes:0,pulsars:0,quasars:0},systems:[],galaxy_url:"#",version:"1.0.0",page:1,finish:1,image_url:""};ye.createRoot(a).render(je.createElement(Ne,c))}});
