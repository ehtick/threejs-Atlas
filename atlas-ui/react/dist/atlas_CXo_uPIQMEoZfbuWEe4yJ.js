import{S as T}from"./atlas_D5TkNrZ-UIh1OV1m_7qMi.js";import{C as a}from"./atlas_Bd-08EnGHvuA4jxvJ1T-8.js";const t={ICE_REFLECTIVITY:{min:.7,max:.95},FROST_DENSITY:{min:.3,max:.8},CRACK_INTENSITY:{min:.2,max:.7},OPACITY:{min:.6,max:.9},CRYSTAL_SCALE:{min:15,max:35},CRYSTAL_DENSITY:{min:.4,max:.8},CRYSTAL_SHARPNESS:{min:100,max:250},FROST_PATTERN:{min:8,max:16}};class c{layerMesh;material;params;layerSystem;constructor(o,e={}){this.layerSystem=o;const r=e.seed||Math.floor(Math.random()*1e6),i=new T(r),s=e.color instanceof a?e.color:e.color?Array.isArray(e.color)?new a(e.color[0],e.color[1],e.color[2]):new a(e.color):new a(11591910);this.params={color:s,iceReflectivity:e.iceReflectivity||i.uniform(t.ICE_REFLECTIVITY.min,t.ICE_REFLECTIVITY.max),frostDensity:e.frostDensity||i.uniform(t.FROST_DENSITY.min,t.FROST_DENSITY.max),crackIntensity:e.crackIntensity||i.uniform(t.CRACK_INTENSITY.min,t.CRACK_INTENSITY.max),opacity:e.opacity||i.uniform(t.OPACITY.min,t.OPACITY.max),crystalScale:e.crystalScale||i.uniform(t.CRYSTAL_SCALE.min,t.CRYSTAL_SCALE.max),crystalDensity:e.crystalDensity||i.uniform(t.CRYSTAL_DENSITY.min,t.CRYSTAL_DENSITY.max),crystalSharpness:e.crystalSharpness||i.uniform(t.CRYSTAL_SHARPNESS.min,t.CRYSTAL_SHARPNESS.max),frostPattern:e.frostPattern||i.uniform(t.FROST_PATTERN.min,t.FROST_PATTERN.max),seed:r},this.material=this.layerSystem.createIcyTerrainLayerMaterial(this.params),this.layerMesh=this.layerSystem.addEffectLayer("icyTerrain",this.material,this.layerSystem.getNextScaleFactor(),this)}update(o){this.material.uniforms.time&&(this.material.uniforms.time.value+=o)}getObject3D(){return this.layerMesh}dispose(){}}function y(S,o,e){const r=o.surface||{},i=o.planet_info?.base_color||r.base_color,s=e||Math.floor(Math.random()*1e6),n=new T(s+6e3);return new c(S,{color:i?new a(i):new a(11591910),iceReflectivity:r.ice_reflectivity||n.uniform(t.ICE_REFLECTIVITY.min,t.ICE_REFLECTIVITY.max),frostDensity:r.frost_density||n.uniform(t.FROST_DENSITY.min,t.FROST_DENSITY.max),crackIntensity:r.crack_intensity||n.uniform(t.CRACK_INTENSITY.min,t.CRACK_INTENSITY.max),opacity:n.uniform(t.OPACITY.min,t.OPACITY.max),crystalScale:r.crystal_scale||n.uniform(t.CRYSTAL_SCALE.min,t.CRYSTAL_SCALE.max),crystalDensity:r.crystal_density||n.uniform(t.CRYSTAL_DENSITY.min,t.CRYSTAL_DENSITY.max),crystalSharpness:r.crystal_sharpness||n.uniform(t.CRYSTAL_SHARPNESS.min,t.CRYSTAL_SHARPNESS.max),frostPattern:r.frost_pattern||n.uniform(t.FROST_PATTERN.min,t.FROST_PATTERN.max),seed:s})}export{y as c};
