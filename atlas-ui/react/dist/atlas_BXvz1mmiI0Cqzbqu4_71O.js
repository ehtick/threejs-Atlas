import{r as o,j as e,U as Q,c as Z,R as ee}from"./atlas_BGo7KNTC_D9rNHeIOnwpB.js";import{R as te,L as se,a as N,c as $,d as G,F as ae,H as re,S as ne}from"./atlas_BjQ7pm9Bzx3BUiKgJDRBS.js";import{R as ie,S as oe,M as le,a as H,b as q}from"./atlas_CY9prek78VlzRzNZ9Y3dE.js";import{M as de}from"./atlas_D7aoie3LZ3le4b6nqlFZa.js";import{e as ce}from"./atlas_BPj-MsIDwzwqXqKWRYHZn.js";import{V as xe}from"./atlas_BC--f3teBajIZvYzpPvMJ.js";import"./atlas_5StMBQg7EZ_DcUhMgqODi.js";import"./atlas_CNuRMyx4gH271S-qfMS5_.js";import"./atlas_CqUMNY_RyRklhCsbOI68T.js";import"./atlas_D8jfkKBTFAYq28XkcKKTP.js";import"./atlas_DzyLVnAB68DWvB7ZsYHpJ.js";import"./atlas_BoQX836U_P5ievxCWB0fm.js";import"./atlas_BJ-3dIBoTMvLRTvbW4jvB.js";import"./atlas_C3eT5YO8N8uINAkU4sfC8.js";import"./atlas_xRQAuIdLDLUWwjQ1hhLJT.js";import"./atlas_DlxiDl5H4dCc4RtFDNV4-.js";import"./atlas_Ccem9BSdBGELhfnElOo6_.js";import"./atlas_Dod4TvMiKE71aV5xLhCIO.js";import"./atlas_CRtp-NE9nav3l36pd4CgS.js";import"./atlas_DLWyiQr-j-hUe0BblWQax.js";import"./atlas_Bu5UDKz6Fxm2j5znUfuqR.js";import"./atlas_jdX7ViftnjLhuueMzjdvL.js";import"./atlas_D3JuxdFXN9TN3Y0vT6vrH.js";import"./atlas_BkU-BZFNU0Kk3GbuSxcOt.js";import"./atlas_BWX0SzH4ZKildB05q9kmO.js";import"./atlas_BSgVuGGMitm85ML_uFlwR.js";import"./atlas_BmPjqYkKBdIjG0mMXhEJD.js";import"./atlas_D3GNhDOca9tM2xz4UF0kl.js";import"./atlas_CEoXpB5Qz5gnhpnI1rVml.js";import"./atlas_Bm5CmJ6Y3wiNPdy4xBPs9.js";import"./atlas_ClhQ4eskJsGKIwiNnH7TI.js";import"./atlas_CUq1rz_tq3RwyJKJXdtJS.js";import"./atlas_D343D3gC5Bhf8E3SyGD-Q.js";import"./atlas_Dj0t6QoI2gZodGI_3YUXn.js";import"./atlas_BEAtmhQR2pKLss0iVjM9O.js";import"./atlas_CYsk2fyQCI6aUldiF2q00.js";import"./atlas_OQLtGineOrjae7tCq3Z1z.js";import"./atlas_Bw0fu8vSuhWaeAZKJqlzI.js";import"./atlas_465Qga5-jgR2SaZeKrI3B.js";import"./atlas_D8F237FmEt-gxC2GKz619.js";import"./atlas_CMogpnnx9irO0RjvZ_Elu.js";import"./atlas_DFoW4HgmlLMTSp87OppFy.js";import"./atlas_CeFCrUiRjVtyJj2C26XU3.js";import"./atlas_CnFeX1UquwFONPWwyH0Y0.js";import"./atlas_DrzNaGnbXhyGGPqXgh5dg.js";import"./atlas_DjKkgDbOS3WgacErnTNEP.js";import"./atlas_CwxbYudOIvRzf9WYQJAGh.js";import"./atlas_D_AoWN1edZOb1F97i-xfg.js";import"./atlas_BNEH8HDGdmhsX1S5s8FdV.js";import"./atlas_BShgu7srGlsrNBeL27QMh.js";import"./atlas_ZjaJ_43RPC4E1k8nfj4yf.js";const me=({effects:t,onToggleEffect:s})=>{const[a,x]=o.useState(t),[f,v]=o.useState(!1);o.useEffect(()=>{x(t)},[t]);const m=(i,l)=>{x(b=>b.map(g=>g.id===i?{...g,enabled:l}:g)),s(i,l)},u=i=>i;return a.length===0?null:e.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"3D Effects Control"}),e.jsxs("button",{onClick:()=>v(!f),className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:[f?"Hide":"Show"," (",a.filter(i=>i.enabled).length,"/",a.length,")"]})]}),f&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:a.map(i=>e.jsxs("div",{className:"bg-white/5 rounded p-2 flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx("input",{type:"checkbox",checked:i.enabled,onChange:l=>m(i.id,l.target.checked),className:"rounded border-gray-400 text-blue-500 focus:ring-blue-500 focus:ring-offset-0 bg-white/10"}),e.jsx("span",{className:`${i.enabled?"text-white":"text-gray-500"} transition-colors`,children:u(i.type)})]}),e.jsx("span",{className:`text-[10px] ${i.enabled?"text-green-400":"text-gray-600"}`,children:i.enabled?"ON":"OFF"})]},i.id))}),f&&a.length>3&&e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{onClick:()=>{a.forEach(i=>m(i.id,!0))},className:"text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded hover:bg-green-500/30 transition-colors",children:"Enable All"}),e.jsx("button",{onClick:()=>{a.forEach(i=>m(i.id,!1))},className:"text-xs px-2 py-1 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors",children:"Disable All"})]})]})},he=({planet:t,system:s,galaxy:a,cosmicOriginTime:x,initialAngleRotation:f,effects:v,onToggleEffect:m})=>{const[u,i]=o.useState(!1),[l,b]=o.useState({isOnCooldown:!1,isSaved:!1,isCollecting:!1,timeUntilNext:0});o.useEffect(()=>{let r;const d=()=>{const j=H.generateLocationId("planet",a.coordinates.join(","),s.index,t.name),M=H.canCollectFromLocation(j),F=H.getTimeUntilNextCollection(j),B=a.coordinates,O=q.generatePlanetUrl(B,s.index,t.name,q.getCurrentPage()),n=se.getLocations().some(w=>w.stargateUrl===O);b(w=>({isOnCooldown:!M&&F>0,isSaved:n,isCollecting:w.isCollecting,timeUntilNext:F}))},c=()=>{b(j=>({...j,isCollecting:!0})),r=setTimeout(()=>{b(j=>({...j,isCollecting:!1}))},1e3)};d();const h=setInterval(d,1e3),L=te.subscribe("mining_completed",c);return()=>{clearInterval(h),r&&clearTimeout(r),L()}},[t.name,s.index,a.coordinates]);const g=r=>r.replace(/_/g," "),E=r=>{const d=r/86400;return d<30?`${d.toFixed(2)} days`:d<365?`${(d/30).toFixed(2)} months`:`${(d/365).toFixed(2)} years`},_=r=>{const d=r*9/5+32;return`${r.toFixed(1)}°C (${d.toFixed(1)}°F)`},y=r=>`${r.toExponential(2)} kg`,C=r=>`${r.toFixed(2)} km`;return e.jsxs("div",{className:"h-full flex flex-col relative",children:[e.jsxs("div",{className:"absolute top-0 right-0 flex gap-2 z-10",children:[e.jsx(ie,{locationType:"planet",locationId:t.name,coordinates:a.coordinates.join(","),systemIndex:s.index,planetName:t.name,planetElements:t.elements,className:"text-xs"}),e.jsx(oe,{type:"planet",name:t.name,coordinates:a.coordinates.join(","),systemIndex:s.index,planetName:t.name,className:"text-xs"}),e.jsx("div",{className:"inline-flex items-center bg-green-500/20 border border-green-500/50 text-green-400 text-[10px] font-medium px-1.5 py-0.5 rounded h-[21px] box-border",children:"VISITED"})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(le,{isOnCooldown:l.isOnCooldown,isSaved:l.isSaved,isCollecting:l.isCollecting}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Details"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-blue-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200",children:"Type"}),e.jsx("div",{className:"text-sm font-bold text-blue-300 capitalize",children:t.planet_type})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-purple-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200",children:"Atmosphere"}),e.jsx("div",{className:"text-sm font-bold text-purple-300 capitalize",children:t.atmosphere})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-green-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200",children:"Life Forms"}),e.jsx("div",{className:"text-sm font-bold text-green-300 capitalize",children:t.life_forms})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-orange-500/30 mb-3",children:[e.jsx("div",{className:"text-xs text-gray-200 mb-2",children:"Physical Properties"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-1",children:[e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Mass"}),e.jsx("div",{className:"text-xs font-bold text-orange-300",children:y(t.mass)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Diameter"}),e.jsx("div",{className:"text-xs font-bold text-orange-300",children:C(t.diameter)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Density"}),e.jsxs("div",{className:"text-xs font-bold text-orange-300",children:[t.density.toFixed(2)," kg/m³"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-orange-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Gravity"}),e.jsxs("div",{className:"text-xs font-bold text-orange-300",children:[t.gravity.toFixed(2)," m/s²"]})]})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-cyan-500/30 mb-3",children:[e.jsx("div",{className:"text-xs text-gray-200 mb-2",children:"Orbital Properties"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-1",children:[e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Radius"}),e.jsxs("div",{className:"text-xs font-bold text-cyan-300",children:[t.orbital_radius.toFixed(2)," AU"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Period"}),e.jsx("div",{className:"text-xs font-bold text-cyan-300",children:E(t.orbital_period_seconds)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Speed"}),e.jsxs("div",{className:"text-xs font-bold text-cyan-300",children:[t.orbital_speed.toFixed(2)," m/s"]})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-cyan-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Tilt"}),e.jsxs("div",{className:"text-xs font-bold text-cyan-300",children:[t.axial_tilt.toFixed(2),"°"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-red-500/30",children:[e.jsx("div",{className:"text-xs text-gray-200 mb-2",children:"Surface Conditions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-red-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Temperature"}),e.jsx("div",{className:"text-xs font-bold text-red-300",children:_(t.surface_temperature)})]}),e.jsxs("div",{className:"bg-white/5 rounded p-1.5 border border-red-500/20",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Rotation"}),e.jsx("div",{className:"text-xs font-bold text-red-300",children:E(t.rotation_period_seconds)})]})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2 border border-yellow-500/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"text-xs text-gray-200",children:["Elements (",t.elements.length,")"]}),t.elements.length>4&&e.jsx("button",{onClick:()=>i(!u),className:"text-xs text-yellow-400 hover:text-yellow-300 transition-colors duration-300",children:u?"▲ Less":"▼ All"})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(u?t.elements:t.elements.slice(0,4)).map((r,d)=>e.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-300 px-1.5 py-0.5 rounded border border-yellow-500/30",children:r},d))})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Technical Data"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Status:"}),e.jsx("div",{className:"text-green-400 font-medium",children:"Visited"})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Planet:"}),e.jsx("div",{className:"text-white truncate font-medium",children:g(t.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"System:"}),e.jsx("div",{className:"text-white truncate font-medium",children:g(s.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"System ID:"}),e.jsxs("div",{className:"text-white font-medium",children:["#",s.index+1]})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Galaxy:"}),e.jsx("div",{className:"text-white truncate font-medium",children:g(a.name)})]}),e.jsxs("div",{className:"bg-white/5 rounded px-1.5 py-0.5",children:[e.jsx("span",{className:"text-gray-400",children:"Coordinates:"}),e.jsx("div",{className:"text-white font-medium",children:a.coordinates.join(", ")})]})]})]}),v&&m&&e.jsx(me,{effects:v,onToggleEffect:m})]})},ue=({planetUrl:t,imageUrl:s,planet:a,cosmicOriginTime:x,initialAngleRotation:f,onEffectsCreated:v,effects:m,onToggleEffect:u})=>{const i=o.useRef(null),l=o.useRef(null),[b,g]=o.useState("Aligning Stargate..."),[E,_]=o.useState(!1),[y,C]=o.useState(!1),[r,d]=o.useState(!1),[c,h]=o.useState(!0),[L,j]=o.useState(!0),[M,F]=o.useState(null),[B,O]=o.useState(null);o.useEffect(()=>{m&&u&&m.forEach(n=>{ce.toggleEffect(n.id,n.enabled)})},[m]),o.useEffect(()=>{const n=document.createElement("style");return n.textContent=`
      [data-rmiz-modal-overlay="visible"] {
        background-color: rgba(0, 0, 0, 0.8) !important;
        backdrop-filter: blur(20px) !important;
        -webkit-backdrop-filter: blur(20px) !important;
        transition: backdrop-filter 0.3s ease-in-out !important;
      }
      
      [data-rmiz-modal-img] {
        border-radius: 1rem !important;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8) !important;
      }
      
      [data-rmiz-modal-overlay="hidden"] {
        backdrop-filter: blur(0px) !important;
        -webkit-backdrop-filter: blur(0px) !important;
        transition: backdrop-filter 0.3s ease-in-out !important;
      }
    `,document.head.appendChild(n),()=>{document.head.removeChild(n)}},[]),o.useEffect(()=>{const n=i.current;if(!n)return;const w=n.getContext("2d");if(!w)return;let R=[];const I=800;let T,A;const S=800;let k,D=.5;function P(){const p=n?.parentElement;if(!p||!n)return;const z=p.clientWidth,V=p.clientHeight;n.width=Math.min(z,S),n.height=Math.min(V,S),T=n.width/2,A=n.height/2}function X(){P(),R=[];for(let p=0;p<I;p++)R.push({x:Math.random()*(n?.width||800),y:Math.random()*(n?.height||800),z:Math.random()*(n?.width||800),o:Math.random()});W()}function W(){!n||!w||(w.clearRect(0,0,n.width,n.height),R.forEach(p=>{p.z-=D,p.z<=0&&(p.z=n.width,p.x=Math.random()*n.width,p.y=Math.random()*n.height,p.o=Math.random());const z=n.width/p.z,V=(p.x-T)*z+T,Y=(p.y-A)*z+A,K=2*z;w.beginPath(),w.fillStyle=`rgba(255, 255, 255, ${p.o})`,w.arc(V,Y,K,0,2*Math.PI),w.fill()}),D<60&&(D+=1),k=requestAnimationFrame(W))}X();const J=()=>P();return window.addEventListener("resize",J),()=>{window.removeEventListener("resize",J),k&&cancelAnimationFrame(k)}},[]),o.useEffect(()=>{if(s&&!c){const n=new Image;n.onload=()=>{l.current&&(l.current.src=s,C(!0),d(!0))},n.onerror=()=>{console.error("Failed to load planet image:",s),setTimeout(()=>{C(!0),d(!0)},1500)},n.src=s}else(c||!s)&&setTimeout(()=>{C(!0),d(!0)},1500)},[s,c]),o.useEffect(()=>{if(sessionStorage.getItem("stargateAnimationShown")){g("Stargate system aligned");return}sessionStorage.setItem("stargateAnimationShown","true"),_(!0);const w=(S,k)=>Array.from({length:k},()=>S[Math.floor(Math.random()*S.length)]).join(""),R=[{chars:"01",duration:40,iterations:20},{chars:"0123456789",duration:25,iterations:30},{chars:"0123456789ABCDEF",duration:20,iterations:40},{chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()-_=+[]{}|;:\\'\",.<>?/`~",duration:10,iterations:100}];let I=0,T=0;const A=()=>{if(I>=R.length){const k="Stargate system aligned";let D=0;g("");const P=()=>{D<k.length?(g(k.substring(0,D+1)),D++,setTimeout(P,30)):_(!1)};P();return}const S=R[I];g(w(S.chars,32)),T++,T>=S.iterations&&(I++,T=0),setTimeout(A,S.duration)};A()},[]);const U=()=>{h(!c),c||(C(!0),d(!0))};return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Planet Visualization"}),L&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:U,className:`px-3 py-1 text-xs font-medium rounded-full transition-all duration-300 ${c?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-gray-600 text-gray-200 hover:bg-gray-500"}`,children:c?"2D View":"3D View"})})]}),e.jsxs("div",{className:"relative w-full max-w-80 sm:max-w-96 aspect-square mx-auto bg-black/50 flex justify-center items-center rounded-xl overflow-hidden border-2 border-blue-400/30 mb-4",children:[e.jsx("canvas",{ref:i,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-[2500ms] ${r?"opacity-0":"opacity-100"}`,style:{filter:r?"blur(50px)":"none"}}),c&&y&&a&&e.jsx("div",{className:`absolute inset-0 w-full h-full transition-all duration-500 ${y?"opacity-100 blur-0":"opacity-0 blur-[25px]"}`,children:e.jsx(de,{planetName:a.name,containerClassName:"w-full h-full",autoRotate:!1,enableControls:!0,showDebugInfo:!1,onEffectsCreated:v,planetData:{name:a.name,diameter:a.diameter,density:a.density,gravity:a.gravity,mass:a.mass,orbital_radius:a.orbital_radius,orbital_period_seconds:a.orbital_period_seconds,rotation_period_seconds:a.rotation_period_seconds,surface_temperature:a.surface_temperature,axial_tilt:a.axial_tilt,planet_type:a.planet_type,atmosphere:a.atmosphere,elements:a.elements,initial_orbital_angle:a.initial_orbital_angle||0},cosmicOriginTime:x,initialAngleRotation:f,onDataLoaded:n=>{F(n)},onError:n=>{O(n),console.error("❌ Planet rendering error:",n)}})}),!c&&e.jsx("div",{className:`absolute inset-0 w-full h-full transition-all duration-500 ${y?"opacity-100 blur-0":"opacity-0 blur-[25px]"}`,children:y&&s?e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Q,{zoomMargin:20,classDialog:"backdrop-blur-3xl",children:e.jsx("img",{ref:l,className:"max-w-full max-h-full object-contain rounded-xl shadow-2xl shadow-blue-500/20",src:s,alt:"Planet visualization",style:{width:"100%",height:"100%",objectFit:"contain",backgroundColor:"transparent"}})})}):e.jsx("img",{ref:l,className:"w-full h-full object-cover",src:"/static/images/placeholder-min.jpg",alt:"Planet visualization"})}),L&&e.jsx("div",{className:"absolute top-2 right-2 bg-black/70 text-white px-2 py-1 rounded text-xs",children:c?"🌍 3D":"🖼️ 2D"})]}),e.jsxs("div",{className:"text-center mt-auto",children:[e.jsxs("a",{href:t,className:`inline-block px-4 py-2 bg-gradient-to-r from-slate-800 via-slate-700 to-slate-800 text-gray-200 font-medium text-sm rounded-lg border border-slate-600 hover:border-slate-500 shadow-md hover:shadow-lg transition-all duration-300 relative overflow-hidden group ${E?"animate-pulse":""}`,style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:[e.jsxs("span",{className:"relative z-10 font-mono flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.736 6.979C9.208 6.193 9.696 6 10 6s.792.193 1.264.979a1 1 0 001.715-1.029C12.279 4.784 11.232 4 10 4s-2.279.784-2.979 1.95a1 1 0 001.715 1.029zM8.5 10a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM10 14c-.304 0-.792-.193-1.264-.979a1 1 0 00-1.715 1.029C7.721 15.216 8.768 16 10 16s2.279-.784 2.979-1.95a1 1 0 00-1.715-1.029C10.792 13.807 10.304 14 10 14z",clipRule:"evenodd"})}),b]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-slate-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-500 text-center",children:["Gateway to the stars",c&&M&&e.jsxs("div",{className:"ml-2 text-blue-400 mt-1",children:["• ",M.planet_info?.type," Planet",M.atmosphere&&e.jsx("span",{className:"text-purple-400",children:" • Atmosphere"}),M.rings?.has_rings&&e.jsx("span",{className:"text-yellow-400",children:" • Rings"})]}),c&&B&&e.jsx("div",{className:"ml-2 text-red-400 mt-1",children:"• Rendering Error"})]})]})]})},ge=({currentPlanet:t,system:s,galaxy:a,systemPlanets:x})=>{const[f,v]=o.useState(null),[m,u]=o.useState(null),[i,l]=o.useState(!1),[b,g]=o.useState(!1),[E,_]=o.useState(!0);o.useEffect(()=>{if(x&&x.length>0){const r=x.findIndex(d=>d.name.toLowerCase()===t.toLowerCase());r!==-1?(r>0?(v(x[r-1].name.toLowerCase()),l(!0)):s.index>0?(v("__prev_system__"),l(!0)):l(!1),r<x.length-1?(u(x[r+1].name.toLowerCase()),g(!0)):(u("__next_system__"),g(!0))):(l(!1),g(!1))}else l(!1),g(!1);_(!1)},[t,s.index,x]);const y=async()=>{const r=a.coordinates.join(",");if(f==="__prev_system__"){if(!N.canAffordTravel("system",1)){N.executeTravel("system",1);return}if(!N.executeTravel("system",1))return;try{const c=await fetch(`/system/${s.index-1}`,{headers:{Accept:"application/json"}});if(c.ok){const h=await c.json();if(h.system&&h.system.planets&&h.system.planets.length>0){const j=h.system.planets[h.system.planets.length-1].name.toLowerCase();$(r,s.index-1,j,h.system.planets),G(r,s.index-1),window.location.href=`/planet/${j}`;return}}window.location.href=`/system/${s.index-1}`}catch{window.location.href=`/system/${s.index-1}`}}else if(f){if(!N.canAffordTravel("planet",1)){N.executeTravel("planet",1);return}if(!N.executeTravel("planet",1))return;$(r,s.index,f,x),window.location.href=`/planet/${f}`}},C=async()=>{const r=a.coordinates.join(",");if(m==="__next_system__"){if(!N.canAffordTravel("system",1)){N.executeTravel("system",1);return}if(!N.executeTravel("system",1))return;try{const c=await fetch(`/system/${s.index+1}`,{headers:{Accept:"application/json"}});if(c.ok){const h=await c.json();if(h.system&&h.system.planets&&h.system.planets.length>0){const j=h.system.planets[0].name.toLowerCase();$(r,s.index+1,j,h.system.planets),G(r,s.index+1),window.location.href=`/planet/${j}`;return}}window.location.href=`/system/${s.index+1}`}catch{window.location.href=`/system/${s.index+1}`}}else if(m){if(!N.canAffordTravel("planet",1)){N.executeTravel("planet",1);return}if(!N.executeTravel("planet",1))return;$(r,s.index,m,x),window.location.href=`/planet/${m}`}};return E?null:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:y,disabled:!i,className:`flex items-center justify-center px-3 py-1.5 rounded-lg transition-all duration-200 ${i?"bg-white/10 hover:bg-white/20 border border-white/20 text-white hover:text-blue-300":"bg-white/5 border border-white/10 text-gray-600 cursor-not-allowed"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:C,disabled:!b,className:`flex items-center justify-center px-3 py-1.5 rounded-lg transition-all duration-200 ${b?"bg-white/10 hover:bg-white/20 border border-white/20 text-white hover:text-blue-300":"bg-white/5 border border-white/10 text-gray-600 cursor-not-allowed"}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})})},pe=({planet:t,system:s,galaxy:a,planet_url:x,version:f,image_url:v,cosmic_origin_time:m,initial_angle_rotation:u})=>{const[i]=o.useState(a.coordinates.join(",")),[l,b]=o.useState([]),g=r=>{b(r)},E=(r,d)=>{b(c=>c.map(h=>h.id===r?{...h,enabled:d}:h))};o.useEffect(()=>{document.body.setAttribute("data-coordinates",i),document.body.setAttribute("data-system-index",s.index.toString()),document.body.setAttribute("data-planet-name",t.name.toLowerCase()),$(i,s.index,t.name,s.planets||[]),G(i,s.index)},[i,s.index,t.name]);const _=r=>r.replace(/_/g," "),y=r=>r.replace(/_/g," "),C=r=>r.replace(/_/g," ");return e.jsxs("div",{className:"w-full h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-auto",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),e.jsx(ae,{}),e.jsxs("div",{className:"relative z-10 pt-1",children:[e.jsx(re,{}),e.jsxs("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex items-center justify-center gap-4 mb-4",children:e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:["Planet '",_(t.name),"'"]})}),e.jsxs("p",{className:"text-lg sm:text-xl text-gray-300",children:["in System '",y(s.name),"' - Galaxy '",C(a.name),"'"]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-400",children:["Coordinates ",a.coordinates.join(", ")]})]}),e.jsx(ge,{currentPlanet:t.name,system:s,galaxy:a,systemPlanets:s.planets||[]}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-[400px_1fr] gap-6 lg:gap-8 relative",children:[e.jsx("div",{className:"order-1 lg:order-1",children:e.jsx(ue,{planetUrl:x,imageUrl:v,planet:t,cosmicOriginTime:m,initialAngleRotation:u,onEffectsCreated:g,effects:l,onToggleEffect:E})}),e.jsx("div",{className:"hidden lg:block absolute left-[416px] top-0 bottom-0 w-1 rounded-full bg-white/10 -translate-x-1.5"}),e.jsx("div",{className:"order-2 lg:order-2",children:e.jsx(he,{planet:t,system:s,galaxy:a,cosmicOriginTime:m,initialAngleRotation:u,effects:l,onToggleEffect:E})})]})}),e.jsx("div",{className:"bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 mb-8 shadow-2xl p-4 sm:p-6 text-center",children:e.jsx("button",{onClick:()=>window.location.href=`/system/${s.index}`,className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-gray-600 via-gray-700 to-gray-600 hover:from-gray-700 hover:via-gray-800 hover:to-gray-700 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg backdrop-blur-sm",children:e.jsxs("span",{className:"text-base sm:text-lg",children:["← Back to System '",y(s.name),"'"]})})})]}),e.jsx(xe,{version:f})]}),e.jsx(ne,{currentLocation:{type:"planet",name:t.name,coordinates:a.coordinates.join(","),systemIndex:s.index,planetName:t.name}})]})};document.addEventListener("DOMContentLoaded",async()=>{try{const t=document.getElementById("planet-data"),s=document.getElementById("system-data"),a=document.getElementById("galaxy-data"),x=document.getElementById("meta-data");if(!t||!s||!a||!x){console.error("Missing required data elements");return}const f=JSON.parse(t.textContent||"{}"),v=JSON.parse(s.textContent||"{}"),m=JSON.parse(a.textContent||"{}"),u=JSON.parse(x.textContent||"{}"),i={planet:f,system:v,galaxy:m,planet_url:u.planet_url,version:u.version,image_url:u.image_url,cosmic_origin_time:u.cosmic_origin_time,initial_angle_rotation:u.initial_angle_rotation},l=document.getElementById("atlas-react-root");l&&Z.createRoot(l).render(ee.createElement(pe,i))}catch(t){console.error("Error initializing Planet React app:",t)}});
