import{r as g,j as a,c as It}from"./atlas_BiACxVxc6cO5okV5F68Rd.js";import{V as Ft}from"./atlas_DrLTn8mjMle6vK3_h1E1S.js";import{W as Ut}from"./atlas_hV4YbJX4LmBeaYZmYRF0y.js";import{E as kt,R as Bt,U as Gt,S as ut}from"./atlas_7nMzc3Dql9nxsSiWM62af.js";import{a2 as Vt,C as tt,a3 as Ot,f as qt,G as Ht,z as Q,V as et,l as Wt,M as at,A as W,B as ht,a as G,X as pt,P as ft,b as Lt,q as Xt,v as _t,R as $t}from"./atlas_BOOzg5XYrrU1N4SZySfRd.js";import"./atlas_5StMBQg7EZ_DcUhMgqODi.js";import"./atlas_CkL02Wqzuo1RtTjRZ4BLy.js";const Yt=({animationType:V,onAnimationComplete:h})=>{const R=g.useRef(null),D=g.useRef(null),E=g.useRef(null),L=g.useRef(null),I=g.useRef(null),O=g.useRef(null),[q,J]=g.useState(!1),X=()=>{const m=document.createElement("canvas");m.width=64,m.height=64;const u=m.getContext("2d");u.clearRect(0,0,64,64);const y=u.createRadialGradient(32,32,0,32,32,32);y.addColorStop(0,"rgba(255,255,255,1.0)"),y.addColorStop(.3,"rgba(255,255,255,0.8)"),y.addColorStop(.7,"rgba(255,255,255,0.2)"),y.addColorStop(1,"rgba(255,255,255,0.0)"),u.fillStyle=y,u.beginPath(),u.arc(32,32,32,0,Math.PI*2),u.fill();const C=new _t(m);return C.premultiplyAlpha=!1,C.format=$t,C},i={uniforms:{tDiffuse:{value:null},distortion:{value:0},time:{value:0}},vertexShader:`
      varying vec2 vUv;
      void main() {
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
      }
    `,fragmentShader:`
      uniform sampler2D tDiffuse;
      uniform float distortion;
      uniform float time;
      varying vec2 vUv;
      
      void main() {
        vec2 center = vec2(0.5, 0.5);
        vec2 direction = vUv - center;
        float distance = length(direction);
        
        float aberration = distortion * distance;
        
        vec2 redOffset = direction * aberration * 1.5;
        vec2 greenOffset = direction * aberration;
        vec2 blueOffset = direction * aberration * 0.5;
        
        float red = texture2D(tDiffuse, vUv + redOffset).r;
        float green = texture2D(tDiffuse, vUv + greenOffset).g;
        float blue = texture2D(tDiffuse, vUv + blueOffset).b;
        
        gl_FragColor = vec4(red, green, blue, 1.0);
      }
    `},U={uniforms:{tDiffuse:{value:null},distortionAmount:{value:0},time:{value:0}},vertexShader:`
      varying vec2 vUv;
      void main() {
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
      }
    `,fragmentShader:`
      uniform sampler2D tDiffuse;
      uniform float distortionAmount;
      uniform float time;
      varying vec2 vUv;
      
      void main() {
        vec2 center = vec2(0.5, 0.5);
        vec2 uv = vUv;
        
        vec2 direction = uv - center;
        float distance = length(direction);
        
        float waveDistortion = sin(distance * 20.0 + time * 10.0) * distortionAmount * 0.02;
        float radialDistortion = distance * distortionAmount * 0.1;
        
        uv += direction * (waveDistortion + radialDistortion);
        
        gl_FragColor = texture2D(tDiffuse, uv);
      }
    `},yt=()=>{if(R.current)try{const m=new Vt;m.background=new tt(17),D.current=m;const u=new Ot(75,window.innerWidth/window.innerHeight,.01,1e3);u.position.set(0,0,.1),L.current=u;const y=new Ut({antialias:!0,alpha:!1});y.setSize(window.innerWidth,window.innerHeight),R.current.appendChild(y.domElement),E.current=y;const C=new kt(y),bt=new Bt(m,u);C.addPass(bt);const wt=new Gt(new qt(window.innerWidth,window.innerHeight),.3,.6,.3);C.addPass(wt);const Mt=new ut(U);C.addPass(Mt);const St=new ut(i);C.addPass(St),I.current=C;const nt=(t,o)=>{const s=new Ht,p=new Q({color:16777215,transparent:!0,opacity:.8});return[[[-t/2,-t/2,t/2],[t/2,-t/2,t/2]],[[t/2,-t/2,t/2],[t/2,t/2,t/2]],[[t/2,t/2,t/2],[-t/2,t/2,t/2]],[[-t/2,t/2,t/2],[-t/2,-t/2,t/2]],[[-t/2,-t/2,-t/2],[t/2,-t/2,-t/2]],[[t/2,-t/2,-t/2],[t/2,t/2,-t/2]],[[t/2,t/2,-t/2],[-t/2,t/2,-t/2]],[[-t/2,t/2,-t/2],[-t/2,-t/2,-t/2]],[[-t/2,-t/2,-t/2],[-t/2,-t/2,t/2]],[[t/2,-t/2,-t/2],[t/2,-t/2,t/2]],[[t/2,t/2,-t/2],[t/2,t/2,t/2]],[[-t/2,t/2,-t/2],[-t/2,t/2,t/2]]].forEach(([f,v])=>{const d=new et(f[0],f[1],f[2]),x=new et(v[0],v[1],v[2]),T=x.clone().sub(d).length(),B=new Wt(o,o,T,8),j=new at(B,p);j.position.copy(d.clone().add(x).multiplyScalar(.5)),j.lookAt(x),j.rotateX(Math.PI/2),s.add(j)}),s},c=nt(10,.05);m.add(c);const A=nt(10,.05);A.children.forEach(t=>{const o=c.children[0].material;t.material=new Q({color:o.color.clone(),transparent:!0,opacity:0,blending:W})}),A.position.copy(c.position),m.add(A);const jt=new Float32Array([0,0,0]),Ct=new Float32Array([1,1,1]),At=new Float32Array([10]),_=new ht;_.setAttribute("position",new G(jt,3)),_.setAttribute("color",new G(Ct,3)),_.setAttribute("size",new G(At,1));const $=new pt({size:7,vertexColors:!0,blending:W,transparent:!0,alphaTest:.01,map:X()}),Pt=new ft(_,$);m.add(Pt);const P=7500,S=new Float32Array(P*3),Y=new Float32Array(P*3),ot=new Float32Array(P),K=new Float32Array(P*3),k=new Float32Array(P*3),Dt=new Float32Array(P),z=[];for(let t=0;t<P;t++){const o=3+Math.floor(Math.random()*3);let s=1/0,p=0,b=0,f=0;for(let d=0;d<o;d++){const x=(Math.random()-.5)*10,N=(Math.random()-.5)*10,T=(Math.random()-.5)*10,B=Math.sqrt(x*x+N*N+T*T),j=Math.pow(Math.random(),1.8)+B*.1;j<s&&(s=j,p=x,b=N,f=T)}const v=Math.sqrt(p*p+b*b+f*f);z.push({index:t,x:p,y:b,z:f,distance:v,launchTime:Math.random()*3,speed:v>0?(2+Math.random()*3)/v:1})}for(let t=0;t<P;t++){const o=z[t];S[t*3]=0,S[t*3+1]=0,S[t*3+2]=0,K[t*3]=o.x,K[t*3+1]=o.y,K[t*3+2]=o.z,Dt[t]=o.distance,o.distance>0?(k[t*3]=o.x/o.distance,k[t*3+1]=o.y/o.distance,k[t*3+2]=o.z/o.distance):(k[t*3]=0,k[t*3+1]=0,k[t*3+2]=1);const s=Math.random()*.8+.4,p=Math.min(o.distance/5,1);Y[t*3]=s*(.2+p*.8),Y[t*3+1]=s*(.5+p*.5),Y[t*3+2]=s*(.8+p*.2),ot[t]=Math.random()*.8+.3}const H=new ht;H.setAttribute("position",new G(S,3)),H.setAttribute("color",new G(Y,3)),H.setAttribute("size",new G(ot,1));const rt=new pt({size:.1,vertexColors:!0,blending:W,transparent:!0,alphaTest:.01,depthWrite:!1,map:X()}),st=new ft(H,rt);m.add(st);const Z=[];for(let t=0;t<8;t++){const o=new at(new Lt(1,32,32),new Q({color:new tt().setHSL(t*.08,1,.7),transparent:!0,opacity:0,wireframe:!0,blending:W}));Z.push(o),m.add(o)}const it=[],Et=200;for(let t=0;t<Et;t++){const o=new at(new Xt(.1,.1,.1),new Q({color:new tt().setHSL(Math.random()*.2,1,.8),transparent:!0,opacity:0,blending:W}));o.userData={direction:new et((Math.random()-.5)*2,(Math.random()-.5)*2,(Math.random()-.5)*2).normalize(),speed:Math.random()*10+5,life:Math.random()*2+1},it.push(o),m.add(o)}let Nt=Date.now();const ct=()=>{const t=(Date.now()-Nt)/1e3,o=8,s=1.5,p=I.current,b=p?.passes[1],f=p?.passes[2],v=p?.passes[3],d=Math.min(t/s,1),x=t<s;if(b&&f&&v)if(x){const e=Math.sin(d*Math.PI);b.strength=.2+e*.4,b.radius=.5+e*.1,f.uniforms.distortionAmount.value=e*2.5,f.uniforms.time.value=t,v.uniforms.distortion.value=e*.4,v.uniforms.time.value=t}else{const e=Math.max(0,1-(t-s)/2);b.strength=.3+e*.4,b.radius=.6+e*.1,f.uniforms.distortionAmount.value=e*.1,f.uniforms.time.value=t,v.uniforms.distortion.value=e*.03,v.uniforms.time.value=t}if(x){const e=d<.2?Math.sin(d*Math.PI*10)*.5+1:Math.max(0,1-d*2);Z.forEach((n,l)=>{const w=l*.08,M=Math.max(0,d-w);if(M>0){const F=M*(40+l*8);n.scale.setScalar(F),n.material.opacity=Math.max(0,1.2-l*.1-M*.8)}}),it.forEach(n=>{const l=d*n.userData.life;if(l>0){const w=l*n.userData.speed,M=n.userData.direction.clone().multiplyScalar(w);n.position.copy(M),n.material.opacity=Math.max(0,1-l/n.userData.life),n.rotation.x+=.2,n.rotation.y+=.15,n.rotation.z+=.25}}),u.fov=75+Math.sin(d*Math.PI)*40,u.updateProjectionMatrix();const r=Math.sin(t*80)*.5+1;$.size=15+r*20*(1-d),$.opacity=Math.min(1.5,1+e*.8-d)}else{$.opacity=0;const e=t-s,r=2;if(e<r){const n=e/r;Z.forEach((l,w)=>{l.material.opacity=Math.max(0,(.3-w*.05)*(1-n))})}else Z.forEach(n=>{n.material.opacity=0})}const N=t<s?d*.1:.1+(1-.1)*Math.pow(Math.min((t-s)/2,1),.7);for(let e=0;e<P;e++){const r=z[e],n=r.launchTime,l=r.speed;if(t>n){const w=t-n,M=Math.min(w*l,1),F=Math.pow(M,.8);S[e*3]=r.x*F*N,S[e*3+1]=r.y*F*N,S[e*3+2]=r.z*F*N}else S[e*3]=0,S[e*3+1]=0,S[e*3+2]=0}if(H.attributes.position.needsUpdate=!0,rt.opacity=Math.min(t*1.2,1),t<s*.3)c.scale.setScalar(.01),c.rotation.x=0,c.rotation.y=0,c.rotation.z=0;else if(t<s){const e=(d-.3)/.7,r=Math.pow(e,.3)*.8,n=(1-e)*.5,l={x:(Math.random()-.5)*n,y:(Math.random()-.5)*n,z:(Math.random()-.5)*n};c.scale.setScalar(r),c.position.set(l.x,l.y,l.z),c.rotation.x=t*(1.5+Math.sin(t*20)*1),c.rotation.y=t*(2+Math.cos(t*15)*1.5),c.rotation.z=t*(1+Math.sin(t*25)*.5)}else{const e=t-s,r=.8;if(e<r){const F=e/r,Rt=1-Math.pow(F,2);c.position.multiplyScalar(Rt)}else c.position.set(0,0,0);const n=.8+Math.pow(Math.min(e/3,1),.5)*.2;c.scale.setScalar(n);const l=Math.min(e/1,1),w=.2+e*.7,M=t*w*l;c.rotation.x=Math.sin(M*.7)*.3,c.rotation.y=M*.8,c.rotation.z=Math.cos(M*.5)*.25}if(st.rotation.copy(c.rotation),A.position.set(0,0,0),A.rotation.copy(c.rotation),x)A.children.forEach(e=>{const r=e.material;r.opacity=0});else{const e=t-s;if(e>0){const r=1+e*50;A.scale.setScalar(r);const n=Math.max(0,.9-e*.4);A.children.forEach(l=>{const w=l.material;w.opacity=n})}else A.children.forEach(r=>{const n=r.material;n.opacity=0})}let T=8;if(!x){const e=t-s;T=Math.max(2,8-e*.8)}const B=T+Math.sin(t*.3)*1,j=t*.15,Tt=Math.sin(t*.08)*2;let lt=Math.cos(j)*B,dt=Tt,mt=Math.sin(j)*B;if(x){const e=Math.sin(d*Math.PI)*.8;lt+=(Math.random()-.5)*e,dt+=(Math.random()-.5)*e,mt+=(Math.random()-.5)*e}if(u.position.set(lt,dt,mt),u.lookAt(0,0,0),I.current?I.current.render():y.render(m,u),t>o&&h){h();return}O.current=requestAnimationFrame(ct)};ct()}catch{}};return g.useEffect(()=>{V&&!q&&(J(!0),setTimeout(()=>{yt()},100))},[V,q]),g.useEffect(()=>()=>{O.current&&cancelAnimationFrame(O.current),E.current&&R.current&&E.current.domElement.parentNode&&(R.current.removeChild(E.current.domElement),E.current.dispose())},[]),q?a.jsx("div",{ref:R,className:"fixed inset-0 z-50 bg-black",style:{width:"100vw",height:"100vh"}}):null},Zt=({version:V})=>{const[h,R]=g.useState(""),[D,E]=g.useState("selection"),[L,I]=g.useState(null),O=[{value:"default",title:"The Core Continuum",description:"Venture into the primordial universe where time and space converge for you, exploring the vast cosmos we all traverse as a single entity."},{value:"custom",title:"Design the Multiverse",description:"Generate a personal universe with its own seed and cosmic origin time, a completely unique creation entirely shaped by your decision."}],q=i=>{R(i)},J=i=>{i.preventDefault(),!(!h||D!=="selection")&&(E("animating"),I(h==="default"?"core":"multiverse"))},X=()=>{E("redirecting"),I(null),setTimeout(()=>{const i=document.createElement("form");i.method="POST",i.action="/onboarding";const U=document.createElement("input");U.type="hidden",U.name="universe_type",U.value=h,i.appendChild(U),document.body.appendChild(i),i.submit()},1e3)};return a.jsxs(a.Fragment,{children:[L&&a.jsx("div",{className:"fixed inset-0 bg-black z-50 opacity-0 animate-fade-in",children:a.jsx(Yt,{animationType:L,onAnimationComplete:X})}),a.jsxs("div",{className:`w-full h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-auto transition-opacity duration-500 ${D!=="selection"?"opacity-0 pointer-events-none":"opacity-100"}`,children:[a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("header",{className:"bg-black/20 backdrop-blur-md border-b border-white/10 px-4 sm:px-6 py-6",children:a.jsxs("div",{className:"w-full flex flex-col items-center space-y-4",children:[a.jsx("img",{src:"/static/atlas-logo.jpg",alt:"Atlas Logo",className:"h-16 w-16 sm:h-20 sm:w-20 rounded-full border-2 border-cyan-400 shadow-lg animate-pulse"}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Atlas Initialization Protocol"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-300 mt-2",children:"Quantum Navigation System Startup Sequence"})]})]})}),a.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("form",{onSubmit:J,className:"space-y-8",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Will you journey through a shared universe or forge a new one of your own?"})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 mb-12",children:O.map(i=>a.jsx("div",{onClick:()=>q(i.value),className:`
                        relative group cursor-pointer transition-all duration-500 transform hover:scale-105
                        ${h===i.value?"shadow-2xl shadow-cyan-400/25 scale-105":"hover:shadow-xl hover:shadow-blue-500/20"}
                      `,children:a.jsxs("div",{className:"bg-gradient-to-br from-slate-800/80 via-slate-700/80 to-slate-800/80 backdrop-blur-lg rounded-2xl border border-white/10 p-6 sm:p-8 h-full",children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("div",{className:`
                            w-6 h-6 rounded-full border-2 transition-all duration-300
                            ${h===i.value?"bg-cyan-400 border-cyan-400 shadow-lg shadow-cyan-400/50":"border-gray-400 group-hover:border-cyan-400"}
                          `,children:h===i.value&&a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-ping"})})})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent",children:i.title}),a.jsx("p",{className:"text-gray-300 leading-relaxed text-sm sm:text-base",children:i.description})]}),a.jsx("div",{className:`
                          absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300
                          bg-gradient-to-br from-cyan-500/10 via-blue-500/10 to-purple-500/10
                          ${h===i.value?"opacity-20":""}
                        `})]})},i.value))}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{type:"submit",disabled:!h||D!=="selection",className:`
                      relative overflow-hidden group px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-500 transform
                      ${h&&D==="selection"?"bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 text-white shadow-2xl shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-110 active:scale-95":"bg-gray-600 text-gray-400 cursor-not-allowed"}
                    `,children:[h&&D==="selection"&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 opacity-20 group-hover:opacity-40 transition-opacity duration-300"}),a.jsx("span",{className:"relative z-10",children:a.jsx("span",{children:h?"Initialize Protocol":"Select Universe Type"})})]})})]})})}),a.jsx(Ft,{version:V})]})]}),D==="redirecting"&&a.jsx("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-cyan-400 border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-cyan-400 text-xl font-semibold",children:"Atlas Initialization Protocol Finished"})]})})]})},vt=document.querySelector('meta[name="atlas-version"]'),xt=document.querySelector('meta[name="atlas-version-hash"]'),Qt={version:vt&&vt.getAttribute("content")||"1.0.0",versionHash:xt&&xt.getAttribute("content")||""},gt=document.getElementById("atlas-react-root");gt&&It.createRoot(gt).render(g.createElement(Zt,Qt));
