import{r as u,j as n}from"./atlas_BG-O7ORrd1CIuvq6sOIEu.js";const _=1440*60,v=30.44*_,E=365.25*_,e={ZONE_1_END:.25,ZONE_2_END:.5,ZONE_3_END:.75,TIME_1:_,TIME_2:v,TIME_3:E,TIME_4:100*E},$=a=>{const s=a/100,i=Math.abs(s),l=s>=0?1:-1;let o;if(i<=e.ZONE_1_END)o=i/e.ZONE_1_END*e.TIME_1;else if(i<=e.ZONE_2_END){const r=(i-e.ZONE_1_END)/(e.ZONE_2_END-e.ZONE_1_END);o=e.TIME_1+r*(e.TIME_2-e.TIME_1)}else if(i<=e.ZONE_3_END){const r=(i-e.ZONE_2_END)/(e.ZONE_3_END-e.ZONE_2_END);o=e.TIME_2+r*(e.TIME_3-e.TIME_2)}else{const r=(i-e.ZONE_3_END)/(1-e.ZONE_3_END);o=e.TIME_3+r*(e.TIME_4-e.TIME_3)}return l*o},j=a=>{const s=Math.abs(a),i=a>=0?1:-1;let l;if(s<=e.TIME_1)l=s/e.TIME_1*e.ZONE_1_END;else if(s<=e.TIME_2){const o=(s-e.TIME_1)/(e.TIME_2-e.TIME_1);l=e.ZONE_1_END+o*(e.ZONE_2_END-e.ZONE_1_END)}else if(s<=e.TIME_3){const o=(s-e.TIME_2)/(e.TIME_3-e.TIME_2);l=e.ZONE_2_END+o*(e.ZONE_3_END-e.ZONE_2_END)}else{const o=(s-e.TIME_3)/(e.TIME_4-e.TIME_3);l=e.ZONE_3_END+o*(1-e.ZONE_3_END)}return i*l*100},O=a=>{const s=a>=0?"+":"",i=Math.abs(a),l=i/_,o=i/v,r=i/E;if(i<3600){const c=a/60;return`${s}${c.toFixed(0)}min`}else{if(l<1)return`${s}${(a/3600).toFixed(1)}h`;if(o<1)return`${s}${(a/_).toFixed(1)}d`;if(r<1)return`${s}${(a/v).toFixed(1)}mo`;if(r<10)return`${s}${(a/E).toFixed(2)}y`}return`${s}${(a/E).toFixed(1)}y`},S=({sliderPosition:a,timeOffset:s,onSliderChange:i,onReset:l,minTimeOffset:o})=>{const r=u.useRef(null),[c,M]=u.useState(!1),h=o!==void 0?Math.max(-100,j(o)):-100,x=o!==void 0?(100-h)/200*100:100,b=u.useCallback(t=>{if(!r.current)return 0;const d=r.current.getBoundingClientRect(),N=(1-(t-d.top)/d.height)*200-100;return Math.max(h,Math.min(100,N))},[h]),y=u.useCallback(t=>{M(!0),i(b(t))},[i,b]),g=u.useCallback(t=>{c&&i(b(t))},[c,i,b]),m=u.useCallback(()=>{M(!1)},[]),w=t=>{t.preventDefault(),y(t.clientY)},T=t=>{y(t.touches[0].clientY)};u.useEffect(()=>{const t=p=>g(p.clientY),d=p=>{p.touches.length>0&&g(p.touches[0].clientY)},f=()=>m(),N=()=>m();return c&&(window.addEventListener("mousemove",t),window.addEventListener("mouseup",f),window.addEventListener("touchmove",d,{passive:!0}),window.addEventListener("touchend",N)),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",f),window.removeEventListener("touchmove",d),window.removeEventListener("touchend",N)}},[c,g,m]);const D=(100-a)/200*100,I=[{position:0,label:"+100y",side:"future"},{position:12.5,label:"+1y",side:"future"},{position:25,label:"+1mo",side:"future"},{position:37.5,label:"+1d",side:"future"},{position:50,label:"NOW",side:"center"},{position:62.5,label:"-1d",side:"past"},{position:75,label:"-1mo",side:"past"},{position:87.5,label:"-1y",side:"past"},{position:100,label:"-100y",side:"past"}];return n.jsx("div",{className:"absolute right-0 top-0 h-full flex items-center z-50",children:n.jsxs("div",{className:"h-full py-8 px-2 flex items-center",children:[n.jsxs("div",{className:"relative h-full mr-2 flex flex-col justify-between text-[10px] text-gray-400 select-none pointer-events-none",children:[I.map((t,d)=>n.jsx("span",{className:`absolute right-0 transform -translate-y-1/2 whitespace-nowrap ${t.side==="center"?"text-cyan-400 font-bold text-xs":""} ${t.side==="future"?"text-green-400/70":""} ${t.side==="past"?"text-orange-400/70":""}`,style:{top:`${t.position}%`},children:t.label},d)),o!==void 0&&x<100&&n.jsx("span",{className:"absolute right-0 transform -translate-y-1/2 whitespace-nowrap text-red-400 font-bold text-[9px] tracking-tight",style:{top:`${x}%`},children:"BIT BANG"})]}),n.jsxs("div",{className:"relative h-full flex items-center",children:[n.jsxs("div",{ref:r,className:"relative w-3 h-full bg-black/60 backdrop-blur-md rounded-full cursor-pointer border border-white/20 touch-none",onMouseDown:w,onTouchStart:T,children:[n.jsxs("div",{className:"absolute inset-0 rounded-full overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute inset-x-0 h-1/4 bg-gradient-to-b from-green-500/30 to-green-500/10",style:{top:"0%"}}),n.jsx("div",{className:"absolute inset-x-0 h-1/4 bg-gradient-to-b from-green-500/10 to-transparent",style:{top:"25%"}}),n.jsx("div",{className:"absolute inset-x-0 h-1/4 bg-gradient-to-b from-transparent to-orange-500/10",style:{top:"50%"}}),n.jsx("div",{className:"absolute inset-x-0 h-1/4 bg-gradient-to-b from-orange-500/10 to-orange-500/30",style:{top:"75%"}})]}),n.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-0.5 bg-cyan-400/60 pointer-events-none"}),[12.5,25,37.5,62.5,75,87.5].map(t=>n.jsx("div",{className:`absolute left-0 right-0 pointer-events-none ${t===25||t===75?"h-0.5 bg-white/30":"h-px bg-white/15"}`,style:{top:`${t}%`}},t)),o!==void 0&&x<100&&n.jsx("div",{className:"absolute left-0 right-0 h-1 bg-red-500/80 pointer-events-none shadow-[0_0_8px_rgba(239,68,68,0.6)]",style:{top:`${x}%`},title:"Bit Bang - Beginning of simulation"}),n.jsxs("div",{className:`absolute left-1/2 -translate-x-1/2 w-6 h-6 rounded-full transition-transform ${c?"scale-125":"scale-100"}`,style:{top:`calc(${D}% - 12px)`},children:[n.jsx("div",{className:"absolute inset-0 rounded-full bg-cyan-400/40 blur-sm"}),n.jsx("div",{className:"absolute inset-1 rounded-full bg-gradient-to-br from-cyan-400 to-cyan-600 border-2 border-white/50 shadow-lg"}),n.jsx("div",{className:"absolute inset-2 rounded-full bg-gradient-to-br from-white/40 to-transparent"})]})]}),n.jsxs("div",{className:"ml-2 flex flex-col items-center gap-2 h-full justify-center",children:[n.jsx("div",{className:`flex items-center justify-center text-xs font-mono font-bold rounded px-1 py-0.5 whitespace-nowrap ${s>0?"text-green-400 bg-green-900/30":s<0?"text-orange-400 bg-orange-900/30":"text-cyan-400 bg-cyan-900/30"}`,style:{writingMode:"vertical-rl",textOrientation:"mixed",transform:"rotate(180deg)",minHeight:"52px"},children:O(s)}),n.jsx("button",{onClick:l,className:`text-[9px] rounded transition-all border whitespace-nowrap px-1 py-0.5 ${s!==0?"bg-cyan-600/30 hover:bg-cyan-600/50 text-cyan-300 border-cyan-500/30":"bg-transparent text-transparent border-transparent pointer-events-none"}`,style:{writingMode:"vertical-rl",textOrientation:"mixed",transform:"rotate(180deg)",minHeight:"32px"},children:"Reset"})]})]})]})})};export{S as V,$ as s,j as t};
