import{S as u}from"./atlas_CtjRlAX5HR7UzNXl58rox.js";import{C as o}from"./atlas_C6UiBtzYYNZp5NEn_kUjD.js";const e={CURRENT_INTENSITY:{min:.3,max:.8},CURRENT_SCALE:{min:1,max:3},CURRENT_SPEED:{min:.1,max:.4},OPACITY:{min:.15,max:.35},TIME_SPEED:{min:.05,max:.2}};class E{layerMesh;material;params;layerSystem;startTime;constructor(i,r={}){this.layerSystem=i;const n=r.seed||Math.floor(Math.random()*1e6),t=new u(n);this.startTime=r.startTime||n%1e4/1e3;const c=r.currentColor instanceof o?r.currentColor:r.currentColor?new o(r.currentColor):new o(4889486),a=r.deepCurrentColor instanceof o?r.deepCurrentColor:r.deepCurrentColor?new o(r.deepCurrentColor):new o(2973010);this.params={currentColor:c,deepCurrentColor:a,currentIntensity:r.currentIntensity||t.uniform(e.CURRENT_INTENSITY.min,e.CURRENT_INTENSITY.max),currentScale:r.currentScale||t.uniform(e.CURRENT_SCALE.min,e.CURRENT_SCALE.max),currentSpeed:r.currentSpeed||t.uniform(e.CURRENT_SPEED.min,e.CURRENT_SPEED.max),secondaryCurrentIntensity:r.secondaryCurrentIntensity||t.uniform(e.CURRENT_INTENSITY.min*.6,e.CURRENT_INTENSITY.max*.6),secondaryCurrentScale:r.secondaryCurrentScale||t.uniform(e.CURRENT_SCALE.min*1.5,e.CURRENT_SCALE.max*1.5),secondaryCurrentSpeed:r.secondaryCurrentSpeed||t.uniform(e.CURRENT_SPEED.min*.7,e.CURRENT_SPEED.max*.7),opacity:r.opacity||t.uniform(e.OPACITY.min,e.OPACITY.max),transparency:r.transparency||.8,seed:n,startTime:this.startTime,timeSpeed:r.timeSpeed||t.uniform(e.TIME_SPEED.min,e.TIME_SPEED.max)},this.material=this.layerSystem.createOceanCurrentsLayerMaterial(this.params),this.layerMesh=this.layerSystem.addEffectLayer("oceanCurrents",this.material,this.layerSystem.getNextScaleFactor(),this)}update(i){const n=(this.startTime+Date.now()/1e3*this.params.timeSpeed)%2e3;this.material.uniforms.time&&(this.material.uniforms.time.value=n)}dispose(){}}function S(s,i,r){i.planet_info;const n=i.surface_elements||{},t=12345,c=new u(t+6e3);let a=new o(4889486),m=new o(2973010);n.ocean_currents&&n.ocean_currents.current_color&&(a=new o().fromArray(n.ocean_currents.current_color)),n.ocean_currents&&n.ocean_currents.deep_current_color&&(m=new o().fromArray(n.ocean_currents.deep_current_color));const C={currentColor:a,deepCurrentColor:m,currentIntensity:n.ocean_currents?.intensity||c.uniform(e.CURRENT_INTENSITY.min,e.CURRENT_INTENSITY.max),currentScale:n.ocean_currents?.scale||c.uniform(e.CURRENT_SCALE.min,e.CURRENT_SCALE.max),currentSpeed:n.ocean_currents?.speed||c.uniform(e.CURRENT_SPEED.min,e.CURRENT_SPEED.max),opacity:n.ocean_currents?.opacity||c.uniform(e.OPACITY.min,e.OPACITY.max),transparency:.8,seed:t};return new E(s,C)}export{E as O,S as c};
