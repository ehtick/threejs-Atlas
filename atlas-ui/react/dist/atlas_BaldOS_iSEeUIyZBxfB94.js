import{S as l}from"./atlas_CMUvaCD4mo7XQYkYXSJfw.js";import{C as m}from"./atlas_Ce3hh0hgxYWauQ_qSK6cl.js";const i={REFRACTION_INDEX:{min:2,max:2.8},DISPERSION:{min:.3,max:.8},CLARITY:{min:.6,max:.95},FACET_SIZE:{min:8,max:25},BRILLIANCE:{min:1.5,max:3},OPACITY:{min:.4,max:.85},PRISMATIC_INTENSITY:{min:.4,max:.9}};class S{layerMesh;material;params;layerSystem;constructor(r,e={}){this.layerSystem=r;const t=e.seed||Math.floor(Math.random()*1e6),n=new l(t),I=e.color instanceof m?e.color:e.color?new m(e.color):new m(16777215);this.params={color:I,refractionIndex:e.refractionIndex||n.uniform(i.REFRACTION_INDEX.min,i.REFRACTION_INDEX.max),dispersion:e.dispersion||n.uniform(i.DISPERSION.min,i.DISPERSION.max),clarity:e.clarity||n.uniform(i.CLARITY.min,i.CLARITY.max),facetSize:e.facetSize||n.uniform(i.FACET_SIZE.min,i.FACET_SIZE.max),brilliance:e.brilliance||n.uniform(i.BRILLIANCE.min,i.BRILLIANCE.max),opacity:e.opacity||n.uniform(i.OPACITY.min,i.OPACITY.max),seed:t,prismaticIntensity:e.prismaticIntensity||n.uniform(i.PRISMATIC_INTENSITY.min,i.PRISMATIC_INTENSITY.max)},this.material=this.layerSystem.createDiamondSurfaceLayerMaterial(this.params),this.layerMesh=this.layerSystem.addEffectLayer("diamondSurface",this.material,this.layerSystem.getNextScaleFactor(),this)}update(r){this.material.uniforms.time&&(this.material.uniforms.time.value+=r)}dispose(){}}function T(s,r,e){const t=r.surface||{},n=r.surface_elements||{},I=r.base_color||r.planet_info?.base_color||t.base_color,c=e||Math.floor(Math.random()*1e6),o=new l(c+8e3),f=o.uniform(.9,1.1),a=n.surface||t;return new S(s,{color:I?new m(I):new m(8421504),refractionIndex:a.refraction||o.uniform(i.REFRACTION_INDEX.min,i.REFRACTION_INDEX.max),dispersion:a.dispersion||o.uniform(i.DISPERSION.min,i.DISPERSION.max),clarity:a.clarity||o.uniform(i.CLARITY.min,i.CLARITY.max),facetSize:(a.facet_size||o.uniform(i.FACET_SIZE.min,i.FACET_SIZE.max))*f,brilliance:a.brilliance||o.uniform(i.BRILLIANCE.min,i.BRILLIANCE.max),opacity:o.uniform(i.OPACITY.min,i.OPACITY.max),seed:c,prismaticIntensity:a.prismatic||o.uniform(i.PRISMATIC_INTENSITY.min,i.PRISMATIC_INTENSITY.max)})}export{T as c};
